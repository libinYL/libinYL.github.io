<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>与爷爷有关的记忆</title>
      <link href="/2018/08/18/diary20180818/"/>
      <url>/2018/08/18/diary20180818/</url>
      <content type="html"><![CDATA[<p><strong>//此文仅作记忆承载。与爷爷有关的记忆，与家人有关的记忆。</strong></p><a id="more"></a><h1 id="逝去"><a href="#逝去" class="headerlink" title="逝去"></a>逝去</h1><p>(20180818)</p><p>2018年8月12日，农历七月初二，上午8点05分，爷爷停止了呼吸。</p><p>11日是周六。11点时，我刚刚从懒觉中醒来不久，错过了爸的第一个电话。待11点，爸又打来电话，说爷爷快不行了。我最怕的事情还是来了。三十分钟后，我从家里出发，打的到北宫门站，再地铁到北京站，路上买了火车票。火车一点多出发，大概三点四十左右到达廊坊北，之后是大概一小时，到中医院。</p><p>直到到医院前，我都没有意识到爷爷已经到了这么严重的情况，后来奶奶、爸、老姑也这么说。见到爷爷时，爷爷的脑门已经烧的烫手——奶奶说他中午烧到42度！我给他量了体温，38度8，奶奶松了一口气，毕竟低了一些。</p><p>爷爷的呼吸频率已经低的可怕，心跳的却极快。有好几次，我看着爷爷短促地吸气，又短促地呼出，接着就是可怕的停顿，时间长的我瞪大眼镜想着赶紧呼吸啊爷爷！然后又是短促的吸、呼……</p><p>我真的没有想到，我们都没有想到。爸说，爷爷已经在医院住了二十多天的院，是五年以来最久的一次；医生不愿再给他输退烧药，因为已经到达了时间上限。</p><p>我像往常一样贴近爷爷的脸，跟他说着话，告诉他我回来了。爷爷沉默了五年……五年啊。往常爷爷还能用眼球转过来看着我，现在眼睛都没有睁开。他的口腔上沿已经溃烂的不成样子，身体皮包着骨头。气管连接着铁管，鼻孔里的管道是唯一的进食方式；后来医生把管子抽出，末端是不忍心看的黑色。</p><p>下午，医生说，怎么都检查不出爷爷到底为什么发烧。老姑红着眼从医生的办公室出来，跟奶奶商量了一下。我们把爷爷推出病房，推到隔壁楼里，做了CT，再推回来。我没有听到医生对片子的评价。</p><p>十一点多，我去哄悦悦睡觉，老姑，爸轮流照顾爷爷。奶奶也没有睡。第二天五点多起床，爷爷的情况没有好转。</p><p>八点整，死神已经默默站在我身旁。</p><p>八点四分 爸看爷爷痰多，把他侧过身来拍背。当拍完转过身来，痰从气管流出来，是我无法想象的、呆着血丝的灰色粘液  爷爷脸憋得通红，眼睛没有睁开，身体无法动弹   窒息  那是窒息</p><p>// 我回想着那个情景，手指几乎打不出字</p><p>医生们赶了过来，竭力地抢救，我们着急的守候……</p><p>医生们紧张的注射药剂，增强呼吸，爷爷的胸膛始终没有再次起伏，脸上也没有了血色，逐渐变得发黄，发青。医生让护士继续抢救，把奶奶拉到一边，“人已经不行了，准备准备吧。” 我和老姑早已泪流满面。</p><p>奶奶和爸一开始还很镇定。爸也早已做好了心理准备。这几年，爸付出了太多。奶奶说，爸从来没有嫌弃过，只要能回家一定回家，晚上一定让奶奶睡觉，自己盯一晚上。奶奶说，爷爷去世前一晚，爸还想着再给爷爷买一台自动的吸痰器。</p><p>奶奶不住的跟爷爷说着话，一边不时看看旁边的监护器，企图找到些希望，直到医生最后撤下管子，奶奶仍然“老李，老李”地呼唤着。等到所有管子撤下，爸再也忍不住，“爸！爸！” 我生平第一次听到父亲的哭声。医生制止了爸，说医院不是哭嚎的地方。</p><p>奶奶指示我们给爷爷穿上早已准备好的、生前一直喜欢穿的大衣，手里攥着纸元宝，穿好裤子和鞋子。</p><p>最后，我们给爷爷穿好衣服，盖上了淡金色的布帛。</p><p>奶奶早就想到了这一天。五年来，奶奶日复一日地守在爷爷床头，爸只要下班就回家，给爷爷活动身子，老姑也是一边带孩子，一边照顾着爷爷。爷爷到临走前，尽管指甲和骨头因为营养不良而病变，可身上没有一块褥疮。奶奶为了爷爷的营养液操碎了心。由于爷爷只能从鼻孔下管流食喂养，奶奶每天都用榨汁机变着法地组合吃的，生怕他吃不了。爷爷的下腹部明显鼓起，自己没法用力，很多粪便都积在了肚子里，营养也吸收不够。奶奶见多了亲人的离去，爷爷的几次死里逃生，奶奶也抽空料理好了后事。爷爷后事的圆满，让我明白我根本没有长大。</p><h1 id="葬礼"><a href="#葬礼" class="headerlink" title="葬礼"></a>葬礼</h1><p>(20180819)</p><p>周日那天显得很长。</p><p>在爷爷呼吸停止后的几分钟，我们，所有医生，全部注视着爷爷，长时间的沉默。医生们离开了，奶奶、爸等人在阳台商量着后事。我一个人攥着爷爷的手，泪流满面，努力不发出声音。</p><p>二伯、任爷爷、爷爷的老战友赶来了。爸妈见到熟人就磕头，我才明白这是规矩。我们给爷爷穿好衣服后，把爷爷抬上担架，抬上救护车，在医院门口把爷爷抬进水晶棺。水晶棺，只是能制冷的铁皮棺材。</p><p>我和爸一起上了救护车，一直开到家里楼下，其他人也已经赶到。爸先前只通知了三两个战友，不一会一传十十传百，来了很多很多人。他们已经搭好了灵棚。大大的“奠”字，终究也落在了我的亲人之上。</p><p>我们把爷爷推进灵棚，给水晶棺通上电，爷爷就不会被自己腐蚀。“一条龙”的人为爷爷摆好大祭。我从楼上搬下了床垫。</p><p>姑奶奶，大伯大妈，二伯二妈，我的三个表格，先后在灵棚前跪下哭嚎。之后，爸和他的叔伯，还有我们几个孙子辈的孩子，以及妈，姐，老姑，二妈，姨奶奶，我的表姑、小表姑，都穿上白衣；男左女右跪在爷爷身旁。每当有人来，领事的人会发出“起着起着”，我们就会对外跪好，等他磕头或鞠躬，领事的人说“孝子还礼”，我们叫一声来的人，磕三个头。</p><p>爸的战友送来花圈和花篮，他们甚至成天地呆在爸的身旁，帮这帮那。</p><p>我听到了奶奶的哭声，所有人都听到了……那是撕心裂肺的痛哭，也是让我心碎的声音。</p><h1 id="病痛"><a href="#病痛" class="headerlink" title="病痛"></a>病痛</h1><p>(20180818)</p><p>我几乎没有为爷爷的康复付出努力，我为此愧疚不已，但身体动弹不得——我扪心自问，我甚至希望爷爷早一日解脱，因为那个样子简直生不如死！我曾想象过世间最痛苦的状态，那便是无手无脚无法移动自理，无嘴无鼻难以呼吸，看得到听得到却无法表达！这是人间地狱！多少次，我梦见爷爷对着我说话，我哭着惊醒，发现一场空。我只是曾经给爷爷活动过身体……倒过一点屎尿，哭出过一些眼泪，就再也没什么了……我没像爸一样勇敢的面对……</p><p>五年零两个月前，我和爷爷在北边租的平房里，聊着我手里捧着的《特别关注》，我随口问了爷爷一句什么，爷爷只是躺着笑，却不说话。我渐渐发现不对，一遍遍逼问，爷爷还是不说话。我叫来奶奶，爷爷好像很努力地要表达什么，但就是说不出话来。爷爷为了证明自己没事，提起院子里的垃圾桶去倒垃圾，我在旁边护着。不一会爷爷就走不稳。奶奶说让我先回家。晚上奶奶来了电话，说爷爷不太对劲。我急忙赶过去，爷爷坐在椅子上，看起来没有大碍，我和妈妈呆了一会儿，爷爷突然呕吐起来，我们惊慌失措。我打通120，支支吾吾说不出家的具体位置——那时不久前搬过去，而我一直上学。打完电话，我回到屋子，爷爷只是坐着，虚弱地笑着。急救车到了，我们把爷爷抬上担架，救护车上，爷爷仍然看着我微笑，我跟他做着鬼脸，安慰他不会有事。爷爷最后的几个音节是苦笑着的“他妈的”，奇怪自己为什么说不出话来。</p><p>亲戚们全都赶了过来。那附近的记忆已经难以记起。</p><p>后来，爷爷虽然意志清醒，但半个身子无法动弹，只能勉强拄着拐杖，用一边身子挪动身体。爷爷不会说话，但表情仍然丰富，笑的很开心。他看着自己之前写的字，扭扭歪歪用左手写出一个“毛”字。奶奶为了让爷爷康复，学着电视上的秘方做“保元汤”，还不知从哪找来了一个中医，花大价钱买了海马、人身、灵芝等等听起来很好的重要熬汤。爷爷到后来不愿吃药，指着中医摆出着急、嫌弃的表情。但只要我在旁边，就会逗爷爷开心，哈哈一笑，便吃了药。</p><!--我想起那时爷爷在床上拉了，捂着脸哭泣  好难过--><p>// 我阻止了自己的情绪</p><p>后来，大概是我（第一次）上大二的时候，正在办公室给申报奖学金的同学名册分类，爸突然打电话来。我摆脱周老师帮我办了缓考，乘高铁回家。到县医院时，爷爷也是发着高烧。爷爷被送进了ICU。我看到账单上“250000”这个数字。我的焦虑可能是从那时开始的。ICU每天有很短的探视时间，我进去后爷爷努力地把手指上的仪器脱下来，我给他带上，发现他的手脚被绑在病床的栏杆上，他不停的挣脱，我只能一边安慰他一边重新绑好。爷爷一直用力瞪我，失望地看着我。</p><p>// 难受啊</p><p>过了几天，奶奶说爷爷可能不行了，跟医生商量着（忘记是因为什么）只能把气管切开，从喉咙处接一个弯铁管，借助呼吸机来呼吸。很多亲戚都赶来了医院，待了两天左右，陆续回去。待我再看到爷爷，已经从气管切开，鼻子上插了一根管子。爷爷再也不能动弹了。</p><p>五年了，五年了。爷爷的病，从我大学开学的两个月前开始，一直持续到我大学毕业两个月后。爷爷受的苦痛太多了，太折磨了。我每想起他最后窒息的场景，就难受的要命……</p><h1 id="父亲"><a href="#父亲" class="headerlink" title="父亲"></a>父亲</h1><h1 id="母亲"><a href="#母亲" class="headerlink" title="母亲"></a>母亲</h1><h1 id="印象"><a href="#印象" class="headerlink" title="印象"></a>印象</h1><p>大概是从2014年，我开始害怕失去爷爷，再也看不到他，有时会对着他拍一些照片或视频。我心里会谴责自己……但是我现在后悔为什么没有再多拍一些！</p><p>与爷爷有关的（部分）照片</p><h1 id="记忆"><a href="#记忆" class="headerlink" title="记忆"></a>记忆</h1><ul><li>关于爷爷的记忆。</li></ul><p>爷爷闲时总是戴着个草帽，或者真的是个草帽，或者是一顶灰色圆帽。</p><p>爷爷为了让我睡午觉，把我抱在怀里，晃来晃去。本以为我已经睡着了，把我轻轻放在床上，我却醒了，看着面前满头大汗的爷爷，我说了一句“看你那个样儿”，把爷爷逗乐了。爷爷提起过很多次，每次提起都很开心。</p><p>爷爷经常给我讲三打白骨精和火焰山的故事。</p><p>我在刚会说话不久，会骑在爷爷脖子上，用手拍着他的光头，边拍边喊，“锄禾日当午，汗滴禾下土”。全家只有爷爷能忍我。</p><p>小时候看电视时，爷爷总会在我后背放上一个枕头。后来我才知道，那是防止驼背的很好的办法。</p><p>爷爷教我背九九乘法表，我背不好，爷爷说不用图快，背的时候哪怕想几秒也没事。爷爷教我背了三字经，背了很多。</p><p>爷爷问我，“1+1等于几” “等于2”，“100分！”“上学去！”爷爷没想到我会蹦出一句“上学(xiao)去(jie)”，被逗的哈哈大笑。</p><p>爸给我买了塔式起重机的玩具，我放在院子里玩。晚上要睡觉了，我刚要从院子里回屋，爷爷“咔嚓！”一声，把它给踩断了。我一回头，爷爷惊恐地看着我，好像生怕我会哭，我看着爷爷不知所措的表情笑了。</p><p>学前班时，爷爷到学校接我，在黑板上写上“我爱北京天安门”，炫耀他的字。</p><p>有次老师在黑板上抄了很多题，我自己抄不过来就哭，还流了鼻血，我绝望地大哭大叫，爷爷用超快的草书把题抄完，安慰我没有事。</p><p>小时候我在韩佳政家，爷爷看着我们俩比写字，爷爷总是夸他不夸我，我很憋屈。回到家，爷爷说，不能只说你写得好呀！</p><p>有次在平房卧室，爷爷教我写一二三四直到十，爷爷写一遍我在下边抄一遍。爷爷会夸张地感叹，“哟……怎么比我写的还好呀？”我听了当然开心不已，真的以为比爷爷写得好。</p><p>爷爷送我上学，每次我都坐在自行车的大梁上。</p><p>有次快迟到了，我外衣的拉锁怎么也拉不上，爷爷一用力，给拉断了，说了句，“得！”然后用嫌弃的眼光看着我的衣服。我当时很疑惑，明明是你把拉链拉断了，怎么还发出抱怨的声音呢？</p><p>小时候，爷爷经常给我摊鸡蛋饼，爷爷称之为“鸡蛋片儿”。爷爷经常给我做炒土豆丝，有时会和鸡蛋一起炒。爷爷口味重，放很多酱油，土豆的颜色很深，后来没见过颜色这么深的炒土豆了。</p><p>爷爷教我乘除法，列竖式，我做的不亦乐乎，做完一道又一道。</p><p>老姑夫送给我两本书，分别是二三年级的奥数。爷爷为了提高我的数学水平，经常挑其中的题给我做；每次他都要先自己学一遍，会做了才教给我做。</p><p>爷爷还给我制定了一套规则，每做出一道题，视难度给予一定的奖励，一道难题奖励一块，一道简单题奖励五毛。后来我为了快速得到钱，会偷偷看书本的答案。</p><p>有段时间我常在中午边吃饭边看电视，我只要一回头，爷爷就往我碗里飞快地添一筷子豆芽，我还纳闷怎么越吃越多。</p><p>爷爷常鼓励我吃木耳，说它是用来清理身体里的头发的，我信了。</p><p>有段时间祁炳昊被他爸妈寄托在我家住了一个月，我有时会欺负他。他午觉睡的很快，很令我羡慕。</p><p>有一次下午放学，下起瓢泼大雨，我没见到接我的爷爷，直接冒着大雨跑回了家，沾沾自喜觉得自己真厉害。等爷爷穿着雨衣回到家看见我，非但没有表扬我，反而骂我逞英雄。我没料到爷爷的反应，大哭起来。后来有次聊天时，爷爷笑着说他当时不该那么说我。</p><p>好像是从四年级开始，我跟爷爷说别人都没有接送，我想自己回家。爷爷立刻尊重我的意见，再没接送过我。事实上，不知多少次爷爷在背后偷偷跟着我。</p><p>小学升初中的暑假，我做扁桃体手术，爷爷没去医院，后来他说他不敢在现场看着，在家里扫地，一遍遍地扫，来消耗时间。最后我手术成功，他才松下一口气。</p><p>上了初中，爷爷经常晚上给我送饭，我好像还有点嫌弃。晚上回家，爷爷会在十字路口等着我把饭盒拿回去。</p><p>初中的每次大考，爷爷都会假装不太在意地问我，考多少名？等我开心地告诉他我年纪第一，他终于开心地笑。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>java语言规范学习（java8）</title>
      <link href="/2018/08/05/note-java8-sp/"/>
      <url>/2018/08/05/note-java8-sp/</url>
      <content type="html"><![CDATA[<h2 id="文法表示法"><a href="#文法表示法" class="headerlink" title="文法表示法"></a>文法表示法</h2><ul><li>产生式右部的句法{x}表示0或多个x。</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ArgumentList:</span><br><span class="line">    Argument &#123;,Argument&#125;    // 一个ArgumentList可以包含任意正整数个Argument</span><br></pre></td></tr></table></figure><ul><li>产生式右部的句法[x]表示0或1个x，即可选。</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">BreakStatement:</span><br><span class="line">    break [Identifier]</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>interview-list-java</title>
      <link href="/2018/08/04/interview-list-java/"/>
      <url>/2018/08/04/interview-list-java/</url>
      <content type="html"><![CDATA[]]></content>
      
      
    </entry>
    
    <entry>
      <title>diary201808</title>
      <link href="/2018/08/01/diary201808/"/>
      <url>/2018/08/01/diary201808/</url>
      <content type="html"><![CDATA[<h2 id="2018年8月5日"><a href="#2018年8月5日" class="headerlink" title="2018年8月5日"></a>2018年8月5日</h2><p>今天胡伟治说要做游戏引擎，我来统计他改变心意所需的时间。即坚持初心的时间。我赌一星期！</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture%2Fdiary%2Fdiary20180805_%E8%83%A1%E4%BC%9F%E6%B2%BB%E5%81%9A%E6%B8%B8%E6%88%8F.png" alt=""></p><h2 id="2018年8月4日"><a href="#2018年8月4日" class="headerlink" title="2018年8月4日"></a>2018年8月4日</h2><p><code>19:49:46</code> 今天来到一个很不容易发现的小咖啡店，环境很好。</p><p>果不其然，一如我自己的预言，我再次陷入焦虑。</p><h2 id="2018年8月1日"><a href="#2018年8月1日" class="headerlink" title="2018年8月1日"></a>2018年8月1日</h2><p><code>23:17:02</code> 从今天开始，尝试着把一个月的东西都写在一个文件里。这样节省了很多文件，读写时不至于太慢。</p><hr><p>大概是最近一个星期，我开始认识到自己性格的真相。之前了解过一些，每个人的性格成因多多少少都跟儿时的经历有关。今天公司上了一节心理课，我终于有了恍然大悟的感觉。</p><p>从高中起，甚至到大学二年级及其之前，我的那些言行不是简单的“刷存在”，而是因为儿时母爱的缺失。</p><p>她曾连续三次抛弃了我，在十七年前。</p><p>第一次发生在一个普通的晚上，我照例在平房玩耍，突然接到电话，说要找我。我兴冲冲去了老姑那屋，也就是有电话的那间屋子，拿起电话，只听见妈说，“李斌，我不要你了行吗”。我没听清，还让她重复了一遍。待我确定后，头也不回的跑出屋子，直接坐在沙发上嚎啕大哭。那个6岁的小男孩是什么心境呢？我忘的很干净，只记得是实实在在的哭了，撕心裂肺的哭。</p><p>第二次大概是类似的时间。我忘记了这几次“抛弃”之间我们是怎样生活的，也许我就那么原谅她了？我可能以为她是在开玩笑。那个晚上爷爷驮我回到楼上，一进门看到妈背着身子往脸上擦着什么，对爷爷说，“我不要李斌了，你把他带回去吧。”爷爷瞪大了眼睛，二话不说把我带回平房。嗯，爷爷奶奶住在小院子里，我跟着大人的习惯，用平房和楼房来区分两个地方。那天的我是什么感受，我也忘了。</p><p>第三次是一次放学。爷爷从三小把我接回来，她站在岔路与马路的交界处，直截了当的说，我不要你了。除了那个眼神，我什么都不记得了。</p><p>再往后，就是持续几年的官司，关于我的抚养权，关于谁赔谁钱。</p><p>我竟然是个这么健忘的人……尽管我清楚地记得那三次“抛弃”，我还是会接受她一次一次的看望我，一年又一年，从小学，到初中，到高中…她嫁了人，又离了婚，又嫁了人。直到现在，直到上个月，我们还在一起吃饭，我仍然是个“懂事的孩子”，握着她的手，好像一点都不陌生。</p><p><strong>没有母爱是可怕的，我到现在才明白，才明白。我所有的一切，我的努力，我的乱闯和自卑，都是想拾起那份近似母爱的关注。那短短的感情也是，我不求你多爱我，就算你恨我、骂我、讨厌我，只要你关注着我，记着我，提起我，我的潜意识都会把它折射成亲情的映像，就像在腐蚀了十多年的心灵漏洞上涂上一层药膏。</strong></p><p>呵，听起来像SM。应该还不至于。只是就算我能认清这点，知道自己性格的成因，这份烙印也根深蒂固，无法磨灭。</p><p>安全感，安全感，安全感…</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180731</title>
      <link href="/2018/07/31/diary20180731/"/>
      <url>/2018/07/31/diary20180731/</url>
      <content type="html"><![CDATA[<p><code>22:38:27</code> 我看到了她照片。好美…</p><p><code>22:43:14</code> 下班的路上，马路中间的隔离带传来小猫叫声，立刻停车赶过去。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture%2Fdiary%2Fdiary20180731_02.jpg" alt=""></p><p>像是刚出生不久跟母猫走失了。</p><p>其实从听到它的第一声叫（哭？），随着我脚步过去，我就已经开始绝望了。我不可能把它带回去，其他卧室的人会被它的叫声吵死。但是它真的可爱，不停地短促而高亢地叫。我就这么蹲了十分钟，等它出来，逐渐信任起来，在我的腿上蹭。</p><p>从马路对面来了两个小孩，大概七八岁的样子，一个男孩一个女孩。我让他们靠里一点，千万别被撞着。他们叫我叔叔，我也自然地应着。就这么，又蹲了十五分钟。在我的鼓励下，他们把小猫抱走了。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture%2Fdiary%2Fdiary20180731_01.jpg?" alt=""></p><p><code>23:57:56</code> 我把屏幕截下来，对着加为好友点来点去</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180729</title>
      <link href="/2018/07/29/diary20180729/"/>
      <url>/2018/07/29/diary20180729/</url>
      <content type="html"><![CDATA[<p><code>12:13:29</code> 刚刚发生一件有趣的事。</p><p>在沙县小吃吃中饭，角落里没人，我便坐下。正等饭，旁边一穿着蓝色上衣、平头的哥们端着吃了几口的饭坐在我斜对面，大概是从中间座位换过来的。他一边吃，一遍用右手拿着手机，用底部靠近耳朵，听着什么。声音像电视台主播，一会儿是男声，一会是女声。我的饭上来了，伸手去够他身旁的筷子盒，他瞅见了，身子一躲。我抽出筷子，开始吃饭。</p><p>手机是华为的中端机，包着套。皮肤较黑，平头，瘦高。听的是“得到”的音频，而且是快放的。</p><p>“你听的是‘得到’吗？” 我犹豫了几分钟，问到。</p><p>他一惊，抬头看了我一眼，“嗯，嗯，你也听吗？”</p><p>“以前听。”</p><p>“嗯，我听的是‘李翔商业内参’”。</p><p>我微笑回应一下，然后继续吃。</p><p>“你是大学生吗？” 过了两分钟，我又问了一句。</p><p>“对” 他抬头看着我。</p><p>“你是不是想找个好工作？”</p><p>“可以这么说吧。” 他调小了音量，尴尬而不失礼貌地笑了。</p><p>“你…大二？”</p><p>“大三。”</p><p>“你是不是…还没有目标的工作？”</p><p>“是…还没想好干什么。”</p><p>“你在哪个大学？”</p><p>“北京科技大学。”</p><p>……</p><p>“加个微信吧。” 我掏出手机。</p><p><code>12:32:06</code> 现在在旁边的西山悦咖啡。</p><p>字正腔圆的声音，特定的两种音色，是‘得到’音频的特点。小哥偶尔会躲避目光，避免肢体接触，有一点怯意；吃东西吃的很干净，用筷子把盘子清理的一点不剩，是节俭的生活习惯所致。李翔商业内参，是免费的得到音频，相对比较划算。边吃饭边听，还快放1.5x。他急切地想充实心理，因为当前还没有工作，或者还不知道做什么。他说的不是地道普通话，挂着谦卑的笑容。</p><p>他大概是其他城市或者农村的优秀的孩子，家境一般或稍差，平日生活节俭朴素。考上了北京科技大学，上了两年学之后发现与社会相差甚远，学习受到阻力，但却不甘平庸，偶然发现‘得到’里的东西蛮有道理；保持了努力的习惯，而前途的不确定一点点积累压力，以致走路或吃饭时都要快放着听，试图获取一些指点。</p><p>那是我三年前的样子，是努力而自卑的人的挣扎。我相信他终会找到方向，用努力换取心态的平和。希望我也是。</p><p><em>你努力的样子，我帮你留着</em></p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180729_01.jpg" alt=""></p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180727</title>
      <link href="/2018/07/27/diary20180727/"/>
      <url>/2018/07/27/diary20180727/</url>
      <content type="html"><![CDATA[<p><code>21:47:16</code> 果然工作之后写日记的时间越来越少了。从下周开始一周合并成一个文件。</p><p>今天领的J套餐夜宵，一盒奥利奥+一盒金典+一个香蕉+一个苹果。</p><p>明天开始，小电驴上班！</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180724</title>
      <link href="/2018/07/24/diary20180724/"/>
      <url>/2018/07/24/diary20180724/</url>
      <content type="html"><![CDATA[<p><code>22:11:54</code> 昨天没有写日记。</p><p>今天是第二天上班。华为是个好地方，是个让我产生复杂体验的地方。</p><p>按照弹性班次，组里的人每天可以9点半上班，9点半下班。虽说对新员工没有要求，但我仍然尚未适应工作的节奏。</p><p>放弃小米来到华为是个正确的选择。华为是个非常认真的公司，从头到脚都试图非常严谨，在书上或哪里听说的一些方法论，在华为体现的淋漓尽致。专业的社区，博客，完善的内部管理系统，处处都十分专业。</p><p>最让我惊讶的是对新员工的要求，有专门的极为丰富的新员工培养体系，还有培训和考试。其中有一门是，满分100分，合格100分。。。新员工的考察还包括OJ，要刷到指定的要求，否则不能转正。</p><p>部门非常和谐，女员工非常多——真的很多很多，比大学理工科班里的男女比例强的多的多，我感觉都有3:1了吧？这在科技公司里应该不多吧，业务的技术含量相当之高，听导师说累积的代码有几千万行，堪比windows！</p><p>还是想说，公司内部的系统太棒了。各种社区各种门户，数不胜数。</p><p>每天的夜宵补助多少能让人欣慰。昨天是一大袋薯片+一瓶浓酸奶+五片干面包片+一串葡萄，今天是一大袋薯片+一瓶纯果汁+一个小西瓜+一点水果。</p><p>今天早晚都是坐滴滴上下班的。明天买的电动车就到了。</p><p>明天早上还有会，要早睡了。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>常用API参考及常见问题积累</title>
      <link href="/2018/07/22/note-coding-tips/"/>
      <url>/2018/07/22/note-coding-tips/</url>
      <content type="html"><![CDATA[<p>批量初始化字符串：</p><h1 id="数据结构选择"><a href="#数据结构选择" class="headerlink" title="数据结构选择"></a>数据结构选择</h1><ol><li>用<code>List</code>还是<code>Map</code>？</li></ol><h1 id="Bug常见位置："><a href="#Bug常见位置：" class="headerlink" title="Bug常见位置："></a>Bug常见位置：</h1><ol><li><p>参数校验：</p><ol><li>参数遇到<code>String</code>，记得判定是否为空</li><li><p>参数是某种<code>Object</code>，记得判定<code>instanceof</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(a.equals(<span class="string">"a"</span>)||a==<span class="keyword">null</span>)&#123;</span><br></pre></td></tr></table></figure><p>如果<code>a</code>是null，那么此处会空指针，应当交换位置</p></li></ol></li><li><p><code>equals</code>方法检查列表：</p><ul><li>null</li><li>instance of</li><li>其他</li></ul></li></ol>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> api </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>note-simpleDB</title>
      <link href="/2018/07/22/note-simpleDB/"/>
      <url>/2018/07/22/note-simpleDB/</url>
      <content type="html"><![CDATA[<h1 id="项目资源"><a href="#项目资源" class="headerlink" title="项目资源"></a>项目资源</h1><ul><li>课程主页：<a href="https://sites.google.com/site/cs186fall2013/homeworks" target="_blank" rel="noopener">https://sites.google.com/site/cs186fall2013/homeworks</a></li><li>初始代码：<a href="https://www.dropbox.com/s/qs4uxgwvsc2m7bj/CS186-proj1.tar.gz" target="_blank" rel="noopener">https://www.dropbox.com/s/qs4uxgwvsc2m7bj/CS186-proj1.tar.gz</a></li></ul><h1 id="名词解释"><a href="#名词解释" class="headerlink" title="名词解释"></a>名词解释</h1><ul><li>页 = Page = Block = Buffer Frame</li><li>行 = 记录 = Tuple = Row = Record</li><li><p>列 = 属性 = 字段 = Column = Attribute = Field</p><p>页是最基础的磁盘存储单元。所有数据通过<code>flush</code>到磁盘（即<code>Block</code>）上，进而实现持久化。</p></li></ul><h1 id="SimpleDB架构"><a href="#SimpleDB架构" class="headerlink" title="SimpleDB架构"></a>SimpleDB架构</h1><p>SimpleDB 由以下部分组成：</p><ul><li>代表 <strong>字段(field)</strong>，<strong>元组(tuple)</strong>，<strong>元组表(tuple schema)</strong>的类</li><li>将 <strong>谓词(predicate)</strong> 和 <strong>条件(condition)</strong> 应用于元组的类</li><li>多个用于访问磁盘上存储着的“关系”文件（如堆文件）的方法，并且提供了一种方法来遍历这些“关系”的元组。</li><li>一组元组操作方法，如<code>select</code>，<code>join</code>等。</li><li>一个 <strong>缓冲池</strong>，用于缓存内存中活跃的 <strong>元组</strong> 和 <strong>页</strong>，以及处理 <strong>并发控制</strong> 和 <strong>事务</strong></li><li>存储着可用<code>table</code>和其<code>schema</code>的目录。</li></ul><p>Simple 不包含：</p><ul><li>SQL前端。</li><li>视图</li><li>数据类型（但包含整数和定长字符串）</li><li>查询优化器</li><li>索引</li></ul><h1 id="数据结构（传统）"><a href="#数据结构（传统）" class="headerlink" title="数据结构（传统）"></a>数据结构（传统）</h1><p>典型数据库存储使用<code>HeapFile</code>。</p><h1 id="关键类"><a href="#关键类" class="headerlink" title="关键类"></a>关键类</h1><h2 id="Databases"><a href="#Databases" class="headerlink" title="Databases"></a>Databases</h2><h2 id="Field，Tuples"><a href="#Field，Tuples" class="headerlink" title="Field，Tuples"></a>Field，Tuples</h2><p>每个元组包含一组字段。字段可以有不同的类型，于是被抽象为<code>Field</code>接口。元组也有类型，被称为<code>schmea</code>，即 <strong>元组描述符</strong>，具体来讲是<code>TupleDesc</code>对象。元组描述符由一组<code>Type</code>对象组成，每个对象描述相关字段的类型。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/SimpleDB_tuple.png" alt=""></p><h2 id="Catalog"><a href="#Catalog" class="headerlink" title="Catalog"></a>Catalog</h2><h2 id="BufferPool"><a href="#BufferPool" class="headerlink" title="BufferPool"></a>BufferPool</h2><h2 id="HeapFile-acess-method"><a href="#HeapFile-acess-method" class="headerlink" title="HeapFile acess method"></a>HeapFile acess method</h2><h2 id="Operators"><a href="#Operators" class="headerlink" title="Operators"></a>Operators</h2>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> 数据库 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>区块链开发学习</title>
      <link href="/2018/07/22/note-blockchain/"/>
      <url>/2018/07/22/note-blockchain/</url>
      <content type="html"><![CDATA[<p>根据招聘信息，得到技能列表：</p><ul><li>共识算法：<strong><code>Pow</code></strong>，<code>PoS</code>，<code>DPoS</code>，<code>PBFT</code>，<code>Paxos</code>，<code>Raft</code></li><li>开源项目：<code>HyperLedger fabric</code>，<code>Ethereum</code>，<code>bitcoin</code>，<code>Corda</code></li><li>编程语言：<code>Golang</code>，<code>Java</code></li><li>密码学组件：<code>ECC</code>，<code>RSA</code>，<code>国密算法</code>，<code>AES</code>，<code>Hash</code></li><li>算法：<code>Merkel Tree</code>，<code>Grossip</code>，<code>X25519</code>，<code>Ed25519</code></li><li>架构：<code>分布式系统</code>，<code>P2P</code>，<code>Docker</code>，<code>LCX</code></li><li>数据库：<code>NoSQL</code>，KV型数据库如<code>LevelDB</code>，<code>RocksDB</code></li></ul><h1 id="Paxos"><a href="#Paxos" class="headerlink" title="Paxos"></a>Paxos</h1>]]></content>
      
      
    </entry>
    
    <entry>
      <title>diary20180722</title>
      <link href="/2018/07/22/diary20180722/"/>
      <url>/2018/07/22/diary20180722/</url>
      <content type="html"><![CDATA[<p><code>10:36:06</code> 嗯 想尝试点有风险的东西。。</p><p><code>16:54:53</code> 在西山悦咖啡呆到现在。本想尝试开发区块链，了解了一下发现区块链涉及的很多技术也是非常基础而实用的，与自然的学习过程没有冲突。尝试实现SimpleDB中。</p><p><code>20:27:05</code> 离开咖啡店。虽说是今天第二次来。明天第一天上班！</p><p><code>23:57:34</code> 跟锦鲤马、蓝杰学妹，还有虾堡都聊了一会儿。被理睬的感觉很暖，被需要的感觉很暖。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>note-network-common</title>
      <link href="/2018/07/21/note-network-common/"/>
      <url>/2018/07/21/note-network-common/</url>
      <content type="html"><![CDATA[]]></content>
      
      
    </entry>
    
    <entry>
      <title>interview-list</title>
      <link href="/2018/07/21/interview-list/"/>
      <url>/2018/07/21/interview-list/</url>
      <content type="html"><![CDATA[]]></content>
      
      
    </entry>
    
    <entry>
      <title>diary20180721</title>
      <link href="/2018/07/21/diary20180721/"/>
      <url>/2018/07/21/diary20180721/</url>
      <content type="html"><![CDATA[<p><code>15:39:09</code> 心累。空调在，心情就在。</p><p>上午从安朴怡庭出发到山水居，早已大汗淋漓，进门发现空调竟然不能用！跟中介联系，又跟维修人员联系，排队竟然要排到七八天之后！实在是难受，吃教训了。以后租房一定要提前验证各种电器的可用性。</p><p>到海淀区文化馆转了转，地方是不错，然而地方早已占满。</p><p>于是终于来到一个尚峰尚水旁边的咖啡店坐下来。终于能歇一会了。。。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180721_01.jpg" alt=""></p><p><code>19:05:47</code> 刚下单买了个折叠电动车。我的亲钱。</p><p>爸说爷爷又住院了，肺里都是痰，身上有水肿。希望安好。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180720</title>
      <link href="/2018/07/21/diary20180720/"/>
      <url>/2018/07/21/diary20180720/</url>
      <content type="html"><![CDATA[<p><code>15:37:47</code> 当天没有写日记，这是在第二天补上的。</p><p>洗脑结束，大家开始签卖身契。</p><p><em>排队中</em><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180720_03.jpg" alt=""></p><p><em>暗中观察</em><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180720_02.jpg" alt=""></p><p><em>把自己卖了</em><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180720_04.jpg" alt=""></p><p>下午各组表演节目。也不知谁买了瓶崂山百花蛇舌草水，我们举杯饮之。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180720_01.jpg" alt=""></p><p><em>好玩的作品</em><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180720_09.jpg" alt=""></p><p><em>哦不我的肚子</em><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180720_10.jpg" alt=""></p><p>晚上跟秘书去找工位。工作环境棒！大方舒适。说来正巧，团队里离职的那个哥们也是中南的！晚上离职请客，请我们吃了烤肉！</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180720_08.jpg" alt=""></p><p>晚上9点多步行回公寓，没有人没有车，只有工地冰冷的光，和遥远的叮叮当当。</p><p><em>园区一景</em><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180720_07.jpg" alt=""></p><p><em>冰冷的光</em><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180720_06.jpg" alt=""></p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180719</title>
      <link href="/2018/07/19/diary20180719/"/>
      <url>/2018/07/19/diary20180719/</url>
      <content type="html"><![CDATA[<p><code>22:13:08</code> 今天冒着大雨搬到了新公寓。公寓房间很小，很整洁，但是感觉不太一样。可能是又回到了独居的情境，好像有一点“进入下一个阶段”的意思。只会住两天，然后到搬到租的房子。</p><p><em>华为是真大。这还只是北京这边</em><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180719_01.jpg" alt=""></p><p><em>坐等硬<del>核</del>装实习</em><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180719_06.jpg" alt=""></p><p><em>辩论赛一触即发！</em><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180719_07.jpg" alt=""></p><p><em>国王与天使游戏结束，入职培训也告一段落</em><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180719_02.jpg" alt=""></p><p><em>今天的夜宵</em><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180719_03.jpg" alt=""></p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180719_04.jpg" alt=""></p><p><em>只住两天的公寓小房间</em><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180719_05.jpg" alt=""></p><p><code>22:24:20</code> 总体感觉，华为并没有那么恐怖。回想起去衡中之前，之后，感觉是相似的。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180718</title>
      <link href="/2018/07/18/diary20180718/"/>
      <url>/2018/07/18/diary20180718/</url>
      <content type="html"><![CDATA[<p><code>21:23:51</code> 回到酒店。今天与昨天感觉差不多，大家更熟了，上午到下午都是课，晚上做了活动，挺high的。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary2018071803.jpg" alt=""></p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary2018071804.jpg" alt=""></p><p>今天领的一楼C类夜宵，非常不错呀。听说每份都是25块钱。一人25，好几万人也是很大的成本了。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary2018071801.jpg" alt=""></p><p>下班时，瞥到远处镜子里<em>矮小的</em>自己。怎么评价这个哥们呢？如果我五年前知道自己会来这样一个公司工作，我大概会很开心。现在却看着更加优秀的同学甚至学弟，感觉自己实在太弱。实力强劲的同龄人当然存在，问题就在于你认识他们，甚至关系还不错，这感觉就不太好了。不过换一个角度想想，我对自己的能力真的那么有自信吗？如果现在让我参加那些公司的面试，我能通过吗？</p><p>不管怎样，先坚持半年再说吧！</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary2018071802.jpg" alt=""></p><p><code>21:35:40</code> 明天要搬到另外一个酒店。收拾东西。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180717</title>
      <link href="/2018/07/17/diary20180717/"/>
      <url>/2018/07/17/diary20180717/</url>
      <content type="html"><![CDATA[<p><code>22:14:10</code> 培训第二天，心情和状态都比前几天好很多。其实从上午到下午都是一个（女）部长在讲课，关于华为企业文化，<strong>讲的很稳</strong>但难以阻挡我困倦的双眼。。好在晚餐时买了罐黑卡，精神很多。</p><p>今天还是很开心的。主要是因为在团队里贡献了一些力量。写了一些字，出了一些主意，组里其他小伙伴们也很有想法。才知道旁边坐着的，一个清华（女）博士，一个北大（女）硕士，还有个北大男生。。。</p><p><em>老师讲的很稳</em><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary2018071703.jpg" alt=""></p><p><em>为画画贡献了了几个字，组里都挺有才的</em><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary2018071701.jpg" alt=""></p><p><em>“天使”的礼物，不知是男是女。。</em><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary2018071702.jpg" alt=""></p><p><code>22:30:06</code> 刚刚跟许浩聊了两句。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180717与许浩聊.png" alt=""></p><p><code>22:37:24</code> 计划把技术文章迁移到博客园或者别的地方。博客只写日记就好。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180716</title>
      <link href="/2018/07/16/diary20180716/"/>
      <url>/2018/07/16/diary20180716/</url>
      <content type="html"><![CDATA[<p><code>21:33:06</code> 疲惫的原因不是肌肉酸痛，而是坐车。今天入职，到环保园员工中心培训，坐了一天。明天还要早起。。。</p><p><em>刚到华为</em><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary2018071604.jpg" alt=""></p><p><em>活动里写个字</em><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary2018071601.jpg" alt=""></p><p><em>发了工卡</em><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary2018071602.jpg" alt=""></p><p><em>培训中…</em><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary2018071605.jpg" alt=""></p><p><em>每天都有一点夜宵</em><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary2018071603.jpg" alt=""></p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Windows系统安装后的配置</title>
      <link href="/2018/07/15/note-windows-config/"/>
      <url>/2018/07/15/note-windows-config/</url>
      <content type="html"><![CDATA[<ul><li>电源管理配置：电池模式下的配置</li><li>网络适配器关闭节电模式</li><li>省电模式配置，在点亮80%时开启节电模式</li></ul>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180715</title>
      <link href="/2018/07/15/diary20180715/"/>
      <url>/2018/07/15/diary20180715/</url>
      <content type="html"><![CDATA[<p><code>14:01:14</code> 来到<a href="https://map.qq.com/?type=marker&amp;isopeninfowin=1&amp;markertype=1&amp;pointx=116.337&amp;pointy=39.9921&amp;name=%E9%9B%95%E5%88%BB%E6%97%B6%E5%85%89%E5%92%96%E5%95%A1%E9%A6%86&amp;addr=%E5%8C%97%E4%BA%AC%E5%B8%82%E6%B5%B7%E6%B7%80%E5%8C%BA%E6%88%90%E5%BA%9C%E8%B7%AF%E5%8D%8E%E6%B8%85%E5%98%89%E5%9B%AD12%E5%8F%B7%E6%A5%BC2%E5%8F%B72-4%E5%B1%82&amp;ref=WeChat" target="_blank" rel="noopener">五道口雕刻时光</a>。</p><p>这边物价真是高啊，是个店咖啡都38元起步。幸亏没来清华上学。</p><p><code>15:34:57</code> 咖啡店里的嘈杂，让我想起了高中下课<del>老师不在时</del>的课间。</p><p><code>18:51:05</code> 发现intellij里的uml代码浏览功能实际上那么强大而自己以前都没发现，捶胸顿足。</p><p><code>22:23:31</code> 明天入职。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>操作系统（posix）核心知识及拓展</title>
      <link href="/2018/07/14/note-cs-common/"/>
      <url>/2018/07/14/note-cs-common/</url>
      <content type="html"><![CDATA[<h1 id="关键词"><a href="#关键词" class="headerlink" title="关键词"></a>关键词</h1><p>将操作系统抽象来看，以UNIX为典型，涉及的方面无非以下:</p><ul><li>登录<ol><li>登录名</li><li>shell</li></ol></li><li>文件和目录<ol><li>文件系统</li><li>文件名</li><li>路径名</li><li>工作目录</li><li>起始目录</li></ol></li><li>输入和输出<ol><li>文件描述符</li><li>标准输入、标准输出、标准错误</li><li>不带缓冲的I/O</li><li>标准I/O</li></ol></li><li>程序和进程<ol><li>程序</li><li>进程和进程id</li><li>进程控制</li><li>线程和线程id</li></ol></li><li>出错处理</li><li>用户标识<ol><li>用户id</li><li>组id</li><li>附属组id</li></ol></li><li>信号</li><li>时间值</li><li>系统调用和库函数</li></ul><p><em>操作系统（posix）要点示意图：</em></p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/操作系统posix.png" alt=""></p><h1 id="概览（部分）"><a href="#概览（部分）" class="headerlink" title="概览（部分）"></a>概览（部分）</h1><h2 id="登录"><a href="#登录" class="headerlink" title="登录"></a>登录</h2><p>系统在<code>/etc/passwd</code>的口令文件中保存账户信息。<code>cat</code>其可得：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin</span><br><span class="line">bin:x:2:2:bin:/bin:/usr/sbin/nologin</span><br><span class="line">sys:x:3:3:sys:/dev:/usr/sbin/nologin</span><br><span class="line">sync:x:4:65534:sync:/bin:/bin/sync</span><br><span class="line">games:x:5:60:games:/usr/games:/usr/sbin/nologin</span><br><span class="line">man:x:6:12:man:/var/cache/man:/usr/sbin/nologin</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>按字段美化为：</p><table><thead><tr><th>登录名</th><th>加密口令</th><th>数字ID</th><th>数字组ID</th><th>注释字段</th><th>起始目录</th><th>shell程序</th></tr></thead><tbody><tr><td>root</td><td>x</td><td>0</td><td>0</td><td>root</td><td>/root</td><td>/bin/bash</td></tr><tr><td>daemon</td><td>x</td><td>1</td><td>1</td><td>daemon</td><td>/usr/sbin</td><td>/usr/sbin/nologin</td></tr><tr><td>bin</td><td>x</td><td>2</td><td>2</td><td>bin</td><td>/bin</td><td>/usr/sbin/nologin</td></tr><tr><td>sys</td><td>x</td><td>3</td><td>3</td><td>sys</td><td>/dev</td><td>/usr/sbin/nologin</td></tr><tr><td>sync</td><td>x</td><td>4</td><td>65534</td><td>sync</td><td>/bin</td><td>/bin/sync</td></tr><tr><td>games</td><td>x</td><td>5</td><td>60</td><td>games</td><td>/usr/games</td><td>/usr/sbin/nologin</td></tr><tr><td>man</td><td>x</td><td>6</td><td>12</td><td>man</td><td>/var/cache/man</td><td>/usr/sbin/nologin</td></tr></tbody></table><h2 id="输入和输出"><a href="#输入和输出" class="headerlink" title="输入和输出"></a>输入和输出</h2><ul><li><strong>文件描述符</strong>：本质上是一个非负整数，用来标识一个特定进程访问的文件（引用）。当内核打开一个文件或创建一个新文件时都返回一个文件描述符。</li><li><strong>标准输入输出错误</strong>：按照惯例，每当运行一个新程序时，所有的shell都为其打开3个文件描述符——<em>标准输入</em>、<em>标准输出</em>、<em>标准错误</em>。<ul><li>不做特殊处理则都指向终端。</li><li>大多数shell都可以通过<code>&gt;</code>将描述符重定向到某个文件。</li></ul></li><li><strong>不带缓冲的I/O</strong>：都使用文件描述符。<br><code>open()</code>、<code>read()</code>、<code>write()</code>、<code>lseek()</code>、<code>close()</code>函数。</li><li><strong>标准I/O</strong>：为不带缓冲的I/O函数提供带缓冲的接口。</li></ul><h2 id="程序和进程"><a href="#程序和进程" class="headerlink" title="程序和进程"></a>程序和进程</h2><ul><li>内核使用<code>exec</code>（系列）函数将程序读入内存，并执行<strong>程序（program）</strong>。</li><li><strong>程序的执行实例称为进程（process）。</strong>每个进程都用一个唯一的非负整数作为数字标识符，称为进程ID。（process ID）</li><li>通常一个进程只有一个<strong>线程（thread）</strong>。一个进程内所有线程共享同一地址空间、文件描述符、栈和进程相关属性。由于它们访问同一存储区，故需要采取同步措施避免不一致性。<strong>线程ID</strong>只在所属进程内起作用。</li></ul><h2 id="出错处理"><a href="#出错处理" class="headerlink" title="出错处理"></a>出错处理</h2><ul><li>例如在对某一文件执行<code>open</code>函数时发生诸如文件不存在、权限问题等，则返回负值，如-1，而非正常情况下的非负文件描述符。在文件<code>&lt;errno.h&gt;</code>中对错误进行定义。</li></ul><h2 id="用户标识"><a href="#用户标识" class="headerlink" title="用户标识"></a>用户标识</h2><ul><li><strong>用户ID（user ID）</strong>：用于标识不同用户。每个用户通常有唯一ID。用户不能更改其用户ID。</li><li><strong>权限鉴定：</strong>：内核使用用户ID来检验用户是否有执行某些操作的权限。</li><li><strong>组ID</strong>：组文件将组名映射为数值形式的组ID。组文件为<code>/etc/group</code>。</li></ul><p>文件系统存储着磁盘上每个文件的用户ID和组ID。</p><h2 id="信号"><a href="#信号" class="headerlink" title="信号"></a>信号</h2><p><strong>信号（signal）</strong>：用于通知进程发生了某种情况。例如除数为0，则将名为<code>SIGFPE</code>（浮点异常）的信号发送给进程。进程有3种处理信号的方式：</p><ul><li>忽略</li><li>按系统默认方式处理</li><li>提供一个函数，信号发生时调用该函数。被称为捕捉该信号。</li></ul><p>例如，</p><ul><li>可以从键盘上使用<strong>中断键（interrupt key）</strong> 即 <code>Ctrl+C</code>、<code>Delete</code>或 <strong>退出键（quit key）</strong> 即<code>Ctrl+\</code>，用于中断当前运行的程序。</li><li>调用<code>kill</code>函数。</li></ul><h2 id="时间值"><a href="#时间值" class="headerlink" title="时间值"></a>时间值</h2><p>系统为一个进程维护了3个进程时间值：</p><ul><li><strong>时钟时间</strong>：又称墙上时钟时间（wall clock time），是进程运行的时间总量，与系统中同时运行的进程数有关。</li><li><strong>用户CPU时间</strong>：执行用户指令所用的时间量。</li><li><strong>系统CPU时间</strong>：为该进程执行内核程序经历的时间。</li></ul><p><em>CPU时间 = 用户CPU时间 + 系统CPU时间</em></p><p>使用<code>time</code>命令来获取各类时间。</p><h2 id="系统调用和库函数"><a href="#系统调用和库函数" class="headerlink" title="系统调用和库函数"></a>系统调用和库函数</h2><p><strong>UNIX为每个系统调用在标准C库中设置一个同样名字的函数。</strong></p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 操作系统 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180714</title>
      <link href="/2018/07/14/diary20180714/"/>
      <url>/2018/07/14/diary20180714/</url>
      <content type="html"><![CDATA[<p><code>09:52:54</code> 在软件园门口望着一个比一个想去的公司大楼，让我想起小时候扑在商店门口的玻璃上，看着心仪的玩具。都是渴望的眼神。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180714软件园.jpg" alt=""></p><p><code>20:34:49</code> 上午看了《邪不压正》，非常好看。姜文就是有品味，把“浪漫”诠释得很美妙。</p><p>看完电影回到酒店，诚哥在睡觉，我就又出来了。逛到一家java咖啡，人太多没进去。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180714java咖啡.jpg" alt=""></p><p>大概是下午两点的时候来到<a href="https://map.qq.com/?type=marker&amp;isopeninfowin=1&amp;markertype=1&amp;pointx=116.361&amp;pointy=40.0813&amp;name=%E4%B8%8A%E5%B2%9B%E5%92%96%E5%95%A1&amp;addr=%E5%8C%97%E4%BA%AC%E5%B8%82%E6%98%8C%E5%B9%B3%E5%8C%BA%E4%B8%9C%E5%A4%A7%E8%A1%97%E5%92%8C%E8%B0%90%E5%AE%B6%E5%9B%AD2%E5%8C%BA1%E5%8F%B7%E6%A5%BC2%E5%B1%82" target="_blank" rel="noopener">上岛咖啡</a>，点了一杯美式，直到现在。该回去了。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180713</title>
      <link href="/2018/07/13/diary20180713/"/>
      <url>/2018/07/13/diary20180713/</url>
      <content type="html"><![CDATA[<p><code>22:02:48</code> 其实要是每天都这样，加班也值了。可惜日子并不多啊。</p><p>每天酒店会给收拾换洗床铺、打扫洗手间什么的，还送水送饮料。比之前住过的酒店还多了剃须刀（以及泡沫）。</p><p>今天仍是疲惫的一天。上午出发租房子，过午才到环保园附近，最终租了一间，每月两千一。偶然发现公司附近就是海淀北部文化馆。真是比商超更好的地方，待有机会去看。</p><p>在北京的地铁，非常能感受到人们的生活节奏。每个人的步伐都镇定而紧凑。</p><blockquote><p>在知乎上看到，“北京有什么好”的问题，一个回答说，在北京，你不会被看到。不论你是商业大佬，达官显贵，还是前卫的艺术家、青涩的学生，不管你头戴耳机，头发染成五颜六色，或者衣衫褴褛，肤色黝黑，你都不会被看到。这里的人太多太多，什么样子的人都有太多太多，你是一个分子，你是无色透明的。这种自由的感觉，能让人很快定位自己，真正想成为什么。</p></blockquote><p>晚上到商场买了肥皂衣架拖鞋等等。脚掌酸痛，肩膀酸痛。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180712</title>
      <link href="/2018/07/12/diary20180712/"/>
      <url>/2018/07/12/diary20180712/</url>
      <content type="html"><![CDATA[<p><code>22:35:29</code> 又是疲惫的脚掌。</p><p>早晨6点50起床，坐车到某军医院体检。竟然忘了拿眼镜！由于左眼基本不近视，日常中自动切换左眼看物，根本想不起来戴眼镜。惴惴不安拿同伴哥们400度的眼镜，通过，才放心。做彩超竟然查出有轻度脂肪肝。。以后要注意饮食了。</p><p>中午11点左右，我打算去华为看看，就不随车回去了。于是做地铁到农大南路站，打算骑车过去。当时还没意识到地图上那点距离其实很远。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180712004.jpg" alt=""></p><p>到了农大，一看地图，发现“腾讯北京总部”！这太巧了，立刻驱往。到了之后竟然直接看到百度，隔壁正在建着恢弘的腾讯总部大楼！这才意识到来到了中关村软件园。</p><p><em>百度和腾讯“差了一条街的距离”</em></p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180712011.jpg" alt=""></p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180712001.jpg" alt=""></p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180712005.jpg" alt=""></p><p>在软件园绕了两周，继续骑向华为总部。好远。。。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180712006.jpg" alt=""></p><p>华为地方非常偏僻，周遭荒无人烟。但是内部绿化做的真是好，到处都是青草的芬芳。而且园区超大。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180712002.jpg" alt=""></p><p>离开华为，发现手机没电了，正好缺个充电宝，那么就去朝阳区的小米之家吧！（汗，其实是百度“北京最大小米之家”蹦出来那里的店，然而并不大）</p><p>在小米之家买了充电宝，走过两个街道，发现被一圈大使馆包围。路过“阿拉伯埃及”大使馆，我跟胡形容说“就像是衙门前面的石狮子用狮身人面像替换掉”的样子。</p><p>发现朝阳区各种CBD。于是开始闲逛。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180712003.jpg" alt=""></p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180712007.jpg" alt=""></p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180712008.jpg" alt=""></p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180712009.jpg" alt=""></p><p><em>有朝一日 买这些不眨眼。。</em><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180712010.jpg" alt=""></p><p>8点左右回宾馆，快十点才到。脚底板酸麻。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180711</title>
      <link href="/2018/07/11/diary20180711/"/>
      <url>/2018/07/11/diary20180711/</url>
      <content type="html"><![CDATA[<p><code>19:58:34</code> 累。</p><p>早晨4点40起床，5点离家。5点10分左右到达与晖约好的伊莎贝尔，在旁边小吃店吃了油条和豆腐脑。</p><p>上了828，前一个小时半困不困非常难受，后来好像是睡着了，直到永定门站到了才醒来。</p><p>下车发现开始下雨。步行到北京南站，广播说今天到明天暴雨（-_-!!）。上了厕所，去坐4号线，竟然故障了！一大片人就在那干等着。等了一会儿，弃之，坐公交。</p><p>然而累啊。书包太重，压得背痛。走到陶然亭站，坐特12路，中间堵车。。。</p><p>中途下车，坐2号线到西直门，再转13号线，辗转到达酒店。</p><p>累啊。</p><p>五星级酒店，还是很气派的。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180711酒店.jpg" alt=""></p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180710</title>
      <link href="/2018/07/10/diary20180710/"/>
      <url>/2018/07/10/diary20180710/</url>
      <content type="html"><![CDATA[<p><code>20:23:38</code> 放和晖来到我家。中午去奶奶家，奶奶和老姑聊了很多。下午帮放买了垃圾。刚刚和放、晖吃了鸡公煲。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180710放家猫.jpg" alt=""><br><em>放家的乖猫</em></p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180710鸡公煲.jpg" alt=""><br><em>去府东街吃了鸡公煲</em></p><p><code>21:10:23</code> 今天白翛譞聊了两句，不知为何突然觉得她头像有点像那只猫的表情，然后对比了一下笑死我了。。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180710白表情.jpg" alt=""></p><p>然后又做了一个：</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180710白聊天表情1.png" alt=""></p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180710白聊天表情.png" alt=""></p><p>简直可以笑一年。。</p><p><code>22:31:12</code> 明天，奔赴北京。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180709</title>
      <link href="/2018/07/09/diary20180709/"/>
      <url>/2018/07/09/diary20180709/</url>
      <content type="html"><![CDATA[<p><code>21:21:38</code> 今天到盛天放家玩，得知他的一个同学之前也在华为，也是路由器部门，竟然从java转到了C。顿时感觉不太好。给放装了系统，竟然发生错误，十分懊恼。</p><p><code>00:36:54</code> 然后系统装好了。我猜在放家时根本就没下载完，当时下的太快了。或者是那个U盘有毛病了。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180708</title>
      <link href="/2018/07/08/diary20180708/"/>
      <url>/2018/07/08/diary20180708/</url>
      <content type="html"><![CDATA[<p><code>17:53:33</code> 今天中午老姑父请一家吃饭。下午朱开车载我和晖去固安看了《我不是药神》。等了好几天终于看了。晚上可能还会出去。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180707</title>
      <link href="/2018/07/08/diary20180707/"/>
      <url>/2018/07/08/diary20180707/</url>
      <content type="html"><![CDATA[<p><code>01:14:53</code> 中午去奶奶家，爸已回家。不一会老姑父回来了。</p><p>下午去盛天放家呆着，帮他鼓捣电脑，晚上吃了饸饹面。</p><p><code>01:15:51</code> 看着tomcat源码，有一种朝圣，或者阅读秘籍的感觉。。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180708tomcat源码.png" alt=""></p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>tomcat源码学习日志</title>
      <link href="/2018/07/07/note-tomcat-learn/"/>
      <url>/2018/07/07/note-tomcat-learn/</url>
      <content type="html"><![CDATA[<h1 id="Tomcat是什么"><a href="#Tomcat是什么" class="headerlink" title="Tomcat是什么"></a>Tomcat是什么</h1><p>Tomcat是<code>Servlet</code>、<code>JSP</code>、java EL表达式、<code>WebSocket</code>的实现。</p><p>Tomcat 7.0实现了<code>Servlet 3.0</code>和<code>JSP 2.2</code>。提供了更多feature来开发和部署web应用和web服务。</p><h1 id="官方资源汇总"><a href="#官方资源汇总" class="headerlink" title="官方资源汇总"></a>官方资源汇总</h1><ul><li><a href="https://mirrors.tuna.tsinghua.edu.cn/apache/tomcat/tomcat-7/v7.0.90/src/apache-tomcat-7.0.90-src.zip" target="_blank" rel="noopener">Tomcat源码</a></li><li><a href="https://tomcat.apache.org/tomcat-7.0-doc/building.html#Introduction" target="_blank" rel="noopener">编译源码步骤</a></li><li><a href="https://tomcat.apache.org/tomcat-7.0-doc/architecture/index.html" target="_blank" rel="noopener">架构解读</a><ul><li><a href="https://tomcat.apache.org/tomcat-7.0-doc/architecture/overview.html" target="_blank" rel="noopener">核心接口描述</a></li><li><a href="https://tomcat.apache.org/tomcat-7.0-doc/architecture/startup/serverStartup.txt" target="_blank" rel="noopener">文本描述</a></li><li><a href="https://tomcat.apache.org/tomcat-7.0-doc/architecture/startup/serverStartup.pdf" target="_blank" rel="noopener">UML</a></li><li><a href="https://tomcat.apache.org/tomcat-7.0-doc/architecture/requestProcess/request-process.png" target="_blank" rel="noopener">请求时序</a></li></ul></li></ul><h1 id="编译源码"><a href="#编译源码" class="headerlink" title="编译源码"></a>编译源码</h1><ul><li>下载<code>Tomcat7</code><a href="https://mirrors.tuna.tsinghua.edu.cn/apache/tomcat/tomcat-7/v7.0.90/src/apache-tomcat-7.0.90-src.zip" target="_blank" rel="noopener">源码</a></li><li>配置<code>JDK1.6</code></li><li>配置<code>1.9.x</code>版本的Ant</li><li>将build.xml中的<code>base-apache.loc.1=https://www.apache.org/dyn/closer.lua?action=download&amp;filename=</code>替换为<code>base-apache.loc.1=https://archive.apache.org/dist</code></li><li>在tomcat目录下执行<code>ant</code></li></ul><h1 id="源码阅读日志"><a href="#源码阅读日志" class="headerlink" title="源码阅读日志"></a>源码阅读日志</h1><h2 id="整体理解"><a href="#整体理解" class="headerlink" title="整体理解"></a>整体理解</h2><ul><li>主类/主方法：<code>org.apache.catalina.startup</code>包下的<code>Bootstrap</code>类。</li><li>几个重要的目录（或者说环境变量）：</li></ul><table><thead><tr><th>主目录</th><th>含义</th></tr></thead><tbody><tr><td>{ <strong>$CATALINA_HOME</strong> }</td><td>Tomcat安装目录</td></tr><tr><td>{ <strong>$CATALINA_BASE</strong> }</td><td>每个实例分别的根目录（可选，默认情况等同于{ <strong>$CATALINA_HOME</strong> }）</td></tr></tbody></table><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CATALINA_HOME</span><br><span class="line">    ├─bin       <span class="comment">// 诸如启动、停止等脚本。</span></span><br><span class="line">    ├─conf      <span class="comment">// 配置文件</span></span><br><span class="line">    ├─logs      <span class="comment">// 默认日志文件路径</span></span><br><span class="line">    └─webapps   <span class="comment">// web应用路径</span></span><br></pre></td></tr></table></figure><h2 id="架构理解"><a href="#架构理解" class="headerlink" title="架构理解"></a>架构理解</h2><table><thead><tr><th>名称</th><th>意义</th></tr></thead><tbody><tr><td>Server</td><td>代表整个容器。用户基本不会变动它。提供了<code>Server</code>接口。</td></tr><tr><td>Service</td><td>作为一个生存在<code>Server</code>中的组件，将许多<code>Connector</code>与一个<code>Engine</code>连接，起媒介作用。</td></tr><tr><td>Engine</td><td>代表某个<code>Service</code>的请求过程。一个<code>Service</code>连接着多个<code>Conntector</code>，<code>Engine</code>接收这些<code>Connector</code>的请求，处理请求，并返回。提供了<code>Engine</code>接口。</td></tr><tr><td>Host</td><td>一个Tomcat可包含多个域名，Host则维护这些域名。t提供了<code>Host</code>接口和完善的实现。</td></tr><tr><td>Connector</td><td>用于处理与客户端的通信。如<code>Http Connector</code>。</td></tr><tr><td>Context</td><td>代表一个Web应用。一个<code>Host</code>包含多个<code>Context</code>，分别处于唯一的路径。提供了<code>Context</code>和完善的实现。</td></tr></tbody></table><p>按照以上概念可以绘图：</p><p><img src="https://images2015.cnblogs.com/blog/665375/201601/665375-20160119185045031-1958903281.jpg" alt=""></p><h2 id="启动步骤"><a href="#启动步骤" class="headerlink" title="启动步骤"></a>启动步骤</h2><p>根据<a href="https://tomcat.apache.org/tomcat-7.0-doc/architecture/startup/serverStartup.txt" target="_blank" rel="noopener">官方文档</a>,tomcat启动序列分为两个步骤：1）从命令行启动 2）处理命令行参数</p><p><strong>一、从命令行启动</strong></p><p>类：<code>org.apache.catalina.startup.Bootstrap</code></p><p>执行内容：</p><ol><li>安装一系列<code>classLoader</code>；</li><li>（以反射）读取启动类；</li><li>完成<code>Bootstrap.daemon.init()</code>方法。</li></ol><p><strong>二、处理命令行参数（start，stop）</strong></p><p>类：<code>org.apache.catalina.startup.Bootstrap</code></p><p>执行内容（start）：</p><ol><li><code>Catalina.setAwait(true)</code>；</li><li><code>Catalina.load()</code>:<ol><li>初始化基本文件夹：<code>initDirs()</code> -&gt; 设置诸如<code>catalina.home/case</code>等属性；</li><li>初始化命名服务：<code>setProperty(javax.naming.Context.INITIAL_CONTEXT_FACTORY,org.apache.naming.java.javaURLContextFactory -&gt;default)</code></li><li>创建xml文件转化器：<code>createStartDigester()</code></li><li>读取<code>server.xml</code>并用转化器（digester）将其解析。digester是一个“XML-对象”映射器，将根据<code>server.xml</code>定义的内容创建对象。到目前为止，容器其实还没有开始初始化。</li><li>把<code>System.out</code>和<code>System.err</code>分配给<code>SystemLogHandler</code>类。</li><li>调用所有组件的初始化方法。此步骤将令每个对象通过<code>JMX</code>代理注册其本身。在此步骤中，<code>Connector</code>也将初始化适配器。适配器也是一种组件，用来执行请求预处理。例如HTTP1.1适配器：<code>org.apache.coyote.http11.Http11Protocol</code></li></ol></li><li><code>Catalina.start()</code>:<ol><li>启动<code>NamingContext</code>，将所有<code>JNDI</code>引用绑定其中。</li><li>启动<code>Server</code>下的所有<code>service</code>。此步骤启动引擎（Engine）。</li><li>启动主机：<code>StandardHost</code>。<ol><li>配置一个错误阀门，用于将不同的HTTP错误码为HTML。</li><li>设置标准主机阀门，将web应用的类加载器与线程上下文绑定，它也用来为请求找到相应的<code>session</code>。</li><li>启动<code>HostConfig</code>组件。此组件部署所有web应用，即<code>webapp</code>和<code>conf/Catalina/localhost/*.xml</code></li><li><code>HostConfig</code>将为上下文创建一个<code>Digester</code>，它将调用<code>ContextConfig.start()</code>。这个方法将处理默认的<code>web.xml</code>即<code>conf/web.xml</code>,然后处理所有的应用<code>web.xml</code>即<code>WEB-INF/web.xml</code>。</li></ol></li><li>在容器的生命周期中，存在一个后台线程，用来不断检查上下文（context）是否改变，即<code>war</code>文件、<code>context</code>文件、<code>web.xml</code>文件等的改变。如果改变，则重新加载。（<code>stop/remove/deploy/start</code>）</li></ol></li><li>当Tomcat（在HTTP端口）接收到一个请求时：<ol><li>该请求将被一个独立的线程接收。此线程在<code>ThreadPoolExecutor</code>类中。它在一个<code>ServerSocket.accpet()</code>方法中等待请求。</li><li><code>ThreadPoolExecutor</code>分配一个<code>TaskThread</code>来处理此请求。</li><li>处理器（<code>processor</code>）处理该请求。如果是HTTP请求，则是<code>Coyote Http11Processor</code>来处理。调用了<code>process</code>方法。此处理器将继续检查<code>socket</code>的输入流，直到连接断开，或者达到<code>keep alive point</code>。</li><li>此HTTP请求将被内部的缓冲类（<code>Http11InputBuffer</code>）解析。此解析类将解析出请求行、请求头等等，将结果存储在一个<code>Coyote</code>请求中。此<code>request</code>包含所有的HTTP信息，如<code>servername</code>，<code>port</code>，<code>scheme</code>等。</li><li>处理器维护着一个<code>Adapter</code>（引用），在本例中是<code>CoyoteAdapter</code>。一旦请求已经被解析，那么<code>Http11Processor</code>调用该<code>adapter</code>的<code>service()</code>方法。在此<code>service</code>方法中，<code>Request</code>包含一个<code>CoyoteRequest</code>和一个<code>CoyoteResponse</code>（第一次则为null）。<code>CoyoteRequest(Response)</code>实现了<code>HttpRequest(Response)</code>和<code>HttpServletRequest(Response)</code>。适配器通过<code>Mapper</code>来处理<code>request</code>和<code>context</code>等。</li><li>当解析完成之后，<code>CoyoteAdapter</code>调用它的容器（<code>StandardEngine</code>），调用所有的<code>invoke()</code>方法。</li><li><code>StandardEngine.invoke()</code>方法调用容器的<code>pipeline.invoke()</code>方法。</li><li><code>StandardHostValve</code>调用与<code>request</code>相关的<code>context</code>上的<code>pipeline</code>。</li><li>被<code>Context pipeline</code>调用的第一个阀门是<code>FormAuthenticator</code>阀门。接下来是<code>StandardContextValve</code>。<code>StandardContextValve</code>调用与<code>context</code>相关的所有上下文监听器。然后调用<code>Wrapper</code>组件的所有<code>pipeline</code>。</li><li>编译JSP，调用实际的<code>servlet</code>。</li></ol></li><li><code>servlet</code>类的调用</li></ol><h1 id="优美代码"><a href="#优美代码" class="headerlink" title="优美代码"></a>优美代码</h1><p>观察到，一个典型的类中，可以被分成：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ------------------------------------------------------- Static Variables</span></span><br><span class="line"><span class="comment">// -------------------------------------------------------------- Variables</span></span><br><span class="line"><span class="comment">// -------------------------------------------------------- Private Methods</span></span><br><span class="line"><span class="comment">// ----------------------------------------------------------- Main Program</span></span><br></pre></td></tr></table></figure><p>典型的生命周期方法有：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(String[] arguments)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">start</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stop</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stopServer</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stopServer</span><span class="params">(String[] arguments)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tomcat </tag>
            
            <tag> 源码学习 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180706</title>
      <link href="/2018/07/06/diary20180706/"/>
      <url>/2018/07/06/diary20180706/</url>
      <content type="html"><![CDATA[<p><code>20:17:12</code> 中午去了奶奶家，下午去送悦悦练字，途径三小。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180706三小.jpg" alt=""></p><p>下午去放家，发现猫变瘦好多。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180706放家猫.jpg" alt=""></p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Gradle快速参考</title>
      <link href="/2018/07/05/quick-gradle/"/>
      <url>/2018/07/05/quick-gradle/</url>
      <content type="html"><![CDATA[<h1 id="maven配置"><a href="#maven配置" class="headerlink" title="maven配置"></a>maven配置</h1><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">repositories</span> &#123;</span><br><span class="line">    mavenLocal()</span><br><span class="line">    maven &#123;url <span class="string">'http://maven.aliyun.com/nexus/content/groups/public/'</span>&#125;</span><br><span class="line">    mavenCentral()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> gradle </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180705</title>
      <link href="/2018/07/05/diary20180705/"/>
      <url>/2018/07/05/diary20180705/</url>
      <content type="html"><![CDATA[<p><code>10:34:45</code> 一会就要去跟武老师吃饭，有点手足无措。。</p><p><code>18:50:54</code> 看来是想多了。跟老师吃饭很愉快，一起的还有她孩子，和三个老师。老师讲了她的故事。</p><p>下午跟朱星禹去贴开锁的小广告，哈哈哈哈</p><p>晚上吃了黄焖鸡，真是我吃过最好吃的黄焖鸡了。肉又多又瘦，全是鸡腿。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180705%E9%BB%84%E7%84%96%E9%B8%A1.jpg" alt=""></p><p><code>00:48:50</code> 看到一张图，感觉非常好，收藏一下。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/%E9%98%BF%E9%87%8C%E7%BA%A7%E5%88%AB%E8%B7%AF%E7%BA%BF.jpg" alt=""></p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180704</title>
      <link href="/2018/07/04/diary20180704/"/>
      <url>/2018/07/04/diary20180704/</url>
      <content type="html"><![CDATA[<p><code>22:23:45</code> 回到家里竟然很容易就有了睡意。</p><p>前天（7月2日）回家，一路顺利而疲惫。期初空荡荡的软卧车厢，后来到了岳阳站被几个人占据，其中还有一个打着巨大的呼噜。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180702%E5%8D%A7%E9%93%BA.jpg" alt=""></p><p>昨天中午12点半左右到家。晚上10点多点就睡了，一觉睡到上午10点。</p><p>今天去奶奶家，路过二中。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180704%E4%BA%8C%E4%B8%AD.jpg" alt=""></p><p>晚上老姑带我和悦悦去吃了饺子，非常好吃。晚上与盛天放去公园逛了逛。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180702</title>
      <link href="/2018/07/02/diary20180702/"/>
      <url>/2018/07/02/diary20180702/</url>
      <content type="html"><![CDATA[<p><code>14:42:33</code> 在长沙的最后一天。与胡、浩吃了牛排，去了凯李。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180702%E4%B8%B4%E5%88%AB1.jpg" alt=""></p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180702%E4%B8%B4%E5%88%AB2.jpg" alt=""></p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180702%E4%B8%B4%E5%88%AB3.jpg" alt=""></p><p><code>15:03:58</code> 说着便增加了留言功能</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180702%E7%95%99%E8%A8%80%E6%9D%BF.png" alt=""></p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180701</title>
      <link href="/2018/07/01/diary20180701/"/>
      <url>/2018/07/01/diary20180701/</url>
      <content type="html"><![CDATA[<p>这天作息不好，身体不佳。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>note-debug</title>
      <link href="/2018/06/30/note-debug/"/>
      <url>/2018/06/30/note-debug/</url>
      <content type="html"><![CDATA[<h1 id="问题类型综述"><a href="#问题类型综述" class="headerlink" title="问题类型综述"></a>问题类型综述</h1><ul><li>卡住：一般是各种死锁。</li></ul><h1 id="定位问题"><a href="#定位问题" class="headerlink" title="定位问题"></a>定位问题</h1><h2 id="定位pid"><a href="#定位pid" class="headerlink" title="定位pid"></a>定位pid</h2><ul><li>使用<code>jps -mv</code>即可获取当前java程序的pid。比如现在<code>IntelliJ</code>卡住了，运行此命令显示：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">16944 Jps -mv -Denv.class.path=.;D:\SYNC\jianguoyun\ENV\java\jdk1.8.0_172\lib\dt.jar;D:\SYNC\jianguoyun\ENV\java\jdk1.8.0_172\lib\tools.jar; -Dapplication.home=D:\SYNC\jianguoyun\ENV\java\jdk1.8.0_172 -Xms8m</span><br><span class="line">848  -Xms128m -Xmx750m -XX:ReservedCodeCacheSize=240m -XX:+UseConcMarkSweepGC -XX:SoftRefLRUPolicyMSPerMB=50 -ea -Dsun.io.useCanonCaches=false -Djava.net.preferIPv4Stack=true -XX:+HeapDumpOnOutOfMemoryError -XX:-OmitStackTraceInFastThrow -Djb.vmOptionsFile=C:\Program Files\JetBrains\IntelliJ IDEA 2018.1.5\bin\idea64.exe.vmoptions -Didea.jre.check=true -Dide.native.launcher=true -Didea.paths.selector=IntelliJIdea2018.1 -XX:ErrorFile=C:\Users\libin\java_error_in_idea_%p.log -XX:HeapDumpPath=C:\Users\libin\java_error_in_idea.hprof</span><br><span class="line">28636 Launcher C:/Program Files/JetBrains/IntelliJ IDEA 2018.1.5/lib/jps-builders.jar;C:/Program Files/JetBrains/IntelliJ IDEA 2018.1.5/lib/nanoxml-2.2.3.jar;</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>则可以看到第二行开头即是<code>848</code>。</p><h1 id="获取信息"><a href="#获取信息" class="headerlink" title="获取信息"></a>获取信息</h1><h2 id="dump问题"><a href="#dump问题" class="headerlink" title="dump问题"></a>dump问题</h2><ul><li>使用<code>jstack</code>将指定线程的信息导出。可以<code>jstack -l &lt;PID&gt;</code>，也可<code>jstack -l &lt;PID&gt; &gt; dump.txt</code>转储到文件中，方便查看。</li></ul>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> debug </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180630</title>
      <link href="/2018/06/30/diary20180630/"/>
      <url>/2018/06/30/diary20180630/</url>
      <content type="html"><![CDATA[<p><code>23:46:08</code> 今天与胡去了沃尔玛买了包腊肉，回来在天马吃了冰。还有一天就回家了。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180629</title>
      <link href="/2018/06/30/diary20180629/"/>
      <url>/2018/06/30/diary20180629/</url>
      <content type="html"><![CDATA[<p><code>00:54:19</code> 与胡、浩去了金釜山吃了好吃，然而，非常不好吃。肉质都是碎的。之后9点半到潇湘看了《动物世界》，很不错的悬疑片。离开的日子越来越近了，天气却越来越热，出去逛逛都没兴致。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>python常见问题记录</title>
      <link href="/2018/06/29/note-python-tricks/"/>
      <url>/2018/06/29/note-python-tricks/</url>
      <content type="html"><![CDATA[<h1 id="安装路径问题"><a href="#安装路径问题" class="headerlink" title="安装路径问题"></a>安装路径问题</h1><p>使用 pip install 安装时：</p><ul><li>如果有<code>--user</code>参数时，则安装到<code>:\Users\libin\AppData\Roaming\Python\Python36\site-packages</code></li><li>如果没有<code>--user</code>参数，则安装到<code>C:\Users\libin\AppData\Local\Programs\Python\Python36\Lib\site-packages</code>下。</li><li>前者没有在环境变量下，且实际上并不看重用户的区分，故没有必要用<code>--user</code>参数。</li></ul><h1 id="jupyter"><a href="#jupyter" class="headerlink" title="jupyter"></a>jupyter</h1><ul><li>两行代码，渲染出矢量图：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">%matplotlib inline</span><br><span class="line">%config InlineBackend.figure_format = &apos;svg&apos;</span><br></pre></td></tr></table></figure><ul><li>保存pdf矢量图：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.savefig(&apos;tmp.pdf&apos;, bbox_inches=&apos;tight&apos;)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180628</title>
      <link href="/2018/06/29/diary20180628/"/>
      <url>/2018/06/29/diary20180628/</url>
      <content type="html"><![CDATA[<p><code>00:20:31</code> 7月2号回家，3号到家。这几天每天晚睡晚起。</p><p><code>03:18:23</code> 接触了<code>jupyter</code>，<code>numpy</code>，<code>pandas</code>，才发现python实在太强大了。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180627</title>
      <link href="/2018/06/27/diary20180627/"/>
      <url>/2018/06/27/diary20180627/</url>
      <content type="html"><![CDATA[<p><code>16:45:15</code> 即将去梅溪湖那边看电影，吃好吃。</p><p><code>00:31:29</code> 晚上与胡去了梅溪湖那边吃了烤鱼，然后看《阿飞正传》——竟然是国语！断然离开，立刻买了潇湘的票。结果没太看懂。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180626</title>
      <link href="/2018/06/27/diary20180626/"/>
      <url>/2018/06/27/diary20180626/</url>
      <content type="html"><![CDATA[<p><code>01:00:22</code> 给学弟装了程序，发了我50块的红包，大方的学弟啊。给我政继续写程序。突然对CUDA感兴趣了。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180625</title>
      <link href="/2018/06/25/diary20180625/"/>
      <url>/2018/06/25/diary20180625/</url>
      <content type="html"><![CDATA[<p><code>15:00:00</code> 去遥远的湘雅附近买了弹性绷带。</p><p><code>21:08:23</code> 帮政写了个python的程序，现学python的感觉真爽</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#train.csv</span></span><br><span class="line"><span class="keyword">import</span> csv,geohash  </span><br><span class="line"></span><br><span class="line">l = list()</span><br><span class="line"></span><br><span class="line">file2 = open(<span class="string">"target.csv"</span>,<span class="string">"w"</span>,newline=<span class="string">''</span>)</span><br><span class="line">writer = csv.writer(file2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">file1 = open(<span class="string">"train.csv"</span>,<span class="string">"rt"</span>)</span><br><span class="line">reader=csv.reader(file1)</span><br><span class="line">next(reader)</span><br><span class="line">writer.writerow([<span class="string">'orderid'</span>,<span class="string">'userid'</span>,<span class="string">'bikeid'</span>,<span class="string">'biketype'</span>,<span class="string">'startdate'</span>,<span class="string">'starttime'</span>,<span class="string">'geohashed_start_loc_long'</span>,<span class="string">'geohashed_start_loc_lat'</span>,<span class="string">'geohashed_end_loc_long'</span>,<span class="string">'geohashed_end_loc_lat'</span>])</span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> reader:</span><br><span class="line">    <span class="keyword">for</span> index,data <span class="keyword">in</span> enumerate(line):</span><br><span class="line">        <span class="keyword">if</span>(index&lt;=<span class="number">3</span>):</span><br><span class="line">            l.append(data)</span><br><span class="line">        <span class="keyword">if</span>(index==<span class="number">4</span>):</span><br><span class="line">            l.append(data.split()[<span class="number">0</span>])</span><br><span class="line">            l.append(data.split()[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">if</span>(index==<span class="number">5</span>):</span><br><span class="line">            l.append(geohash.decode(data)[<span class="number">0</span>])</span><br><span class="line">            l.append(geohash.decode(data)[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">if</span>(index==<span class="number">6</span>):</span><br><span class="line">            l.append(geohash.decode(data)[<span class="number">0</span>])</span><br><span class="line">            l.append(geohash.decode(data)[<span class="number">1</span>])</span><br><span class="line">    writer.writerow(l)</span><br><span class="line">    l=[]</span><br><span class="line"></span><br><span class="line">file1.close()</span><br><span class="line">file2.close()</span><br></pre></td></tr></table></figure><p>数据内容样式：</p><table><thead><tr><th>orderid</th><th>userid</th><th>bikeid</th><th>biketype</th><th>starttime</th><th>geohashed_start_loc</th><th>geohashed_end_loc</th></tr></thead><tbody><tr><td>1893973</td><td>451147</td><td>210617</td><td>2</td><td>2017/5/14 22:16</td><td>wx4snhx</td><td>wx4snhj</td></tr><tr><td>4657992</td><td>1061133</td><td>465394</td><td>1</td><td>2017/5/14 22:16</td><td>wx4dr59</td><td>wx4dquz</td></tr><tr><td>2965085</td><td>549189</td><td>310572</td><td>1</td><td>2017/5/14 22:16</td><td>wx4fgur</td><td>wx4fu5n</td></tr><tr><td>4548579</td><td>489720</td><td>456688</td><td>1</td><td>2017/5/14 22:16</td><td>wx4d5r5</td><td>wx4d5r4</td></tr><tr><td>3936364</td><td>467449</td><td>403224</td><td>1</td><td>2017/5/14 22:16</td><td>wx4g27p</td><td>wx4g266</td></tr><tr><td>5163705</td><td>917620</td><td>509044</td><td>1</td><td>2017/5/14 22:16</td><td>wx4gd2e</td><td>wx4g6pw</td></tr></tbody></table><p>转化结果样式：</p><table><thead><tr><th>orderid</th><th>userid</th><th>bikeid</th><th>biketype</th><th>startdate</th><th>starttime</th><th>geohashed_start_loc_long</th><th>geohashed_start_loc_lat</th><th>geohashed_end_loc_long</th><th>geohashed_end_loc_lat</th></tr></thead><tbody><tr><td>1893973</td><td>451147</td><td>210617</td><td>2</td><td>2017/5/14</td><td>22:16</td><td>40.1</td><td>116.29</td><td>40.1</td><td>116.29</td></tr><tr><td>4657992</td><td>1061133</td><td>465394</td><td>1</td><td>2017/5/14</td><td>22:16</td><td>39.79</td><td>116.33</td><td>39.8</td><td>116.32</td></tr><tr><td>2965085</td><td>549189</td><td>310572</td><td>1</td><td>2017/5/14</td><td>22:16</td><td>39.88</td><td>116.54</td><td>39.88</td><td>116.55</td></tr><tr><td>4548579</td><td>489720</td><td>456688</td><td>1</td><td>2017/5/14</td><td>22:16</td><td>39.77</td><td>116.16</td><td>39.77</td><td>116.16</td></tr><tr><td>3936364</td><td>467449</td><td>403224</td><td>1</td><td>2017/5/14</td><td>22:16</td><td>39.96</td><td>116.39</td><td>39.96</td><td>116.38</td></tr><tr><td>5163705</td><td>917620</td><td>509044</td><td>1</td><td>2017/5/14</td><td>22:16</td><td>39.99</td><td>116.47</td><td>39.99</td><td>116.46</td></tr></tbody></table>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180624</title>
      <link href="/2018/06/24/diary20180624/"/>
      <url>/2018/06/24/diary20180624/</url>
      <content type="html"><![CDATA[<p><code>18:38:57</code> 炎热的一天，凯李没有空位，只能回家。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180623</title>
      <link href="/2018/06/24/diary20180623/"/>
      <url>/2018/06/24/diary20180623/</url>
      <content type="html"><![CDATA[<p><code>02:13:26</code> 下午6点多去五一广场绕了一圈，除了看到一个超大的星巴克，没有什么新的发现。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180622</title>
      <link href="/2018/06/22/diary20180622/"/>
      <url>/2018/06/22/diary20180622/</url>
      <content type="html"><![CDATA[<p><code>12:09:55</code> 上午毕业典礼。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180622%E6%AF%95%E4%B8%9A%E5%85%B8%E7%A4%BC.jpg" alt=""><em>鸟巢全景</em></p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180621</title>
      <link href="/2018/06/21/diary20180621/"/>
      <url>/2018/06/21/diary20180621/</url>
      <content type="html"><![CDATA[<p><code>16:12:53</code> 去河东买药，竟然无意中去了咖啡之翼大厦。好矮的大厦。。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180621%E5%92%96%E5%95%A1%E4%B9%8B%E7%BF%BC%E5%A4%A7%E5%8E%A6.jpg" alt=""></p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>note-maven-basic</title>
      <link href="/2018/06/20/note-maven-basic/"/>
      <url>/2018/06/20/note-maven-basic/</url>
      <content type="html"><![CDATA[<h1 id="总览"><a href="#总览" class="headerlink" title="总览"></a>总览</h1><ul><li>maven有自己的生命周期，从开始执行到结束，依次经过。</li><li>maven的每个插件都有一个目标。</li><li>maven把某个目标绑定在某个生命周期阶段</li></ul><p>这样一来，随着生命周期的执行，不同目标也随之执行。</p><h1 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h1><p>maven有三种周期：</p><ul><li>清洁（clean）</li><li>默认（default）</li><li>站点（site）</li></ul><h2 id="“清洁”的声明周期"><a href="#“清洁”的声明周期" class="headerlink" title="“清洁”的声明周期"></a>“清洁”的声明周期</h2><table><thead><tr><th>具体周期</th><th>作用</th></tr></thead><tbody><tr><td>预清洁（pre-clean）</td><td>执行实际项目清理之前所需的流程</td></tr><tr><td>清洁（clean）</td><td>删除以前构建生成的所有文件</td></tr><tr><td>后清洁（post-clean）</td><td>执行完成项目清理所需的流程</td></tr></tbody></table><h2 id="“默认”的生命周期"><a href="#“默认”的生命周期" class="headerlink" title="“默认”的生命周期"></a>“默认”的生命周期</h2><table><thead><tr><th>具体周期</th><th>作用</th></tr></thead><tbody><tr><td>验证（validate）</td><td>验证项目是正确的，所有必要的信息可用。</td></tr><tr><td>初始化（initialize）</td><td>初始化构建状态，例如设置属性或创建目录。</td></tr><tr><td>产生来源（generate-sources）</td><td>生成包含在编译中的任何源代码。</td></tr><tr><td>流程源（process-sources）</td><td>处理源代码，例如过滤任何值。</td></tr><tr><td>生成资源（generate-resources）</td><td>生成包含在包中的资源。</td></tr><tr><td>流程资源（process-resources）</td><td>将资源复制并处理到目标目录中，准备打包。</td></tr><tr><td>编译（compile）</td><td>编译项目的源代码。</td></tr><tr><td>工艺类（process-classes）</td><td>从编译后处理生成的文件，例如对Java类进行字节码增强。</td></tr><tr><td>生成测试来源（generate-test-sources）</td><td>生成包含在编译中的任何测试源代码。</td></tr><tr><td>流程测试来源（process-test-sources）</td><td>处理测试源代码，例如过滤任何值。</td></tr><tr><td>生成测试资源（generate-test-resources）</td><td>创建测试资源。</td></tr><tr><td>流程测试资源（process-test-resources）</td><td>将资源复制并处理到测试目标目录中。</td></tr><tr><td>测试编译（test-compile）</td><td>将测试源代码编译到测试目标目录中</td></tr><tr><td>流程检验类（process-test-classes）</td><td>从测试编译中处理生成的文件，例如对Java类进行字节码增强。对于Maven 2.0.5及以上版本。</td></tr><tr><td>测试（test）</td><td>使用合适的单元测试框架运行测试。这些测试不应该要求代码被打包或部署。</td></tr><tr><td>制备包（prepare-package）</td><td>在实际包装之前，执行必要的准备包装的操作。这通常会导致打包的处理版本的包。（Maven 2.1及以上）</td></tr><tr><td>打包（package）</td><td>采取编译的代码，并以其可分发的格式（如JAR）进行打包。</td></tr><tr><td>预集成测试（pre-integration-test）</td><td>在执行集成测试之前执行所需的操作。这可能涉及诸如设置所需环境等。</td></tr><tr><td>集成测试（integration-test）</td><td>如果需要，可以将该包过程并部署到可以运行集成测试的环境中。</td></tr><tr><td>整合后的测试（post-integration-test）</td><td>执行集成测试后执行所需的操作。这可能包括清理环境。</td></tr><tr><td>校验（verify）</td><td>运行任何检查以验证包装是否有效并符合质量标准。</td></tr><tr><td>安装（install）</td><td>将软件包安装到本地存储库中，以作为本地其他项目的依赖关系。</td></tr><tr><td>部署（deploy）</td><td>在集成或发布环境中完成，将最终软件包复制到远程存储库，以与其他开发人员和项目共享。</td></tr></tbody></table><h2 id="“站点”生命周期"><a href="#“站点”生命周期" class="headerlink" title="“站点”生命周期"></a>“站点”生命周期</h2><hr><p>具体周期 | 作用<br>预网站（pre-site） | 在实际的项目现场生成之前执行所需的进程<br>网站（site） | 生成项目的站点文档<br>后网站（post-site） | 执行完成站点生成所需的进程，并准备站点部署<br>网站部署（site-deploy） | 将生成的站点文档部署到指定的Web服务器</p><h1 id="样例"><a href="#样例" class="headerlink" title="样例"></a>样例</h1><p>在执行<code>mvn install</code>时，以下插件对应的目标执行：</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/mavenPackage.png" alt=""></p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> maven </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180620</title>
      <link href="/2018/06/20/diary20180620/"/>
      <url>/2018/06/20/diary20180620/</url>
      <content type="html"><![CDATA[<p><code>16:21:40</code> 来到久违的凯李，感觉非常好。上午把学士服还了。</p><p><code>18:49:19</code> 看了《maven权威指南》，这才是技术书！看的真tm爽！</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180620maven.png" alt=""></p><p><code>20:34:49</code> 韩佳政说要请我，已截图</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180620%E9%9F%A9%E4%BD%B3%E6%94%BF%E8%AF%B7%E6%88%91.png" alt=""></p><p><code>20:34:49</code> 离开凯李。久违的充实。。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180619</title>
      <link href="/2018/06/19/diary20180619/"/>
      <url>/2018/06/19/diary20180619/</url>
      <content type="html"><![CDATA[<p><code>13:12:08</code> 上午打印了论文任务书，给了陈靖。去图书馆把书还了。</p><p><code>19:30:28</code> 尝试开发intellij的插件，发现git clone真是慢。进行一系列修补。胀起来是真疼，物理上自律，真是牛逼。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>intelliJ配置实践</title>
      <link href="/2018/06/18/note-intellij-config/"/>
      <url>/2018/06/18/note-intellij-config/</url>
      <content type="html"><![CDATA[<h1 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h1><ul><li>原生<code>IntelliJ</code>主题，不要黑色</li><li>字体选择<code>Fira Code</code>，行距为<code>1.2</code></li><li>在<code>Project</code>视图中勾选<code>Autosroll to Source</code>和<code>Autoscroll from Source</code></li></ul><h1 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h1><ul><li>GsonFormat</li><li>Translation</li></ul><h1 id="一些好用但不常见的快捷键"><a href="#一些好用但不常见的快捷键" class="headerlink" title="一些好用但不常见的快捷键"></a>一些好用但不常见的快捷键</h1><table><thead><tr><th>功能</th><th>按键</th></tr></thead><tbody><tr><td>后退</td><td>Ctrl + Alt + &lt;-</td></tr><tr><td>前进</td><td>Ctrl + Alt + -&gt;</td></tr><tr><td>快速查看源码</td><td>Ctrl + Shift + I</td></tr></tbody></table>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> intelliJ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180618</title>
      <link href="/2018/06/18/diary20180618/"/>
      <url>/2018/06/18/diary20180618/</url>
      <content type="html"><![CDATA[<p><code>17:12:52</code> 到医院换了药，情况良好。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180617</title>
      <link href="/2018/06/17/diary20180617/"/>
      <url>/2018/06/17/diary20180617/</url>
      <content type="html"><![CDATA[<p><code>23:40:34</code> 折腾了两天，装了ubuntu又换了回来。实在是太折腾了。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180615</title>
      <link href="/2018/06/15/diary20180615/"/>
      <url>/2018/06/15/diary20180615/</url>
      <content type="html"><![CDATA[<p><code>13:44:25</code> 刷了一堆关于医学、医学生的东西，对医学从业者毕恭毕敬、肃然起敬。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180614</title>
      <link href="/2018/06/14/diary20180614/"/>
      <url>/2018/06/14/diary20180614/</url>
      <content type="html"><![CDATA[<p><code>21:37:27</code> 手术完成，白天疼了两个小时，基本就没感觉了。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180613</title>
      <link href="/2018/06/13/diary20180613/"/>
      <url>/2018/06/13/diary20180613/</url>
      <content type="html"><![CDATA[<p><code>07:26:48</code> 好不容易打了次电话，竟然是以“醒了”为结局，真是浪费感情…</p><p><code>12:41:56</code> 今天上午毕业典礼，拨流苏，合影。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180613%E5%AD%A6%E4%BD%8D%E6%8E%88%E4%BA%881.jpg" alt=""><br><em>中南图书馆</em></p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180613%E5%AD%A6%E4%BD%8D%E6%8E%88%E4%BA%882.jpg" alt=""><br><em>学位授予仪式</em></p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180613%E5%AD%A6%E4%BD%8D%E6%8E%88%E4%BA%883.jpg" alt=""><br><em>快到我啦</em></p><p><code>20:49:55</code> 补一下前几天拍的照片。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/IMG_20180606_173424.jpg" alt=""><br><em>湘江 南</em></p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/IMG_20180606_184621.jpg" alt=""><br><em>湘江 北</em></p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/IMG_20180606_184639.jpg" alt=""><br><em>湘江 黄昏</em></p><p><code>20:53:35</code> 毕设即将结束系列。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180613%E6%AF%95%E8%AE%BE%E7%BB%93%E6%9D%9F1.jpg" alt=""><br><em>胶装的论文</em></p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180613%E6%AF%95%E8%AE%BE%E7%BB%93%E6%9D%9F2.jpg" alt=""><br><em>即将离我而去的资料袋</em></p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180613%E6%AF%95%E8%AE%BE%E7%BB%93%E6%9D%9F3.jpg" alt=""><br><em>跟踪表</em></p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>springMVC学习笔记</title>
      <link href="/2018/06/12/note-springmvc/"/>
      <url>/2018/06/12/note-springmvc/</url>
      <content type="html"><![CDATA[<h1 id="依赖关系"><a href="#依赖关系" class="headerlink" title="依赖关系"></a>依赖关系</h1><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/Springmvc%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB.png" alt=""></p><h1 id="总述"><a href="#总述" class="headerlink" title="总述"></a>总述</h1><p><img src="https://docs.spring.io/spring-framework/docs/4.3.9.RELEASE/spring-framework-reference/html/images/mvc.png" alt=""></p><ul><li><code>Controller</code>一般负责准备一个将一个<strong>view</strong>和<strong>data</strong>映射为一个数据类型为<code>Map</code>的<strong>model</strong>并返回。也可以直接写入数据到返回流中。</li><li>一个<strong>view</strong>反应到代码层面就是一个字符串，对应着视图文件；一个<strong>model</strong>是一个<code>Map</code>，包含着许多键值对，key是某个变量，value是其对应的数据。</li></ul><h1 id="DispatcherServlet"><a href="#DispatcherServlet" class="headerlink" title="DispatcherServlet"></a>DispatcherServlet</h1><p>作为中央Servlet，DispatcherServlet负责分发，由具体的可配置的控件执行实际的工作。</p><h2 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h2><p>DispatcherServlet毕竟也是Servlet，也需要在<code>web.xml</code>中配置。在以下例子中，配置了一个<code>DispatcherServlet</code>,配置了其配置文件<code>app-context.xml</code>的路径，配置了<code>DispatcherServlet</code>接收请求的路径<code>/app/*</code>。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">listener</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>org.springframework.web.context.ContextLoaderListener<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>/WEB-INF/app-context.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>app<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span><span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>app<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/app/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure><p>或者用注解的方式：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyWebApplicationInitializer</span> <span class="keyword">implements</span> <span class="title">WebApplicationInitializer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStartup</span><span class="params">(ServletContext servletCxt)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Load Spring web application configuration</span></span><br><span class="line">        AnnotationConfigWebApplicationContext ac = <span class="keyword">new</span> AnnotationConfigWebApplicationContext();</span><br><span class="line">        ac.register(AppConfig.class);</span><br><span class="line">        ac.refresh();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Create and register the DispatcherServlet</span></span><br><span class="line">        DispatcherServlet servlet = <span class="keyword">new</span> DispatcherServlet(ac);</span><br><span class="line">        ServletRegistration.Dynamic registration = servletCxt.addServlet(<span class="string">"app"</span>, servlet);</span><br><span class="line">        registration.setLoadOnStartup(<span class="number">1</span>);</span><br><span class="line">        registration.addMapping(<span class="string">"/app/*"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Context-的层级关系"><a href="#Context-的层级关系" class="headerlink" title="Context 的层级关系"></a>Context 的层级关系</h2><ul><li>在Spring中，<code>ApplicationContext</code>是典型容器。在SpringMVC中，<code>WebApplicationContext</code>作为其拓展，成为web环境的Ioc容器。</li><li><code>WebApplicationContext</code>作为<code>DispatcherServlet</code>的配置，与<code>ServletContext</code>和它所关联的<code>Servlet</code>关联。</li></ul><h2 id="特殊的Bean类型"><a href="#特殊的Bean类型" class="headerlink" title="特殊的Bean类型"></a>特殊的Bean类型</h2><h2 id="处理过程"><a href="#处理过程" class="headerlink" title="处理过程"></a>处理过程</h2><p><code>DispatcherServlet</code>对请求的处理流程：</p><ol><li>搜索<code>WebApplicationContext</code>，将其作为一个属性，与请求绑定，以便<code>controller</code>等组件可以使用。</li><li>地域解析器（locale resolver）被绑定在请求上，用于处理地域相关的逻辑，如渲染试图，数据准备等。这是可选的。</li><li>主题解析器（theme resolver）被绑定在请求上，以便view等组件可以获知使用哪个主题。这是可选的。</li><li>如果指定了多部件处理器（multipart file resolver），则请求被包装为<code>MultipartHttpServletRequest</code>，以便后续处理。</li><li>搜索一个合适的处理器（handler）。一旦找到，则与该处理器相关的执行链（execution chain）将被执行，用与准备model或者渲染。</li><li>如果返回了model，则渲染视图。如果没返回model，则不渲染视图。</li></ol>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180612</title>
      <link href="/2018/06/12/diary20180612/"/>
      <url>/2018/06/12/diary20180612/</url>
      <content type="html"><![CDATA[<p><code>19:45:11</code> 今天去了湘雅附二。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Spring框架学习-Core</title>
      <link href="/2018/06/11/note-spring-framework/"/>
      <url>/2018/06/11/note-spring-framework/</url>
      <content type="html"><![CDATA[<h1 id="IoC"><a href="#IoC" class="headerlink" title="IoC"></a>IoC</h1><h2 id="总览"><a href="#总览" class="headerlink" title="总览"></a>总览</h2><ul><li><code>org.springframework.beans</code>和<code>org.springframework.context</code>是IOC容器的基础，都依赖于core包。</li><li>beans包内的<code>BeanFacotry</code>接口提供基本的配置对象的方法。context包内的<code>ApplicationContext</code>是其子接口之一，增加了实用的配置方法，是前者的超集。</li><li><code>org.springframework.context.ApplicationContext</code>代表了IOC容器，负责实例化、配置、装配bean。它通过读取配置元数据来获取实例化等的方式。元数据可以通过xml，注解，或代码来表示。<code>ApplicationContext</code>的一些实现，如<code>ClassPathXmlApplicationContext</code>，<code>FileSystemXmlApplicationContext</code>等提供了方便的读取方法。</li><li>IOC容器读取元数据，结合POJOS，产生所需的系统。</li></ul><p><img src="https://docs.spring.io/spring/docs/5.0.6.RELEASE/spring-framework-reference/images/container-magic.png" alt=""></p><h2 id="Ioc-container-容器"><a href="#Ioc-container-容器" class="headerlink" title="Ioc container 容器"></a>Ioc container 容器</h2><h3 id="元数据的配置方式"><a href="#元数据的配置方式" class="headerlink" title="元数据的配置方式"></a>元数据的配置方式</h3><ul><li>从Spring 2.5开始支持注解配置方法。</li><li>从Spring 3.0开始支持基于java的方式，即通过java类来表示配置。</li></ul><h3 id="IOC容器的实例化和使用"><a href="#IOC容器的实例化和使用" class="headerlink" title="IOC容器的实例化和使用"></a>IOC容器的实例化和使用</h3><ul><li>只需将配置文件的地址作为<strong>资源</strong>传给容器类。如：</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"services.xml"</span>, <span class="string">"daos.xml"</span>);</span><br></pre></td></tr></table></figure><ul><li><p>在配置<code>beans.xml</code>等资源文件时，形如“classpath:”的路径是不被推荐的。因为classpath虽然默认是指当前目录，但是也可以配置为其他目录。</p></li><li><p>可以通过容器的<code>getBean</code>方法来获取实例，但没有必要，因为这依赖于Spring的API。应该考虑注解等方式。</p></li></ul><h2 id="Bean"><a href="#Bean" class="headerlink" title="Bean"></a>Bean</h2><p>bean的每个属性都映射为一个<code>bean definition</code>。</p><table><thead><tr><th>class</th><th>Instantiating beans</th></tr></thead><tbody><tr><td>name</td><td>Naming beans</td></tr><tr><td>scope</td><td>Bean scopes</td></tr><tr><td>constructor arguments</td><td>Dependency Injection</td></tr><tr><td>properties</td><td>Dependency Injection</td></tr><tr><td>autowiring mode</td><td>Autowiring collaborators</td></tr><tr><td>lazy-initialization mode</td><td>Lazy-initialized beans</td></tr><tr><td>initialization method</td><td>Initialization callbacks</td></tr><tr><td>destruction method</td><td>Destruction callbacks</td></tr></tbody></table><ul><li>每个bean可以有多个id，多余的id视为别名。</li></ul><h2 id="DI-依赖注入"><a href="#DI-依赖注入" class="headerlink" title="DI 依赖注入"></a>DI 依赖注入</h2><ul><li><p>依赖注入的Spring官方解释：依赖注入是由对象在构造（或从工厂方法返回）之后，仅仅通过构造方法参数、工厂方法参数等定义它们之间依赖关系的过程。容器创造这些bean之后，将对象们依赖的对象注入进去。这个过程从根本上来说是反转的，由bean自己通过构造方法（或Service Locator pattern）来控制依赖对象的实例化或者位置，故也称控制反转。</p></li><li><p>这样的好处是什么？在哪些方面解耦了？</p><ul><li>解耦依赖关系：由于容器帮对象提供了依赖关系，所以对象自己不再去寻找它所依赖的对象，不需要关心其依赖对象的位置或具体类。</li><li>方便测试：当依赖的对象是接口或者抽象类时，可以使用stub或mock来进行单元测试。</li></ul></li><li><p>依赖注入的方式</p><ul><li>基于构造方法注入</li><li>基于Setter方法注入</li></ul></li><li><p>注入方式的比较？</p><ul><li>基于构造方法的注入有强制性。基于Setter的注入方法有可选性（可以通过@Required注解控制可选性）。</li><li>Spring团队主张用基于构造的方法。因为这能防止依赖对象是null。但是当参数过多时，应当考虑重构，将责任分开。</li><li>Setter注入方式需要时刻检查notnull。setter方法使该类的对象可以稍后重新配置或重新注入。因此，通过JMX mbean的管理是setter注入的一个不错的方式。</li><li>当第三方类没有提供任何setter方法，通过构造方法注入是唯一的选择。</li></ul></li><li><p>bean的实例化时机？</p><ul><li>设置为单例模式即“预实例化”的bean在容易创建之后就被创建了。</li><li>其他情况下，随需实例化。</li></ul></li><li><p>循环依赖是什么？怎样解决？</p><ul><li>如果（通过构造方法）配置A依赖B，B依赖A，则抛出异常。</li><li>解决方案：配置为setter注入。</li></ul></li></ul><h3 id="自动装配"><a href="#自动装配" class="headerlink" title="自动装配"></a>自动装配</h3><ul><li>自动装配的几种模式？<ul><li><strong>no</strong> 不自动装配。</li><li><strong>byName</strong> 通过属性name来装配。</li><li><strong>byType</strong>  通过type来装配。</li><li><strong>constructor</strong>  通过构造器来装配。</li></ul></li></ul><h2 id="Bean-作用域"><a href="#Bean-作用域" class="headerlink" title="Bean 作用域"></a>Bean 作用域</h2><ul><li>singlton</li><li>prototype</li><li>request</li><li>session</li><li>application</li><li>websocket</li></ul><h3 id="单例模式作用域"><a href="#单例模式作用域" class="headerlink" title="单例模式作用域"></a>单例模式作用域</h3><ul><li>Ioc容器只创建此对象的一个实例，将其存储在缓存中，每个对其依赖或引用都返回此缓存对象。</li></ul><h2 id="基于Java的容器设置方法"><a href="#基于Java的容器设置方法" class="headerlink" title="基于Java的容器设置方法"></a>基于Java的容器设置方法</h2><p>核心是<code>@Configuration</code>和<code>Bean</code>注解。</p><p><code>@Bean</code>与<code>&lt;bean/&gt;</code>类似，需要与<code>@Configuration</code>搭配使用，而免于用xml来配置。</p><h1 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h1>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> spring </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180611</title>
      <link href="/2018/06/11/diary20180611/"/>
      <url>/2018/06/11/diary20180611/</url>
      <content type="html"><![CDATA[<p><code>23:23:41</code> 这两天复习Spring，内容真的多。下午自己去河东，顺便吃了顿佰烧。</p><p><code>23:44:06</code> 最近的行程：</p><ul><li>6月13日    院里照相</li><li>6月22日    毕业典礼 扫描所有证件</li><li>7月2日    回家</li><li>7月3日    到家</li><li>7月11日    到北京办理入住</li><li>7月12日    周四 体检</li><li>7月16日    周一 入职</li></ul>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180610</title>
      <link href="/2018/06/10/diary20180610/"/>
      <url>/2018/06/10/diary20180610/</url>
      <content type="html"><![CDATA[<p><code>13:13:37</code> 如果早起不干事，还不如多睡会。早早起来，只把毕设什么的打印了。没做什么好事。</p><p><code>00:19:08</code> 今天时间过得挺慢的，看上面一行字都不像今天写的。下载了刺客信条，垃圾的显卡让我无法尽兴。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>thought-body</title>
      <link href="/2018/06/09/thought-body/"/>
      <url>/2018/06/09/thought-body/</url>
      <content type="html"><![CDATA[<table><thead><tr><th>column0</th><th>column1</th></tr></thead><tbody><tr><td>2018060810</td><td>138.5</td></tr><tr><td>2018060823</td><td>140.2</td></tr><tr><td>2018060909</td><td>139.5</td></tr><tr><td>2018060913</td><td>139.1</td></tr><tr><td>2018060917</td><td>138.6</td></tr><tr><td>2018060923</td><td>140.3</td></tr><tr><td>2018061017</td><td>140.7</td></tr><tr><td>2018061020</td><td>139.9</td></tr><tr><td>2018061109</td><td>138.2</td></tr><tr><td>2018061123</td><td>140.6</td></tr><tr><td>2018061211</td><td>138.9</td></tr></tbody></table>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180609</title>
      <link href="/2018/06/09/diary20180609/"/>
      <url>/2018/06/09/diary20180609/</url>
      <content type="html"><![CDATA[<p><code>9:00:06</code> 最近闲暇时间听过，怎样分配时间呢。</p><p><code>13:06:07</code> 些许健了身。哪怕十分钟，这一天都是赚的。</p><p><code>17:21:23</code> 刷了几道简单的leetoode，感觉不错。</p><p><code>22:31:15</code> 晚上与胡去了凯李咖啡。</p><p>我才意识到问题所在。我止不住的焦虑和好强，来自于高中的习惯。“不学习就是犯罪”，我竟早已被衡中洗脑，而且长久以来都没有意识到。这显然不是好事，但也未必是坏事。坏在没有前辈指引，不知道是对是错。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>leetcode刷题学习记录</title>
      <link href="/2018/06/08/note-leetcode/"/>
      <url>/2018/06/08/note-leetcode/</url>
      <content type="html"><![CDATA[<h1 id="遇到的子问题："><a href="#遇到的子问题：" class="headerlink" title="遇到的子问题："></a>遇到的子问题：</h1><ol><li>二维数组（矩阵）优雅地按行遍历</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> C = A[<span class="number">0</span>].length;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span>[] row: A)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; C; ++i) &#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h1 id="易错点"><a href="#易错点" class="headerlink" title="易错点"></a>易错点</h1><ol><li>对于数组问题，经常把数组的内容索引不区分开，如i与a[i]。只要是索引，大多数情况应有符号。</li></ol><h1 id="算法优化"><a href="#算法优化" class="headerlink" title="算法优化"></a>算法优化</h1><ol><li>是否能替换为位运算？</li><li>涉及奇偶，for循环可否变为<code>i+=2</code>？</li></ol><h1 id="无解时的思路"><a href="#无解时的思路" class="headerlink" title="无解时的思路"></a>无解时的思路</h1><h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><ol><li>尝试排序？</li><li>涉及多个数组，遍历比较短的数组可以防止越界问题。</li><li>如果for循环遍历不方便，不妨试试while。</li></ol><h1 id="位运算专属题目"><a href="#位运算专属题目" class="headerlink" title="位运算专属题目"></a>位运算专属题目</h1><h2 id="计算一个二进制序列有多少个1"><a href="#计算一个二进制序列有多少个1" class="headerlink" title="- 计算一个二进制序列有多少个1"></a>- 计算一个二进制序列有多少个1</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">32</span>;i++)</span><br><span class="line">    count += (xor &gt;&gt; i) &amp; <span class="number">1</span>;</span><br></pre></td></tr></table></figure><p>原理：如何判断某位是1？，则<code>&amp;1</code>的结果是<code>1</code>。</p><p>或者</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (xor != <span class="number">0</span>) &#123;</span><br><span class="line">    xor &amp;= (xor - <span class="number">1</span>);</span><br><span class="line">    count++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>原理：每次一个<code>xor &amp;= (xor - 1);</code>都消去最后一个1。</p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据结构与算法 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180608</title>
      <link href="/2018/06/08/diary20180608/"/>
      <url>/2018/06/08/diary20180608/</url>
      <content type="html"><![CDATA[<p><code>12:24:41</code> 这两天高考，一如既往有很多新闻。打算下午再去一次海底捞看看。</p><p><code>12:35:15</code> 我发现自己已经养成了一个技能。每当心情低落，因琐事而难过，都会告诉自己，这是生理上的化学反应。不过是大脑中的那些化学物质，让我本能地逃跑而已。这样想着，就会好很多。</p><p><code>14:55:05</code> 第一次听到乌鸦叫的声音。应该不能说第一次，只是以前没注意过。“呀——呀——”的叫声，真的很难听，很烦人。</p><p><code>19:45:37</code> 去了海底捞！吃的蛮开心。海底捞的服务仍然十分出色，但是这次没人帮忙涮菜。然后赶在5点前付款，340多块钱的优惠了108块！</p><p><code>20:22:53</code> 没人能拯救我 除了我自己</p><p><code>23:48:06</code> 明天把毕业论文打印。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>常用软件下载地址</title>
      <link href="/2018/06/07/thought-favorite-software/"/>
      <url>/2018/06/07/thought-favorite-software/</url>
      <content type="html"><![CDATA[<table><thead><tr><th>软件</th><th>链接</th></tr></thead><tbody><tr><td>vscode</td><td><a href="https://code.visualstudio.com/docs/?dv=win" target="_blank" rel="noopener">https://code.visualstudio.com/docs/?dv=win</a></td></tr><tr><td>git</td><td><a href="https://git-scm.com/download/win" target="_blank" rel="noopener">https://git-scm.com/download/win</a></td></tr><tr><td>坚果云</td><td><a href="https://www.jianguoyun.com/static/exe/installer/NutstoreWindowsInstaller.exe" target="_blank" rel="noopener">https://www.jianguoyun.com/static/exe/installer/NutstoreWindowsInstaller.exe</a></td></tr><tr><td>有道词典</td><td><a href="http://cidian.youdao.com/download/YoudaoDict.exe" target="_blank" rel="noopener">http://cidian.youdao.com/download/YoudaoDict.exe</a></td></tr><tr><td>有道云笔记</td><td><a href="http://download.ydstatic.com/notewebsite/downloads/YNote.exe" target="_blank" rel="noopener">http://download.ydstatic.com/notewebsite/downloads/YNote.exe</a></td></tr><tr><td>360</td><td><a href="https://down.360safe.com/inst.exe" target="_blank" rel="noopener">https://down.360safe.com/inst.exe</a></td></tr><tr><td>360解压</td><td><a href="http://dl.360safe.com/360zip_setup_4.0.0.1080.exe" target="_blank" rel="noopener">http://dl.360safe.com/360zip_setup_4.0.0.1080.exe</a></td></tr><tr><td>360极速浏览器</td><td><a href="http://down.360safe.com/cse/360cse_9.5.0.132.exe" target="_blank" rel="noopener">http://down.360safe.com/cse/360cse_9.5.0.132.exe</a></td></tr><tr><td>微信</td><td><a href="http://dldir1.qq.com/weixin/Windows/WeChatSetup.exe" target="_blank" rel="noopener">http://dldir1.qq.com/weixin/Windows/WeChatSetup.exe</a></td></tr><tr><td>福昕阅读器</td><td><a href="http://file.foxitreader.cn/file/Channel/reader/foxit_FoxitReader_CHS_9.2.0.35791.exe" target="_blank" rel="noopener">http://file.foxitreader.cn/file/Channel/reader/foxit_FoxitReader_CHS_9.2.0.35791.exe</a></td><td></td></tr><tr><td>potplayer</td><td><a href="http://get.daum.net/PotPlayer64/Version/Latest/PotPlayerSetup64.exe" target="_blank" rel="noopener">http://get.daum.net/PotPlayer64/Version/Latest/PotPlayerSetup64.exe</a></td></tr><tr><td>XMeters</td><td><a href="https://entropy6.com/xmeters/downloads/XMetersSetup.exe" target="_blank" rel="noopener">https://entropy6.com/xmeters/downloads/XMetersSetup.exe</a></td></tr><tr><td>Everything</td><td><a href="http://www.voidtools.com/Everything-1.4.1.895.x86-Setup.exe" target="_blank" rel="noopener">http://www.voidtools.com/Everything-1.4.1.895.x86-Setup.exe</a></td></tr><tr><td>小米云客户端</td><td><a href="https://land.xiaomi.net/res/c37feea8/other/MiCloud%20Setup%200.1.24-ia32.exe" target="_blank" rel="noopener">https://land.xiaomi.net/res/c37feea8/other/MiCloud%20Setup%200.1.24-ia32.exe</a></td></tr><tr><td>百度网盘</td><td><a href="http://issuecdn.baidupcs.com/issue/netdisk/yunguanjia/BaiduNetdisk_6.2.0.exe" target="_blank" rel="noopener">http://issuecdn.baidupcs.com/issue/netdisk/yunguanjia/BaiduNetdisk_6.2.0.exe</a></td></tr><tr><td>TIM</td><td><a href="https://dldir1.qq.com/qqfile/qq/TIM2.2.0/23808/TIM2.2.0.exe" target="_blank" rel="noopener">https://dldir1.qq.com/qqfile/qq/TIM2.2.0/23808/TIM2.2.0.exe</a></td></tr><tr><td>QQ</td><td><a href="https://dldir1.qq.com/qqfile/qq/QQ9.0.3/23756/QQ9.0.3.exe" target="_blank" rel="noopener">https://dldir1.qq.com/qqfile/qq/QQ9.0.3/23756/QQ9.0.3.exe</a></td></tr><tr><td>搜狗输入法</td><td><a href="http://cdn2.ime.sogou.com/afdf66e02f22b0123f7bd1cd23beb5be/5b18c2a2/dl/index/1527229887/sogou_pinyin_90b.exe" target="_blank" rel="noopener">http://cdn2.ime.sogou.com/afdf66e02f22b0123f7bd1cd23beb5be/5b18c2a2/dl/index/1527229887/sogou_pinyin_90b.exe</a></td></tr><tr><td>minGW-w64</td><td><a href="https://cytranet.dl.sourceforge.net/project/mingw-w64/Toolchains%20targetting%20Win32/Personal%20Builds/mingw-builds/installer/mingw-w64-install.exe" target="_blank" rel="noopener">https://cytranet.dl.sourceforge.net/project/mingw-w64/Toolchains%20targetting%20Win32/Personal%20Builds/mingw-builds/installer/mingw-w64-install.exe</a></td></tr><tr><td>intelliJ idea</td><td><a href="https://www.jetbrains.com/idea/download/download-thanks.html?platform=windows" target="_blank" rel="noopener">https://www.jetbrains.com/idea/download/download-thanks.html?platform=windows</a></td></tr><tr><td>Ditto</td><td><a href="https://sourceforge.net/projects/ditto-cp/files/Ditto/3.21.223.0/DittoSetup_64bit_3_21_223_0.exe/download" target="_blank" rel="noopener">https://sourceforge.net/projects/ditto-cp/files/Ditto/3.21.223.0/DittoSetup_64bit_3_21_223_0.exe/download</a></td></tr><tr><td>honeyview</td><td><a href="https://dl.bandisoft.com/honeyview/HONEYVIEW-SETUP.EXE" target="_blank" rel="noopener">https://dl.bandisoft.com/honeyview/HONEYVIEW-SETUP.EXE</a></td></tr><tr><td>mysql</td><td><a href="https://cdn.mysql.com//Downloads/MySQLInstaller/mysql-installer-community-8.0.11.0.msi" target="_blank" rel="noopener">https://cdn.mysql.com//Downloads/MySQLInstaller/mysql-installer-community-8.0.11.0.msi</a></td></tr><tr><td>sqlyog</td><td><a href="https://www.webyog.com/downloadtracker?wy=1706601&amp;pType=EXE&amp;bit=64" target="_blank" rel="noopener">https://www.webyog.com/downloadtracker?wy=1706601&amp;pType=EXE&amp;bit=64</a></td></tr><tr><td>python3</td><td><a href="https://www.python.org/ftp/python/3.6.5/python-3.6.5-amd64.exe" target="_blank" rel="noopener">https://www.python.org/ftp/python/3.6.5/python-3.6.5-amd64.exe</a></td></tr><tr><td>node.js</td><td><a href="https://nodejs.org/dist/v8.11.3/node-v8.11.3-x64.msi" target="_blank" rel="noopener">https://nodejs.org/dist/v8.11.3/node-v8.11.3-x64.msi</a></td></tr><tr><td>chrome</td><td><a href="https://www.google.cn/chrome/" target="_blank" rel="noopener">https://www.google.cn/chrome/</a></td></tr><tr><td>网易云音乐</td><td><a href="https://music.163.com/api/pc/download/latest" target="_blank" rel="noopener">https://music.163.com/api/pc/download/latest</a></td></tr></tbody></table>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180607</title>
      <link href="/2018/06/07/diary20180607/"/>
      <url>/2018/06/07/diary20180607/</url>
      <content type="html"><![CDATA[<p><code>23:54:58</code> 今天白天把电脑重装了，下午到图书馆看了看书。看到文学区，老舍，胡适，丰子恺，史铁生。他们的散文大多是日记或游记，阅读他们的作品，好像在与他们直接对话。</p><p>记录下今天在图书馆的思考。</p><p>刷题，为别人讲解，是最好最快的学习方法。</p><p>通过学信息安全来学操作系统和计算机网络。</p><p>追求三个境界：</p><ol><li>正确写出程序</li><li>快速写出程序</li><li>不断优化性能</li></ol><p>游戏是各种技术的综合。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180606</title>
      <link href="/2018/06/07/diary20180606/"/>
      <url>/2018/06/07/diary20180606/</url>
      <content type="html"><![CDATA[<p><code>0:07:58</code> 即将答辩，将会是什么场面呢？</p><p><code>0:49:47</code> 答辩结束，如想象般平常。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180605</title>
      <link href="/2018/06/05/diary20180605/"/>
      <url>/2018/06/05/diary20180605/</url>
      <content type="html"><![CDATA[<p><code>13:41:55</code> 来到久违的库可咖啡，喝了久违的卡布奇诺。</p><p>今天早晨起来突然就觉醒了。对自己哪里不满意，改就是了。只不过要意识到，自身任何方面的改变、改良，都是一个长期的过程。时间没到，没有看到反馈，自然就会难以坚持。要耐心，要看的远。</p><p><code>13:50:56</code> 库可咖啡这里网速是真好，但是太热了。。</p><p><code>22:44:08</code> </p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180604</title>
      <link href="/2018/06/04/diary20180604/"/>
      <url>/2018/06/04/diary20180604/</url>
      <content type="html"><![CDATA[<p><code>15:31:03</code> 来到书香斋。没有抢到好地方。左肩酸痛。开始制作答辩ppt。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180603</title>
      <link href="/2018/06/03/diary20180603/"/>
      <url>/2018/06/03/diary20180603/</url>
      <content type="html"><![CDATA[<p><code>13:28:35</code> 昨天晚上喝了很多，昨晚睡得还不错。但仍然觉得时间过了很久。</p><p><code>0:09:08</code> 下午本来打算去海底捞，到那里发现需要排两小时的队。于是转战佰烧，扶着墙进扶着墙出。晚上回家，跟胡、浩去了网吧。与预期一样，没有什么好玩的。我不爱玩游戏这个毛病看来是改不了了。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180602</title>
      <link href="/2018/06/02/diary20180602/"/>
      <url>/2018/06/02/diary20180602/</url>
      <content type="html"><![CDATA[<p><code>22:35:10</code> 今天拍了一天的毕业照，晚上跟班里吃烧烤，喝酒，觥筹交错。心病仍存。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180601</title>
      <link href="/2018/06/01/diary20180601/"/>
      <url>/2018/06/01/diary20180601/</url>
      <content type="html"><![CDATA[<p><code>15:13:01</code> 来到毓秀楼自习室。</p><p>昨天晚上玩了会儿战地1，相当不错。然后就是今天起床时很累。</p><p>今天六一儿童节，又一波朋友圈。</p><p>收到论文修改意见，改了一些不痛不痒的格式问题。</p><p><code>18:26:01</code> 最好的训练方式是封闭，集中，多人。学弟在acm校队，一练就是一天，收获自然非常多。</p><p><code>19:35:07</code> 如果学习任务不明确，最好的方式是去封闭人多的场所。如果明确，则可以到空旷适宜的畅所。</p><p><code>20:14:53</code> 人生没有幸福，只能尝试避免悲伤。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>人生节点</title>
      <link href="/2018/05/31/diary-big-events/"/>
      <url>/2018/05/31/diary-big-events/</url>
      <content type="html"><![CDATA[<p>以此记录人生中值得记录的节点，方向从底向上。</p><p>2018年</p><p><code>6月2日</code> 拍毕业照，班级最后的聚餐</p><p><code>5月26日21:30:00~27日16:20:00</code> 湖大黑客马拉松</p><p><code>5月26日19:00~21:30:00</code> 毕业晚会</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 大事记 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180531</title>
      <link href="/2018/05/31/diary20180531/"/>
      <url>/2018/05/31/diary20180531/</url>
      <content type="html"><![CDATA[<p><code>9:15:40</code> 梦见语文老师让写一天一练，我忘了写，被罚一周，骂骂咧咧的醒来。</p><p><code>16:24:41</code> 看了一下午小米新品发布会，小米8探索版很酷。</p><p><code>16:25:13</code> 每每遇到招聘，心里都会打鼓。怎样才能在内心深处对自己有自信呢，至少在技术上？</p><p><code>16:32:34</code> 总结一下，我应当把每天用来编程的时间分成两种，一种是深入当前的方向，另一种则是跟随潮流。所谓当前的方向，基本就是每次面试都会问到的核心能力，操作系统，算法，其中操作系统中比较重要的概念是内存管理。而跟随潮流，则是尝试去追随当前热门的东西，或者好玩的东西，区块链，机器学习，前端等等。</p><p><code>16:42:06</code> 发现了两个新的学习维度，一是关键字。把一门编程语言的所有关键字理解了，也就学会了这门语言了。二是错误反馈，如果不这样做，会发生什么？不能仅仅知道这样做会报错，还要知道这样做会报什么错。有必要专门总结一下。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180530</title>
      <link href="/2018/05/30/diary20180530/"/>
      <url>/2018/05/30/diary20180530/</url>
      <content type="html"><![CDATA[<p><code>15:54:44</code> 在毓秀楼呆了一下午，尝试学一下Qt，来添加博客的图片上传功能。今天上午下了场非常大的雨。</p><p><code>20:44:53</code> 下午帮邱素欣写了一个<code>C++</code>的程序，感觉很好。</p><p><code>21:22:15</code> 把前几天的照片补一下。如果每天不把当天的照片补上，之后就几乎没有动力了。所以一定要尽可能自动化的搞定。</p><p>26号的毕业晚会的门票很好看，一个可动卡片和一个贴纸。晚会还是不错的。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180526%E6%AF%95%E4%B8%9A%E6%99%9A%E4%BC%9A.jpg" alt=""></p><p>毕业晚会当晚到超算中心救场，坚持到活动搞完，给了个参赛证明。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180527%E9%BB%91%E5%AE%A2%E9%A9%AC%E6%8B%89%E6%9D%BE1.jpg" alt=""></p><p>坚持30个小时，迈出大门，那一刻的感觉非常美好。那时候是27号的下午。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180527%E9%BB%91%E5%AE%A2%E9%A9%AC%E6%8B%89%E6%9D%BE2.jpg" alt=""></p><p>回到家后，昏昏睡去，从下午4点到晚上10点，太累了。晚上清醒了4个小时，2点又睡了，一直睡到第二天11点。当晚梦见了一个小学同学，这段梦成了接下来两天最美好的记忆。</p><p>早上醒来看到一些留言。希望都好，希望这种感情一直在，希望有一天能自信的见上一面，哪怕一面。</p><p>此时已是周一，下午还忘了去找王老师。</p><p>周二，29号，终于去一个叫做毓秀楼的新教学楼取回了三方，也发现了这个新的神奇的自习室。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180529%E4%B8%89%E6%96%B9.jpg" alt=""></p><p>今天的自习。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180530%E6%AF%93%E7%A7%80%E6%A5%BC%E5%92%96%E5%95%A1.jpg" alt=""></p><p>晚饭出来看到一个环卫工人，还有陪着她的小狗。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180530%E6%99%9A%E9%A5%AD%E5%90%8E.jpg" alt=""></p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180529</title>
      <link href="/2018/05/29/diary20180529/"/>
      <url>/2018/05/29/diary20180529/</url>
      <content type="html"><![CDATA[<p><code>10:59:16</code> 社会契约不是儿戏，想太多没有用。</p><p><code>14:12:15</code> 真的有必要写个图片上传的客户端。</p><p><code>19:26:17</code> 今天心情不错，一切顺利。</p><p>上午去新·新校区，毓秀楼，终于把我的三方取回来了。回来到文涛那里交材料，该交的都交了，原来团员证早就上交了一直没发下来。下午在毓秀楼看了几个小时的机器学习。晚上把论文打印完。</p><p><code>20:48:21</code> 学习任何一个领域的新知识，都至少坚持一个星期。这两天尝试搞机器学习，真心需要坚持。</p><p><code>21:20:33</code> 发现<code>node.js</code>挺有趣的，学习一下。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180528</title>
      <link href="/2018/05/28/diary20180528/"/>
      <url>/2018/05/28/diary20180528/</url>
      <content type="html"><![CDATA[<p><code>13:46:25</code> 来到凯李，占到了最好的位置。</p><p>昨天下午4点多从超算中心回家，毕竟精神了30个小时，直接躺床上睡着了。晚上10点多醒来，盖好被子，大概2点多又睡了。做了一个梦，简直是有生之年最好的梦了。</p><p>这两天过得像过了一个星期。先是毕业晚会，然后去黑客马拉松的活动，还有昨天的美梦，还有一些留言，都很值得回忆。但是有些也只能回忆了。</p><p><code>17:00:46</code> 看了自己在2013年写的一篇日志。我原以为我删了，或者至少是设置仅我自己可见。原来是指定好友可见，只有你一个。现在不是好友了，但还这样设置着。就这样吧。</p><p>我怀念那时的自己，傻逼但充满干劲；现在可能相反了，不太傻逼，但变得有些畏首畏尾。</p><p><code>17:11:42</code> 感谢，感谢共同拥有的记忆，带领你时常到梦里陪我。但我能做的也只是不去打扰，过更好的生活。同愿三冬暖，亦祝春不寒。</p><p><code>18:14:58</code> 给博客增加了一个带<code>www</code>的域名。</p><p><code>2:08:35</code> 阴阳差错下载了当年十佳班长的视频，看到十秒就看不下去了，太羞耻了。。。不过仍然保存了起来。真好啊，肆无忌惮的年纪。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180527</title>
      <link href="/2018/05/27/diary20180527/"/>
      <url>/2018/05/27/diary20180527/</url>
      <content type="html"><![CDATA[<p><code>14:13:27</code> 毕业晚会，开头和结尾，眼睛确实是模糊的。</p><p><code>14:17:44</code> 最终还是来到超算中心救场，帮几个学弟学妹熬完黑客马拉松。从昨晚到现在，我以最高精力熬了一宿，还结交了几个非常靠谱的学弟。当进入那种专注的状态时，精神集中的让我自己都害怕。最终没有到达终审，但是我从未想过自己能这么快的解决问题。很满足。现在在观望其他选手。</p><p><code>14:26:13</code> 看到了一些留言，难以平复。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>编程语言创造日记</title>
      <link href="/2018/05/26/note-language-create-log/"/>
      <url>/2018/05/26/note-language-create-log/</url>
      <content type="html"><![CDATA[<h2 id="尝试使用语言-helloworld"><a href="#尝试使用语言-helloworld" class="headerlink" title="尝试使用语言 helloworld"></a>尝试使用语言 helloworld</h2><p>print(“helloworld”);</p><p>函数的定义：</p><p>读取文件，读取字符串，如果</p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 编程语言 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180526</title>
      <link href="/2018/05/26/diary20180526/"/>
      <url>/2018/05/26/diary20180526/</url>
      <content type="html"><![CDATA[<p><code>12:06:36</code> 来到凯李咖啡。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180525</title>
      <link href="/2018/05/25/diary20180525/"/>
      <url>/2018/05/25/diary20180525/</url>
      <content type="html"><![CDATA[<p><code>19:02:19</code> 收拾完毕业设计一堆东西。填了华为的报道单。</p><p><code>1:01:41</code> 看了《C Primer Plus》，这书写的真好，翻译的真好。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>操作系统——数据的结构与表示</title>
      <link href="/2018/05/25/note-os-data/"/>
      <url>/2018/05/25/note-os-data/</url>
      <content type="html"><![CDATA[<h2 id="无符号数"><a href="#无符号数" class="headerlink" title="无符号数"></a>无符号数</h2><p>首先，操作系统中所有数据本质上以二进制存储。</p><p>每一串二进制值序列都可以通过一定的逻辑看做为一个十进制值。如二进制的0101就是十进制的5。这实际上就是“无符号”（unsigned）编码，其中的计算过程被称为B2U<sub>w</sub>，即Binary to Unsigned,w是长度。</p><p>例如，B2U<sub>4</sub>([1011])=11,即每个数位乘以2的n次方相加，n依次至0.</p><p>易知，无符号数的取值范围为[0,2<sup>w</sup>-1]。</p><h2 id="补码"><a href="#补码" class="headerlink" title="补码"></a>补码</h2><p>补码的英文是“two’s-complement”，意味“二进制的”</p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 操作系统 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>编程语言概念</title>
      <link href="/2018/05/25/note-language-common/"/>
      <url>/2018/05/25/note-language-common/</url>
      <content type="html"><![CDATA[]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 编程语言 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>C语言环境问题总结</title>
      <link href="/2018/05/25/note-c-env/"/>
      <url>/2018/05/25/note-c-env/</url>
      <content type="html"><![CDATA[]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180524</title>
      <link href="/2018/05/24/diary20180524/"/>
      <url>/2018/05/24/diary20180524/</url>
      <content type="html"><![CDATA[<p><code>12:16:44</code> 今天学校体检。</p><p><code>13:13:17</code> 赶紧把参考文献补齐。。</p><p><code>15:19:07</code> 体检完毕。面对同学，我毫无自信站立，每时每刻都想躲开。身上的衣服大概一个月没换了。如果以后谁看到这句话，请不要惊讶。希望我自己在一两年后看到这句话时，不会是同样的感受。</p><p><code>20:49:50</code> 今天明白了一些事情。</p><p>在体检时，我再次体会到那种不安的感觉。我去晚了几分钟，文涛告诉我，由于许莹填她自己的体检表时填错了，而表是不可更改且数目有限的，就用了一张新的，意味着我没有表可用，只能暂时拿着许莹填错的那张表。这没啥。之后看到班里的同学，男生女生，我的头上瞬间像有千斤顶，压得脖子痛。我的自尊已经在心里自暴自弃，像一个打了败仗的将军，屡败屡战，直到绝望，再也没有了士气。</p><p>这当然是因为我的头发，还因为我愈加臃肿的身体，还有身上好久没洗的衣服，还有别人当然轻易闻不到的臭汗。</p><p>大概半小时前终于把毕业论文写完，我突然明白了，一种使命感涌了上来。</p><p>我之前以为我需要用身价、职业、工资来证明自己存在，试图把签约的公司名称当做敌人首级献给我的自尊心。然而我错了，工作确定后我的心情并没有好转，反而变得更加自卑。这种自卑是自然的，少时不知天高地厚到大学见了世面，期待感的提高没有配上自身的进步。我终于意识到，我的自卑，来源于不自信。</p><p>多奇怪的说法，自卑来源于不自信？是的，我不是因为外貌或身价之类的“容易”自卑的事情，而是因为多方面综合引起的“不自信”。我并不从心底热爱编程，只是因为蓝杰这个群体中的牛人太过耀眼，我不想仅仅被照耀而已；另外，我似乎也没有其他路可走。这导致了我到如今仍然会不实际地对比自己与业界大牛的差距，这差距会让我失落。我经常给自己某个理由，为了专注于某件我不喜欢的事情，我可以慵懒或放飞自己，暴食、看片，好像跟我大二时很像？久而久之，我不再敢照镜子，这会让我免受自己的恶心。</p><p>毕业论文结束之后，我再也没有了理由。我在很久以前也会如此，经过任何仪式性的事件之后，我会把自己收拾的精致一些，然后立刻恢复颓废状态。现在看来，那是因为我没有找到生存的意义。</p><p>现在有了，那就是在现实这款开放世界游戏中找到最终的宝藏——我的自信。人生的每一天都是一个关卡，每个关卡都非常相似，只是自问自答的一个小问题：“如果现在发生……，我会自信地面对吗？”如果作出的回答是“是”，恭喜我自己，我今天过关了。如果是否，很遗憾，今天是没有意义的一天。</p><p>如果现在有朋友来到我的房间玩，我会有自信接待他吗？</p><p>如果有朋友约我去游泳池，我会有自信去吗？</p><p>如果现在让我跟班里某个女生做两节课的同桌，我会有自信持续下去吗？</p><p>如果我的女朋友想亲吻我，我会有自信不躲避吗？如果不是亲吻呢？</p><p>可笑的问题！但答案都是否定的，都他妈是否定的。</p><p>这不是散文，不需要有什么完美的结尾。按照这个思路度过接下来的每一天，看看会有什么改变吧。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180523</title>
      <link href="/2018/05/23/diary20180523/"/>
      <url>/2018/05/23/diary20180523/</url>
      <content type="html"><![CDATA[<p><code>11:30:01</code> 来到凯李咖啡。这里的绿茶是泡茶包，红茶是泡茶叶。昨天看到雷蛇新发布的游戏本，极其轻薄极其强劲，就是贵。以后有钱了要入手。</p><p><code>11:36:00</code> 尝试在桌面环境下隐藏任务栏，也许可以更专注。好吧，非常有效！</p><p><code>16:42:22</code> 肩膀酸痛，打道回府。</p><p><code>18:02:40</code> 生活可以多绝望？打道回府吃了晚饭回到家发现电源线落下一半在咖啡店！</p><p><code>18:28:35</code> 取回来了。</p><p><code>18:28:57</code> 来回的路上急躁而不顾行人，感觉有点刺激。也许最适合我的状态是战士，而非艺术家。</p><p><code>18:31:57</code> 检查了一下前天老师指出的论文的问题列表，发现基本都解决了。</p><p><code>0:47:17</code> 今天大概是有史以来打字最多的一天。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>用例规约案例</title>
      <link href="/2018/05/22/note-se-usecase-example/"/>
      <url>/2018/05/22/note-se-usecase-example/</url>
      <content type="html"><![CDATA[<h1 id="题目："><a href="#题目：" class="headerlink" title="题目："></a>题目：</h1><p>某生物研究室希望通过放射线来改良稻种，所以决定用不同剂量的射线照射不同稻种来研究变异情况。放射源放在一个深井里，实验进行时把放射源升上来，试验完毕降下去。由于放射性很强，不允许放射源升起时有人在放射室内，但研究人员希望能在实验进行时监控实验进行的情况。技术人员提出了一个方案:系统打算分服务器端和客户端，服务器端有一个USB摄影头，用来捕捉现场视频。客户端可向服务器发出请求，请求其现场视频数据，服务器收到请求后，将从USB摄影头捕捉到的视频进行编码，然后发送给客户端。客户端收到视频数据后先解码，然后在本地播放。服务器和客户程序之间的会话和视频流数据的传送采用RTSPRIP协议。</p><p>下面是开发人员一开始写的用例规约，请分析其中的问题并加以改进。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">UC1:播放视频</span><br><span class="line">执行者</span><br><span class="line">    研究人员(主)</span><br><span class="line">前置条件、后置条件略</span><br><span class="line">涉众利益</span><br><span class="line">    研究人员:希望看到视频;希望有尽可能多的可选范围(不同的地方以及同一地方的不同视角);希望操作简单。</span><br><span class="line">    客户端:希望网络稳定</span><br><span class="line">基本路径</span><br><span class="line">1.  研究人员在客户机上请求播放视频</span><br><span class="line">2.  研究人员输入连接参数</span><br><span class="line">3.  客户机系统检查连接参数</span><br><span class="line">4.  客户机系统请求和服务器系统建立通讯连接</span><br><span class="line">5.  服务器系统确认客户机系统的连接请求</span><br><span class="line">6.  服务器系统增加连接计数</span><br><span class="line">7.  客户机系统显示视频播放窗口</span><br><span class="line">8.  服务器系统启动视频采集</span><br><span class="line">9.  服务器系统对视频数据编码</span><br><span class="line">10. 服务器系统发送视频流</span><br><span class="line">11. 客户机系统接收视频流</span><br><span class="line">12. 客户机系统对视频流解码</span><br><span class="line">13. 客户机系统在视频播放窗口播放视频</span><br></pre></td></tr></table></figure><h1 id="问题指出"><a href="#问题指出" class="headerlink" title="问题指出"></a>问题指出</h1><h2 id="1-用例编号和用例名不规范。"><a href="#1-用例编号和用例名不规范。" class="headerlink" title="1.用例编号和用例名不规范。"></a>1.用例编号和用例名不规范。</h2><p>应该改为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">用例编号：UC1</span><br><span class="line">用例名：播放现场视频</span><br></pre></td></tr></table></figure><h2 id="2-前置条件和后置条件不应忽略。"><a href="#2-前置条件和后置条件不应忽略。" class="headerlink" title="2.前置条件和后置条件不应忽略。"></a>2.前置条件和后置条件不应忽略。</h2><p>应该改为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">前置条件：</span><br><span class="line">    无</span><br><span class="line">后置条件：</span><br><span class="line">    客户端完整播放现场视频</span><br></pre></td></tr></table></figure><h2 id="3-涉众利益描述不规范，应该是人而非“客户端”之类的抽象实体；应当描述为涉众的想法而非技术要点；应当有恰当的排序；“希望有尽可能多的可选范围”应当写在一个或多个单独的用例规约中"><a href="#3-涉众利益描述不规范，应该是人而非“客户端”之类的抽象实体；应当描述为涉众的想法而非技术要点；应当有恰当的排序；“希望有尽可能多的可选范围”应当写在一个或多个单独的用例规约中" class="headerlink" title="3.涉众利益描述不规范，应该是人而非“客户端”之类的抽象实体；应当描述为涉众的想法而非技术要点；应当有恰当的排序；“希望有尽可能多的可选范围”应当写在一个或多个单独的用例规约中"></a>3.涉众利益描述不规范，应该是人而非“客户端”之类的抽象实体；应当描述为涉众的想法而非技术要点；应当有恰当的排序；“希望有尽可能多的可选范围”应当写在一个或多个单独的用例规约中</h2><p>应该改为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">去掉“客户端:希望网络稳定”等。</span><br></pre></td></tr></table></figure><h2 id="4-基本路径的问题"><a href="#4-基本路径的问题" class="headerlink" title="4.基本路径的问题"></a>4.基本路径的问题</h2><ol><li>应当将整个系统视为黑箱，不应出现涉及“服务器，客户端”的冗余描述；</li><li>网络参数应当作为前置条件。</li></ol><h1 id="改正结果"><a href="#改正结果" class="headerlink" title="改正结果"></a>改正结果</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">用例编号：UC1</span><br><span class="line">用例名：播放现场视频</span><br><span class="line">前置条件：</span><br><span class="line">    网络参数已经设置完毕</span><br><span class="line">后置条件：</span><br><span class="line">    无</span><br><span class="line">涉众利益：</span><br><span class="line">    研究人员:担心看不到视频；担心操作复杂</span><br><span class="line">基本路径:</span><br><span class="line">    1. 研究人员请求播放现场视频</span><br><span class="line">    2. 系统显示视频播放窗口并播放视频</span><br><span class="line">扩展路径：</span><br><span class="line">    1a. 网络无法连接，无法播放视频</span><br><span class="line">        1a1. 系统提示网络参数错误，需要重新设置</span><br><span class="line">非功能需求：</span><br><span class="line">    视频应当至少达到720p的清晰度</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">用例编号：UC2</span><br><span class="line">用例名：以不同视角播放现场视频</span><br><span class="line">前置条件：</span><br><span class="line">    系统已打开视频窗口并播放视频</span><br><span class="line">后置条件：</span><br><span class="line">    无</span><br><span class="line">涉众利益：</span><br><span class="line">    研究人员:希望有尽可能多的可选范围(不同的地方以及同一地方的不同视角)</span><br><span class="line">基本路径:</span><br><span class="line">    1. 研究人员请求以某种视角播放视频</span><br><span class="line">    2. 系统按指定视角显示视频播放窗口并播放视频</span><br></pre></td></tr></table></figure><p>参考资料：<a href="http://www.umlchina.com/book/softmeth.htm" target="_blank" rel="noopener">《软件方法（上） 业务建模和需求》</a></p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件工程 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180522</title>
      <link href="/2018/05/22/diary20180522/"/>
      <url>/2018/05/22/diary20180522/</url>
      <content type="html"><![CDATA[<p><code>14:10:40</code> 来到凯李。今天天气出奇的凉快。</p><p><code>14:50:55</code> 计算机学科复杂而多样，每个方向的精通都需要付出巨大的成本。如果不是从小就对某个方向拥有浓厚兴趣，后天很难完全靠兴趣来培养专业能力。有一种思路值得思考：如果十年后从技术转（技术）管理，现在应该拥有什么能力，应该培养什么能力？我觉得应当是开发效率、大型（复杂）软件的架构，人员配置，甚至人脉积累。细化到具体的学习方向，扎实的基础+一专多强的知识面，应当是努力的风向标。</p><p><code>16:19:42</code> 现在才明白，微软的to-do实际上是任务驱动，最终目的是将圆圈画勾。</p><p><code>0:30:42</code> 如果想的太多，放不下的太多，就去听音乐吧！</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>巨人的肩膀——优秀者是怎样学习的？</title>
      <link href="/2018/05/21/note-study-experience/"/>
      <url>/2018/05/21/note-study-experience/</url>
      <content type="html"><![CDATA[<hr><p>作者：逸文奥特曼<br>链接：<a href="https://www.zhihu.com/question/268475346/answer/338387150" target="_blank" rel="noopener">https://www.zhihu.com/question/268475346/answer/338387150</a><br>来源：知乎<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p><p>谢邀~,题主我跟你一样,现在大四,当初大二的时候看到知乎有关写os的课程,感觉非常有趣又可以深入理解底层知识. 于是我大二下学期开始自学os课程,先看了os的理论书(现代操作系统跟csapp),接着想着应该可以写os了吧,毕竟我也会c/c++,然后看学堂在线的ucores..结果lab做的很艰难,觉得自己基础很不扎实.  于是在知乎的推荐下,开始学汇编(王爽汇编语言),然后学习32位汇编跟x86的保护模式(非常推荐看李忠的x86从实模式到保护模式,谁用谁知道),然后买了一本unix内核源码剖析,看了这本书发现用的是pdp11汇编,过于古老,然后查到mit基于x86重写了unix v6,就是现在的xv6,具体如何学习xv6可以看这,很多人已经推荐了,知乎用户：如何结合xv6 book来阅读xv6源代码？ ,然而我英文实在是惨不忍睹,没能坚持下去(题主别学我).  然后搜到一本操作系统真象还原,然后感觉跟见了宝一样,疯狂的跟着书做实验写代码,从mbr,bootloader到内存管理,进程线程的创建,进程调度,文件系统最后实现带命令行的shell2个半月读完并自己写代码实现书上的功能(这里有我对这本书的评价:又一本国人写的精品的计算机书籍),回首发现自己对整个os的运行机制有了重新的认识,这种感觉爽爆了.  然后自己开始膨胀了,看看看Linux内核了,在豆瓣搜了几本内核书,一本linux内核设计与实现,一本毛德操的Linux内核源代码情景分析,学习毛德操老师的这本书是最艰苦跟最难啃的,这书写得很枯燥，讲述代码细节的部分太多了，总是晕头转向,第一遍看到第三章就放弃了,第二遍就除了文件系统这块,这本书的上册总算慢慢啃啃完了(由于大四拿到offer后各种浪也不去实习了,很多知识点都忘了,毕竟只是看Linux2.4内核并没有动手实践,这点是我做的非常不对的地方)  另外一本Linux内核设计与实现比较薄,写的不纠结内核代码本身，而是把握了内核设计的思想及精华所在,解释的也很到位.,然后到了大三下学期开始投简历了,把自己模仿写的简易os写上去,还有读Linux2.4内核的博客笔记也写到简历上去了,然后成功拿到了offer2017年自己的腾讯春招面经,实习时做的是对底层框架的优化跟重构,由于自己对底层的了解,底层框架性能也提升了不少,由此也成功转正并拿到了ssp offer.  我回忆这段经历都觉得写一个os对我的帮助远远超出其他课程.由此我觉得本科阶段很有必要自己实现一个os内核~</p><hr><p>1.编码2.c语言程序设计，c语言之父那本3.csapp4.sicp5.调试9法6.离散数学，国外著名的那本7.计算机网络自顶向下方法8.tcpip 卷19.lwip相关书籍10.虎书11.编译原理12.Ucos相关书籍13.Linux 0.11 赵囧那本14.Linux源代码 毛德操那边14.5 head first python15.代码大全16.修改代码的艺术？17.工作日保证4个小时看书时间18.每天跑步5公里，23点之前睡觉，6点起看书19.和同行多交流，多沟通20.少刷知乎ps: 一遍看不懂就多看几遍，有习题的要做习题</p><p>作者：jack lee<br>链接：<a href="https://www.zhihu.com/question/43440229/answer/111548738" target="_blank" rel="noopener">https://www.zhihu.com/question/43440229/answer/111548738</a><br>来源：知乎<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p><hr><p>有哪些信息安全方面的经典书籍？ - 黄博文的回答 - 知乎<br><a href="https://www.zhihu.com/question/21390646/answer/24488156" target="_blank" rel="noopener">https://www.zhihu.com/question/21390646/answer/24488156</a></p><hr>]]></content>
      
      
    </entry>
    
    <entry>
      <title>diary20180521</title>
      <link href="/2018/05/21/diary20180521/"/>
      <url>/2018/05/21/diary20180521/</url>
      <content type="html"><![CDATA[<p><code>12:38:43</code> 其实可以直接右键git bash直接打开命令行，不一定要powershell。</p><p><code>12:42:57</code> 好吃点的粗粮饼干当饭吃一点问题没有。</p><p><code>16:10:47</code> 毕设进展顺利，胜利在望！</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180520</title>
      <link href="/2018/05/20/diary20180520/"/>
      <url>/2018/05/20/diary20180520/</url>
      <content type="html"><![CDATA[<p><code>13:06:48</code> 来到凯李。以后应该尝试习惯最小化而非关闭。</p><p><code>14:48:13</code> 论文</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180519</title>
      <link href="/2018/05/19/diary20180519/"/>
      <url>/2018/05/19/diary20180519/</url>
      <content type="html"><![CDATA[<p><code>12:34:53</code> 来到凯李咖啡。</p><p>把任务栏又移到了右边。</p><p><code>13:43:57</code> 目前而言，最好的“尽快完成不喜欢的事情”的办法就是听一些语调平静但富有力量的钢琴曲，比如《Fight Against Myself》。</p><p><code>21:40:32</code> 音乐是饥饿感官注意力的转移。</p><p><code>22:55:38</code> 刷知乎，逐渐感觉计算机图形学是一个非常锻炼人的方向。第二次看到轮子哥的计算机三大浪漫：操作系统，编译原理，计算机图形学。之后可以尝试下。</p><p><code>0:26:10</code> 有的时候真的怀疑，冥冥中有一个控制命运的人，偶尔就会捉弄我一下。白天在凯李咖啡见到一个穿着粉色衣服瘦瘦的哥们走出门，看起来像何子琪。我给他发了qq，他说他在寝室。如此简单的对话。晚上从凯李回家，琢磨着吃点什么，在临下坡前买了炒饭，回头发现有人叫我，竟然就是何子琪！上来第一句话就是问候我的发际线，我一时不知如何是好。我上次见他已是几个月之前，没想到这次见面的方式如此偶然，又如此巧合。真的好像被命运捉弄。</p><p>如果真有命运的话，感谢你，让我得了一种的绝症。不痛不痒，而痛苦至极的绝症，也大概只有这一种了吧。</p><p><code>0:41:22</code> 果然写作对技术人员的发展是有大大的好处的。。计划开始写博客了。</p><p><code>0:54:42</code> 操作系统，编译原理。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>UML学习笔记</title>
      <link href="/2018/05/18/note-diagram-uml/"/>
      <url>/2018/05/18/note-diagram-uml/</url>
      <content type="html"><![CDATA[<h1 id="UML类图"><a href="#UML类图" class="headerlink" title="UML类图"></a>UML类图</h1><h2 id="类之间关系"><a href="#类之间关系" class="headerlink" title="类之间关系"></a>类之间关系</h2><ul><li>泛化(generalization)</li><li>实现(realize)</li><li>聚合(aggregation)</li><li>组合(composition)</li><li>关联(association)</li><li>依赖(dependency)</li></ul><h3 id="泛化与实现"><a href="#泛化与实现" class="headerlink" title="泛化与实现"></a>泛化与实现</h3><ul><li>泛化：</li></ul><p>代码中表现为继承非抽象类。子类是父类的一种(is-a)，且父类和子类都是具体的，现实中有模板的。</p><p>如：汽车——福特牌汽车。</p><p>图例为实线空心三角。</p><ul><li>实现：</li></ul><p>代码中表现为继承抽象类。子类是父类的一种，且父类无法直接描述。</p><p>如：车——客车，车——卡车</p><p>图例为虚线空心三角。</p><h3 id="聚合与组合"><a href="#聚合与组合" class="headerlink" title="聚合与组合"></a>聚合与组合</h3><ul><li>聚合</li></ul><p>表示整体由部分构成，且整体消失后部分不会消失，即非强依赖关系。其中整体一般为人所理解的抽象概念。</p><p>如：部门——员工，班级——学生</p><p>图例为实现空心菱形</p><ul><li>组合</li></ul><p>表示整体由部分构成，且整体消失后部分也消失，即强依赖关系。均为人所理解的抽象概念。</p><p>如：公司——部门，学校——班级</p><p>图例为实线实心菱形</p><h3 id="关联与依赖"><a href="#关联与依赖" class="headerlink" title="关联与依赖"></a>关联与依赖</h3><ul><li>关联</li></ul><p>代码中表现为类成员变量。表示不同类之间的静态的关系（名词），通常与运行状态无关，用来定义天然的结构，是一种“强关联”的关系。</p><p>如：人——火车票，学生——学校</p><p>关联不强调方向，表示对象间相互知道彼此的存在；如果存在方向，如A–&gt;B，则A知道B，B不知道A。</p><p>图例为实现，或者实现加箭头。</p><ul><li>依赖</li></ul><p>代码中体现为类构造方法以及方法参数。描述一个对象在运行时会使用另一个对象（的方法或属性）。与关联的区别在于，依赖是一种临时性的关系，通常在运行期间产生，运行状态改变也许会改变依赖关系。</p><p>图例为虚线加箭头，箭头所指方向为调用关系。</p><h1 id="参考博客"><a href="#参考博客" class="headerlink" title="参考博客"></a>参考博客</h1><p><a href="http://design-patterns.readthedocs.io/zh_CN/latest/read_uml.html" target="_blank" rel="noopener">http://design-patterns.readthedocs.io/zh_CN/latest/read_uml.html</a></p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> diagram </tag>
            
            <tag> uml </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>日志框架学习</title>
      <link href="/2018/05/18/note-java-logger/"/>
      <url>/2018/05/18/note-java-logger/</url>
      <content type="html"><![CDATA[<h1 id="SLF4J"><a href="#SLF4J" class="headerlink" title="SLF4J"></a>SLF4J</h1><p>SLF4J全称：Simple Logging Facade for Java，简单日志门面</p><p>用户手册链接：<a href="https://www.slf4j.org/manual.html" target="_blank" rel="noopener">https://www.slf4j.org/manual.html</a></p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>需求分析与系统设计</title>
      <link href="/2018/05/18/note-se-requirements-analysis-and-system-design/"/>
      <url>/2018/05/18/note-se-requirements-analysis-and-system-design/</url>
      <content type="html"><![CDATA[<h1 id="一、整理需求列表"><a href="#一、整理需求列表" class="headerlink" title="一、整理需求列表"></a>一、整理需求列表</h1><p>例：</p><ol><li>用户可以通过“客户名称”关键字进行模糊查询</li><li>单击“新增”按钮，进入“新增客户”界面，可新增客户基本信息</li><li>……</li></ol><h1 id="二、系统设计"><a href="#二、系统设计" class="headerlink" title="二、系统设计"></a>二、系统设计</h1><ol><li>分析原始需求，找到涉及的用例（Use Case）</li><li>涉及表结构</li><li>定义URL规范</li></ol><h2 id="三、设计用例"><a href="#三、设计用例" class="headerlink" title="三、设计用例"></a>三、设计用例</h2><p>如：</p><ul><li>查询客户</li><li>显示客户列表</li><li>创建客户</li><li>编辑客户</li><li>……</li></ul><p>可用UML图来描述用例。</p><h2 id="四、设计表结构"><a href="#四、设计表结构" class="headerlink" title="四、设计表结构"></a>四、设计表结构</h2><table><thead><tr><th>字段名</th><th>数据类型</th><th>是否非空</th><th>字段备注</th></tr></thead><tbody><tr><td>id</td><td>BIGINT</td><td>√</td><td>ID(自增主键)</td></tr><tr><td>name</td><td>VARCHAR(255)</td><td>√</td><td>客户名称</td></tr><tr><td>email</td><td>VARCHAR(255)</td><td>-</td><td>邮箱地址</td></tr></tbody></table><h2 id="五、设计界面原型"><a href="#五、设计界面原型" class="headerlink" title="五、设计界面原型"></a>五、设计界面原型</h2><p>典型管理系统如：</p><h2 id="六、设计URL"><a href="#六、设计URL" class="headerlink" title="六、设计URL"></a>六、设计URL</h2><p>如：</p><table><thead><tr><th>序号</th><th>URL</th><th>描述</th></tr></thead><tbody><tr><td>1</td><td>GET:/customer</td><td>进入“客户列表”界面</td></tr><tr><td>2</td><td>POST:/customer_search</td><td>查询客户</td></tr><tr><td>3</td><td>GET:/customer_show?id={id}</td><td>进入“查看客户”界面</td></tr><tr><td>4</td><td>GET:/customer_create</td><td>进入“创建客户”界面</td></tr><tr><td>5</td><td>POST:/customer_create</td><td>创建客户</td></tr><tr><td>6</td><td>GET:/customer_edit?id={id}</td><td>进入“编辑客户”界面</td></tr><tr><td>7</td><td>PUT:/customer_edit?id={id}</td><td>编辑客户</td></tr><tr><td>8</td><td>DELETE:/customer_delete?id={id}</td><td>删除客户</td></tr></tbody></table><h1 id="用例规约"><a href="#用例规约" class="headerlink" title="用例规约"></a>用例规约</h1><h2 id="用例规约的内容"><a href="#用例规约的内容" class="headerlink" title="用例规约的内容"></a>用例规约的内容</h2><ul><li>前置条件和后置条件</li><li>涉众利益</li><li>基本路径</li><li>扩展路径</li><li>补充约束</li></ul><h2 id="前置条件和后置条件"><a href="#前置条件和后置条件" class="headerlink" title="前置条件和后置条件"></a>前置条件和后置条件</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>前置条件：用例开始前，系统需要满足的约束</p><p>后置条件：用例结束后，系统需要满足的约束</p><p>后置条件分为两种：</p><ul><li>最小后置：用例失败的情况下系统也需要满足的要求</li><li>成功后置：用例成功时系统需要满足的约束</li></ul><h3 id="要点"><a href="#要点" class="headerlink" title="要点"></a>要点</h3><ol><li>前置条件、后置条件必须系统可以检测到。</li><li>前置条件必须在用例开始前系统就可以检测到。</li><li>前置后置条件是约束，不是动作。</li><li>前置后置条件必须要精确。</li></ol><h2 id="涉众利益"><a href="#涉众利益" class="headerlink" title="涉众利益"></a>涉众利益</h2><h3 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h3><p>设计系统时涉及某些角色的利益。</p><h3 id="要点-1"><a href="#要点-1" class="headerlink" title="要点"></a>要点</h3><h4 id="如何寻找涉众？"><a href="#如何寻找涉众？" class="headerlink" title="如何寻找涉众？"></a>如何寻找涉众？</h4><p>如果这个系统的用例做不好，谁会遭殃？</p><ul><li>执行者</li><li>上游</li><li>下游</li><li>信息的主人</li></ul><h4 id="给涉众排位"><a href="#给涉众排位" class="headerlink" title="给涉众排位"></a>给涉众排位</h4><h2 id="基本路径"><a href="#基本路径" class="headerlink" title="基本路径"></a>基本路径</h2><h3 id="定义-2"><a href="#定义-2" class="headerlink" title="定义"></a>定义</h3><p>用户与系统的交互过程</p><h3 id="要点-2"><a href="#要点-2" class="headerlink" title="要点"></a>要点</h3><ul><li>按照交互四部曲<ul><li>（执行者）请求</li><li>（系统）验证</li><li>（系统）改变</li><li>（系统）回应</li></ul></li><li><p>使用主动语句理清责任</p></li><li><p>主语只能是主执行者或系统</p></li><li><p>使用核心域概念</p></li><li><p>不要涉及交互涉及的细节</p></li></ul><h2 id="扩展路径"><a href="#扩展路径" class="headerlink" title="扩展路径"></a>扩展路径</h2><h3 id="定义-3"><a href="#定义-3" class="headerlink" title="定义"></a>定义</h3><p>基本路径上系统要处理的意外和分支</p><h3 id="要点-3"><a href="#要点-3" class="headerlink" title="要点"></a>要点</h3><h4 id="经常发生的地方"><a href="#经常发生的地方" class="headerlink" title="经常发生的地方"></a>经常发生的地方</h4><ul><li>执行者的选择</li><li>系统验证</li><li>关键步骤失败</li></ul><h2 id="补充约束"><a href="#补充约束" class="headerlink" title="补充约束"></a>补充约束</h2><h3 id="定义-4"><a href="#定义-4" class="headerlink" title="定义"></a>定义</h3><p>路径步骤中需要补充的内容，如字段列表或业务规则</p><h3 id="要点-4"><a href="#要点-4" class="headerlink" title="要点"></a>要点</h3>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件工程 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180518</title>
      <link href="/2018/05/18/diary20180518/"/>
      <url>/2018/05/18/diary20180518/</url>
      <content type="html"><![CDATA[<p><code>14:25:59</code> 来到凯李咖啡。</p><p>最近早上起床很晚，有时候刷微博刷别的很快就消耗很多时间。</p><p>我才发现我可能在精神上也需要减一下肥。精神得不到补充，就会难以停止地阅读、浏览无用的信息，像极了饥饿时的人；消耗的时间变多，精神反而不佳。而真正管饱的，是不易阅读、需要消耗脑力的东西；这个过程类似健身，难以坚持但会渐进地快乐。</p><p><code>15:22:34</code> 如果垃圾文字或视频是高热高糖的垃圾食品，音乐就是美味健康的粗粮饼干。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>编程常用配置文件快速参考</title>
      <link href="/2018/05/18/quick-configfiles/"/>
      <url>/2018/05/18/quick-configfiles/</url>
      <content type="html"><![CDATA[<h1 id="web-xml"><a href="#web-xml" class="headerlink" title="web.xml"></a>web.xml</h1><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">"http://java.sun.com/xml/ns/javaee"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://java.sun.com/xml/ns/javaee</span></span></span><br><span class="line"><span class="tag"><span class="string">http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">"3.0"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="pom-xml"><a href="#pom-xml" class="headerlink" title="pom.xml"></a>pom.xml</h1><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 快速查阅 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180517</title>
      <link href="/2018/05/17/diary20180517/"/>
      <url>/2018/05/17/diary20180517/</url>
      <content type="html"><![CDATA[<p><code>13:32:35</code> 在凯李咖啡。今天这温度，大概是上帝一家子在吃烤肉饭吧。</p><p><code>18:03:56</code> 偶然刷到一条朋友圈，我突然发现了对自己激励/刺激最大的事情，是雄性竞争。我相信就算我有诸多缺点，世界上比我不幸、或者比我不受欢迎的人仍然很多；与此相对，世间也存在着诸多我遥不可及的雄性。这是如此客观的事实，我在上高中的时候就已经感受到那种，无论我怎么努力都无法追上别人的感觉；不只是成绩，财富、外表、发展潜力都是。怕就怕在这种人就在我身边，广义来讲就是朋友圈；更可恶的是他是同龄人，甚至年龄更小。当意识到自己已经被其他同龄雄性完全碾压时，本能会让我退缩，这种退缩让我非常懊恼，我本能的自尊无法与本能的退缩兼容。当二者发生冲突，第三种本能就是奋斗欲。现在的我无法打败他，但我希望、也相信能在有一天能打败他。我称这种心态，是一种被激励的心态。</p><p>相信不代表成真，希望不一定会换来真实。这像一道精神伤疤，不会疼痛，但难以磨灭。</p><p><code>23:36:22</code> 跟政视频了一个半小时，相聊甚欢。</p><p><code>1:19:17</code> 学习是一个递归的过程。在某本书里看到某个概念，则去查资料学习；查新的资料后会遇到新的概念。层层递归，如果在某个环节卡壳，心理会很不爽；如果能触及“递归终止”条件，即没有再遇到新的概念，且“递归返回”时同样顺利，则会学的很爽。避免卡壳的方法是，跳跃这个递归点，概念上了解，以免耽误时间，或者影响心情。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180516</title>
      <link href="/2018/05/16/diary20180516/"/>
      <url>/2018/05/16/diary20180516/</url>
      <content type="html"><![CDATA[<p><code>13:41:59</code> 来到凯李咖啡。今天仍然十分热。</p><p><code>13:53:59</code> 对面坐着一中年男一年轻女，男的气质像个中年司机，皮肤黑声音大，言谈却像一个老师，女的在向他咨询类似心理学求学的问题 男的边看电脑边讲心理咨询师的面试题：你是心理医生，有一个关系非常好的闺蜜，从小长到大；你喜欢一个年龄挺大的男人；有一天你的闺蜜跟你诉苦，一个男的跟她约会喝酒吃饭，酒后发生关系，她怀孕了，而那个男的正是你暗恋的男的。现在你闺蜜心里很乱，不知所措，向你求助，你该怎么回答。听着真有意思，只不过他们话太啰嗦了，而且声音巨大，想不听都不行。。</p><p>女生犹豫半天，说自己毕竟喜欢那男的，决定劝她们放弃。这大哥立刻反击说，“结果你闺蜜立刻说，我其实知道你喜欢那个男的，你之所以让我们放弃，是因为你喜欢他，你并非为了我好。你该怎么办？要知道一方面孕妇的心理不稳定，一方面事实上她已经揭穿你。你该怎么办？”</p><p>女生说她决定承认，但仍然决定劝她们分开，这是为了他们好。</p><p>男的开始总结。“你的问题在于，如果你喜欢的男的真的做出这种事，你还会喜欢他吗？”之类的。</p><p>男的开始第二个问题。你是学心理学的，现在你成了上述故事的闺蜜，你知道你闺蜜暗恋他。已经发生了这种事，男的说他并不是特别喜欢你，但会对你负责，你会怎么处理，孩子要还是不要？女生说不要孩子，找闺蜜，把这一切告诉她。男的问为什么要找她，闺蜜是不知道这件事的。女方坚定的要把孩子打掉，当什么都没发生过。男的说，这时候闺蜜不知为何知道了，质问她为什么</p><p>我开始觉得这位男性有一些水平了。他说，心理学研究问题时，要把所有情况考虑到，一步步分析和推测。我联想到二叉决策树。</p><p>他说，最好的做法是：“我是一个心理医生，不管她是谁，不管我与她是什么关系，我都尽我一个医生的职责。我会帮她做详尽的分析，帮她做情感和心理分析，帮她摆脱困境，始终把专业知识放在第一位。你的回答是在根据自己的目的，改变她的心理状态，怂恿她做你期待的事情，试图用你的专业的心理专业来左右你的病人的心理状态。这个问题清晰地探测出你是不是能当一个合格的心理医生。”</p><p>心理医生的三个“客观的态度，坚定的意志，敏锐的传达”。</p><p>你是当事人，所以你要有坚定的意志；你是心理医生，所以你要客观；你是咨询师，面对的是咨询者，你要敏锐地把你的专业知识传达给咨询者。</p><p><code>21:39:19</code> 从炎热的室外回到住所，开着空调喝罐啤酒上网，感觉还是很舒爽的。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180515</title>
      <link href="/2018/05/15/diary20180515/"/>
      <url>/2018/05/15/diary20180515/</url>
      <content type="html"><![CDATA[<p><code>10:36:52</code> 来到凯李咖啡。早上在85度C买面包，看到15、18元的全麦三明治，以后有钱了就吃这个。</p><p><code>16:32:29</code> 我要买个小黄鸭，看看传说中的小黄鸭工作法有没有效。</p><p><code>18:50:27</code> 帮我楠备份一份初心。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180515_%E6%A5%A0%E8%81%8A%E5%A4%A9.jpg" alt=""></p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180514</title>
      <link href="/2018/05/14/diary20180514/"/>
      <url>/2018/05/14/diary20180514/</url>
      <content type="html"><![CDATA[<p><code>16:56:31</code> 今天这温度真是绝了。可能是2018年最热一天。</p><p>上午因为三方填表的事情纠结了两三个小时。到最后发现想多了。</p><p>下午去检查毕设，压力比想象中小。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180513</title>
      <link href="/2018/05/13/diary20180513/"/>
      <url>/2018/05/13/diary20180513/</url>
      <content type="html"><![CDATA[<p><code>0:53:02</code> 接连断了两三天的日记。</p><p>周五早晨满心欢喜与浩、胡去了河东看复联3，看完去吃了肉蟹煲，回来的路上就发现有点想放屁。下午一起去国金中心浪了几个小时，大约不到6点躺在卧室，感觉太累昏昏睡去，一直睡到10点多，下楼吃了蒜苗炒肉盖饭。此时已经开始断断续续打嗝，闻起来非常酸臭，我已经意识到又要犯病了。</p><p>回到卧室开始拉肚子。从晚上九十点一直到第二天凌晨5点，睡一会就得去厕所，且肠胃剧痛无比；一直到中午12点左右都没有好转——我是活活剧痛了半天。中午去了卫生站打了吊针，效果出奇的好，吊针打了半小时肚子就不太痛了。两小时之后买了点稀饭喝，回家后又睡去，直到刚刚。直到现在也没拉肚子了，只是略有腹痛。</p><p>算上这次，我一共犯了4次。前两次大概是在上初中时，在家犯的，肚子胀得厉害，打嗝放屁拉肚子，几天都没胃口。第三次是高中，应该是高二的某次开学，上吐下泻。时隔五六年，很久没再犯过了。这次时间短了很多，只是有那么半天的剧烈腹痛。现在好了很多。</p><p>睡眠真是容易消磨时间，总感觉昨天刚从河东回来。</p><p>毕业论文还没写完，要加紧了。</p><p><code>10:36:56</code> 一觉起来，肚子不再胀气，打嗝也不酸臭了。看来已恢复。</p><p><code>15:08:20</code> 与胡来到凯李咖啡。空调好评，但又困又累。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180510</title>
      <link href="/2018/05/10/diary20180510/"/>
      <url>/2018/05/10/diary20180510/</url>
      <content type="html"><![CDATA[<p><code>19:42:31</code> 兜兜转转，最终来到凯李。给生哥发了邮件。尝试在江边看书，总有小虫让我分心。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180509</title>
      <link href="/2018/05/09/diary20180509/"/>
      <url>/2018/05/09/diary20180509/</url>
      <content type="html"><![CDATA[<p><code>1:41:27</code> 困倦时更容易陷入崩溃。</p><p>我的头发快掉光了，我对此无能为力。</p><p>我没有患上什么可怕的绝症，仅仅是不痛不痒的遗传。尽管我早已预见会有那一天的到来，我仍然会偶尔因此而崩溃。</p><p>我不会痛哭，只会悲伤。每次到图书馆，忘记带校园卡的话，我会给保安看我的校园卡，上面有我高中时的照片。那个男孩的脸上有清晰的轮廓，眼神坚定，当然，头发健康。</p><p>从16年寒假，也就是前年开始，我在家陪奶奶聊天，她突然发现我有点掏鬓角。我不太相信，照了照镜子才惊恐地承认这一现实。从此，我时不时会把头发向上撩开，看着镜子端详自己越来越高的发际线。</p><p>尽管我从未有外貌上的自信，这仍是巨大的打击。我意识到我有一天会变成一个秃子，一个（也许是）胖、矮、丑陋的秃子，那是一副什么画面？</p><p>我变得越来越不敢见人。我想我还存在着些心理防线，一遍遍告诉自己这不算什么；在和熟人相处时我勉强会暂时忘记，只是但凡与陌生人接触，我很难抬起头来。</p><p>我不自然的变得贪吃，满足食欲会让我暂时忘记这个现实；我更加不修边幅，尽管朋友好心提醒——对于一个矮胖还脱发的人，穿什么又有什么区别呢？</p><p>不。。我不是在乞求读者的怜悯，没人能救得了我，除了我自己。哈哈，多好听的一句话。。</p><p>我能改吗  我改的了吗</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180508</title>
      <link href="/2018/05/08/diary20180508/"/>
      <url>/2018/05/08/diary20180508/</url>
      <content type="html"><![CDATA[<p><code>13:29:21</code> 来到梅溪湖的漫咖啡。环境不错。</p><p>中午把新三方寄到华为武汉那边了。</p><p><code>14:33:24</code> 漫咖啡价格不贵，服务</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180507</title>
      <link href="/2018/05/07/diary20180507/"/>
      <url>/2018/05/07/diary20180507/</url>
      <content type="html"><![CDATA[<p><code>19:23:18</code> 来到凯李。今天检查毕设，微微有点慌。</p><p>接触了“面向组合子编程”的概念，深以为然。</p><p><code>20:06:37</code> 搜了一下北京华为附近的房子，对租房的不确定稍有忧虑。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180506</title>
      <link href="/2018/05/06/diary20180506/"/>
      <url>/2018/05/06/diary20180506/</url>
      <content type="html"><![CDATA[<p><code>11:46:45</code> 潮湿+高温，是最难受的。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180505</title>
      <link href="/2018/05/05/diary20180505/"/>
      <url>/2018/05/05/diary20180505/</url>
      <content type="html"><![CDATA[<p><code>13:01:57</code> 索性在家运行pso的程序。还算有点成果。</p><p><code>14:03:37</code> 人无计划则废。。。</p><p><code>0:25:14</code> 与马行言愉快的聊了一会。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180506%E4%B8%8E%E9%A9%AC%E8%A1%8C%E8%A8%80%E8%81%8A%E5%A4%A9.png" alt=""></p><p>这个语气让我想起了与那个她分手前的对话。</p><p>可能对我来说，能有个人陪我聊聊都会很幸福。</p><p>被直呼其名“李斌同学”，是多么奢侈的待遇啊。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180504</title>
      <link href="/2018/05/04/diary20180504/"/>
      <url>/2018/05/04/diary20180504/</url>
      <content type="html"><![CDATA[<p><code>10:02:12</code> PSO程序没有出现意外，心理有些安慰。</p><p><code>14:12:03</code> 依次来到库克和凯李。可以忍受微热，但无法忍受不通风。</p><p><code>21:51:06</code> 翻到与许浩聊天的记录，值得记下。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180504%E4%B8%8E%E8%AE%B8%E6%B5%A9%E8%81%8A%E5%A4%A91.png" alt=""><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180504%E4%B8%8E%E8%AE%B8%E6%B5%A9%E8%81%8A%E5%A4%A92.png" alt=""><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180504%E4%B8%8E%E8%AE%B8%E6%B5%A9%E8%81%8A%E5%A4%A93.png" alt=""><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180504%E4%B8%8E%E8%AE%B8%E6%B5%A9%E8%81%8A%E5%A4%A94.png" alt=""><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180504%E4%B8%8E%E8%AE%B8%E6%B5%A9%E8%81%8A%E5%A4%A95.png" alt=""><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180504%E4%B8%8E%E8%AE%B8%E6%B5%A9%E8%81%8A%E5%A4%A96.png" alt=""><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180504%E4%B8%8E%E8%AE%B8%E6%B5%A9%E8%81%8A%E5%A4%A97.png" alt=""><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180504%E4%B8%8E%E8%AE%B8%E6%B5%A9%E8%81%8A%E5%A4%A98.png" alt=""></p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180503</title>
      <link href="/2018/05/03/diary20180503/"/>
      <url>/2018/05/03/diary20180503/</url>
      <content type="html"><![CDATA[<p><code>13:55:19</code> 其实不必偶尔怀疑人生的无趣。因为当人生真正有趣时，你不会去思考生活，留下的空余的时间，负面情绪的水平线就会慢慢上升。尝试忙碌起来，忙中会有乐。</p><p><code>19:45:15</code> 来到凯李咖啡。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180502</title>
      <link href="/2018/05/02/diary20180502/"/>
      <url>/2018/05/02/diary20180502/</url>
      <content type="html"><![CDATA[<p><code>8:13:52</code> 今天毕设检查，不知会不会有什么意外。</p><p><code>0:22:09</code> 毕设检查没什么意外，只是需要加紧写论文了。</p><p>车有电，果然就会浪的飞起。中午去凯李咖啡，5点左右去河东吃了海鲜烧烤自助，又去一个高空咖啡坐了坐。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180501</title>
      <link href="/2018/05/01/diary20180501/"/>
      <url>/2018/05/01/diary20180501/</url>
      <content type="html"><![CDATA[<p><code>12:53:33</code> 来到月亮咖啡。时间真快，5月份了。记忆再次断层，现在能想到的上一个节点，是去中科云华和去小米实习。</p><p>最近天气越来越热，很难找到一个舒服的咖啡店敲代码了。</p><p>早上去些许健了身。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180430</title>
      <link href="/2018/04/30/diary20180430/"/>
      <url>/2018/04/30/diary20180430/</url>
      <content type="html"><![CDATA[<p><code>14:48:57</code> 把电动车的电瓶换了，爽。来到“画个月亮”咖啡。</p><p>世界上存在几种延长主观寿命的方式：早起，健身，在咖啡店度过一天。</p><p><code>18:37:07</code> 因为某人欠钱不还的事情在咖啡店耗了一天。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>从C语言到机器码</title>
      <link href="/2018/04/29/note-c-compile/"/>
      <url>/2018/04/29/note-c-compile/</url>
      <content type="html"><![CDATA[<h1 id="理论"><a href="#理论" class="headerlink" title="理论"></a>理论</h1><p>若干C语言文件到一个可执行文件，都经历了什么？</p><ol><li>预处理——预处理器（cpp，C Preprocessor）把源程序(.c)翻译为ASCII码中间文件(.i)。</li><li>编译——编译器（cc1）把ASCII中间码(.i)翻译为ASCII汇编文件(.s)。</li><li>汇编——汇编器（as,assembler）把汇编文件翻译为<em>可重定位文件</em>。</li><li>链接——连接器（ld，link data）把<em>可重定位文件</em>链接为<em>可执行文件</em>。</li></ol><h1 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h1><h2 id="从源代码（-c）到汇编文件（-S）"><a href="#从源代码（-c）到汇编文件（-S）" class="headerlink" title="从源代码（.c）到汇编文件（.S）"></a>从源代码（.c）到汇编文件（.S）</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -Og -S test.c</span><br></pre></td></tr></table></figure><p>## </p><h2 id="从源代码到可执行文件"><a href="#从源代码到可执行文件" class="headerlink" title="从源代码到可执行文件"></a>从源代码到可执行文件</h2><p>文件1：main.c</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> *a,<span class="keyword">int</span> n)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> <span class="built_in">array</span>[<span class="number">2</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> val = sum(<span class="built_in">array</span>,<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">return</span> val;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>文件2：sum.c</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> *a,<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,s = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        s+=a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>使用<code>cpp</code>把C代码翻译成ASCII码中间文件：</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cpp main.c tmp/main.i</span><br><span class="line">cpp sum.c tmp/sum.i</span><br></pre></td></tr></table></figure><ol><li>使用<code>cc1</code>把ASCII中间文件翻译为ASCII汇编文件：</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cc1 tmp/main.i -Og -o tmp/main.s</span><br><span class="line">cc1 tmp/sum.i -Og -o tmp/sum.s</span><br></pre></td></tr></table></figure><ol><li>使用<code>as</code>把汇编文件翻译为<em>可重定位目标文件</em></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">as -o tmp/main.o tmp/main.s</span><br><span class="line">as -o tmp/sum.o tmp/sum.s</span><br></pre></td></tr></table></figure><ol><li>使用链接程序<code>ld</code>将两个<em>可重定位目标文件</em>组合起来，成为<em>可执行目标文件</em>。</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ld -o prog tmp/main.o tmp/sum.o</span><br></pre></td></tr></table></figure><p>最终的目录结构为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── main.c</span><br><span class="line">├── prog</span><br><span class="line">├── sum.c</span><br><span class="line">└── tmp</span><br><span class="line">    ├── main.i</span><br><span class="line">    ├── main.o</span><br><span class="line">    ├── main.s</span><br><span class="line">    ├── sum.c</span><br><span class="line">    ├── sum.i</span><br><span class="line">    ├── sum.o</span><br><span class="line">    └── sum.s</span><br></pre></td></tr></table></figure><h2 id="汇编与反汇编"><a href="#汇编与反汇编" class="headerlink" title="汇编与反汇编"></a>汇编与反汇编</h2><p>对于c文件main.c和mstore.c:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">multstore</span><span class="params">(<span class="keyword">long</span>,<span class="keyword">long</span>,<span class="keyword">long</span> *)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> d;</span><br><span class="line">    multstore(<span class="number">2</span>,<span class="number">3</span>,&amp;d);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"2 * 3 --&gt; %ld\n"</span>,d);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">mult2</span><span class="params">(<span class="keyword">long</span> a,<span class="keyword">long</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> s =  a*b;</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">long mult2(long,long);</span><br><span class="line"></span><br><span class="line">void multstore(long x,long y,long *dest)</span><br><span class="line">&#123;</span><br><span class="line">    long t = mult2(x,y);</span><br><span class="line">    *dest = t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>编译并汇编,得到a.out可执行文件：</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc main.c mstore.c</span><br></pre></td></tr></table></figure><ul><li>使用objdump(文件信息查看器)命令反汇编</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">objdump -d a.out</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
            <tag> 操作系统 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180429</title>
      <link href="/2018/04/29/diary20180429/"/>
      <url>/2018/04/29/diary20180429/</url>
      <content type="html"><![CDATA[<p><code>17:23:29</code> 昨晚忘记给车充电。刚刚从凯李回来。学汇编还是要看C。</p><p><code>19:29:26</code> 给博客加上了搜索功能。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180428</title>
      <link href="/2018/04/28/diary20180428/"/>
      <url>/2018/04/28/diary20180428/</url>
      <content type="html"><![CDATA[<p><code>17:05:59</code> 今天早晨去了图书馆。学习了一把vscode。试图在河边看电脑，总有小虫不让我专心。</p><p><code>23:27:34</code> 看纯黑直播打战神，有点感触。</p><p>动漫或游戏，角色觉醒，实力大增，小时候（甚至现在）我也会幻想自己在筋疲力尽时只要“一想”，就会立刻变强，但往往心有余而力不足。但是看着纯黑打游戏，最高难度下真是难上加难，稍有不慎就要重来；重来的次数增多，纯黑也不说话了，发挥也越来越好，最终通过关卡。其实玩家每当遇到困难关卡，屡败屡战后高度集中注意力的状态，也就是所谓的“觉醒”。这种觉醒来自于玩家对于自己“一定能通关”的期待，战死之后的失望和打击会转变为对自己无能的愤怒，在下次尝试时精神变得更加集中，身体（手指）的操作也更加灵活受控。</p><p>觉醒需要较高的期待，需要尝试的勇气，需要高度集中的精力。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180427</title>
      <link href="/2018/04/27/diary20180427/"/>
      <url>/2018/04/27/diary20180427/</url>
      <content type="html"><![CDATA[<p><code>12:14:49</code> 差点忘记这个习惯。</p><p><code>18:33:24</code> 大概是两小时前来到凯李咖啡。</p><p><code>21:15:31</code> 为了查一个pso的文献来到图书馆。虽然没有在期待的书里查到，但总算查到了。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180426</title>
      <link href="/2018/04/26/diary20180426/"/>
      <url>/2018/04/26/diary20180426/</url>
      <content type="html"><![CDATA[<p><code>15:37:59</code> 记录一下上海的见闻。</p><p>现在回想起来，应该是无处不在的老外，西装革履，油头粉面；无处不在的商场酒店，偶尔遇到的推销小哥小姐姐。</p><p>楼高，路窄，车豪，人美。</p><p>道路非常干净，总像刚刚用水冲刷过一样。</p><p>外滩很美，真实的成现在眼前时，确实动容。。。</p><p>这是一座财富的城市，到处都是商品和货币的味道。匆忙的人群，精炼的外表。</p><p>鹏锅依旧气定神闲，基锅依旧犀利。鹏锅请我和基锅吃了好吃的，喝了好喝的，逛了好玩的。</p><p>代表性的，有个酒吧，牌面是明晃晃的“PUCK”。大概是park和fuck的组合，下面一行小字，什么什么and girls。上海人大概很多都比较直接吧。。</p><p>听鹏锅讲了些历史，一战前后的上海，各国强租，反倒让上海发展起来。脚底下每一寸都是金砖。</p><p>去广州那次说是高楼大厦治好了我的颈椎病，这次去上海应该能让我完全康复了。</p><p>这个世界，真的还有很多值得去探索，有很多等着我拥有……</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180424</title>
      <link href="/2018/04/24/diary20180424/"/>
      <url>/2018/04/24/diary20180424/</url>
      <content type="html"><![CDATA[<p><code>7:17:35</code> 出发。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180423</title>
      <link href="/2018/04/23/diary20180423/"/>
      <url>/2018/04/23/diary20180423/</url>
      <content type="html"><![CDATA[<p><code>15:37:43</code> 违了小米，签了华为（北京）。</p><p><code>23:57:47</code> 明后两天的上海之行，不知是什么新的风景。</p><p><code>0:03:05</code> 今天与胡、伟达、浩一起玩了一个晚上。吃了花甲，去了网吧。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>操作系统实现学习</title>
      <link href="/2018/04/22/note-os-create/"/>
      <url>/2018/04/22/note-os-create/</url>
      <content type="html"><![CDATA[<p>操作系统启动流程：</p><ol><li>主机接通电源</li><li>主机从磁盘加载bios。</li><li>bios把MBR（Main Bootrap Record，主引导记录）加载到0x7c00</li></ol><h2 id="实模式地址布局"><a href="#实模式地址布局" class="headerlink" title="实模式地址布局"></a>实模式地址布局</h2><p>Intel8086有20条地址线，可以访问的内存空间数量有1MB，即2<sup>20</sup>=1048576=1MB，十六进制为0x00000~0xFFFFF。</p><p>这1MB内存的布局如下：</p><h2 id="汇编笔记"><a href="#汇编笔记" class="headerlink" title="汇编笔记"></a>汇编笔记</h2><p>每条汇编指令都位于某个地址，编译之后变成机器码或数据。</p><p>编译器给程序中各个符号分配的地址，就是各符号相对于文件开头的偏移量。</p><p><code>$$</code> 所在section起始地址</p><p><code>lablel</code>:当前指令地址，用作jmp跳转的目的地</p><p><code>section</code>: 对程序无影响，仅仅是让代码更易读。</p><p>例：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">section code</span><br><span class="line">mov ax,section.code.start</span><br></pre></td></tr></table></figure><p>如果这是第一个section，第二行相当于<code>mov ax,0x0</code>。</p><p><code>vstart</code>或<code>org</code>：虚拟地址偏移量。汇编代码的真实地址没有改变，但是代码中<code>$</code>、<code>$$</code>获取的地址都相对于原来加一个vstart。</p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 操作系统 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180422</title>
      <link href="/2018/04/22/diary20180422/"/>
      <url>/2018/04/22/diary20180422/</url>
      <content type="html"><![CDATA[<p><code>12:20:10</code> 昨天偶然看到Linus的自传《Just for fun》，从其中看到Linus是看《操作系统：设计与实现》这本教材写出的Linux。看了这本书，真是有醍醐灌顶的感觉。</p><p><code>19:28:50</code> 这两天看战神的视频，纯黑又开始做了。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180421</title>
      <link href="/2018/04/21/diary20180421/"/>
      <url>/2018/04/21/diary20180421/</url>
      <content type="html"><![CDATA[<p><code>13:18:24</code> 收拾屋子、洗衣服等等明明很快就可以完成的事情，却往往耗上半天。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180420</title>
      <link href="/2018/04/20/diary20180420/"/>
      <url>/2018/04/20/diary20180420/</url>
      <content type="html"><![CDATA[<p><code>10:18:13</code> 这两天发生了一连串事情。</p><p>19号收到华为签约通知</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180420103011_%E5%8D%8E%E4%B8%BA%E7%AD%BE%E7%BA%A6%E9%80%9A%E7%9F%A5.jpg" alt=""></p><p>19号收到依图科技的面试通知</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180420103725_%E4%BE%9D%E5%9B%BE%E7%A7%91%E6%8A%80%E4%B8%8A%E6%B5%B7%E9%9D%A2%E8%AF%95%E9%82%AE%E4%BB%B6%E9%80%9A%E7%9F%A5.jpg" alt=""></p><p>19号 成姐竟然要<a href="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180420103333_%E6%88%90%E5%A7%90%E6%9D%A5%E9%95%BF.jpg" target="_blank" rel="noopener">来长沙</a>！原本要去车站接，但后来社里有人接。</p><p>20号 与鹏哥<a href="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180420103419_%E4%B8%8E%E9%B9%8F%E5%93%A5%E8%81%8A.jpg" target="_blank" rel="noopener">聊</a></p><p>20号 与基哥<a href="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180420103308_%E4%B8%8E%E5%9F%BA%E5%93%A5%E8%81%8A.jpg" target="_blank" rel="noopener">聊</a></p><p><code>13:55:04</code> 订好了车票，酒店</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180419</title>
      <link href="/2018/04/19/diary20180419/"/>
      <url>/2018/04/19/diary20180419/</url>
      <content type="html"><![CDATA[<p><code>10:28:48</code> 昨晚头痛睡的比较早。睡的挺好，起的略晚。</p><p><code>13:37:01</code> 收到了华为的签约通知。</p><p><code>0:53:01</code> 帮邱素欣做了道编程题。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180418</title>
      <link href="/2018/04/18/diary20180418/"/>
      <url>/2018/04/18/diary20180418/</url>
      <content type="html"><![CDATA[<p><code>22:19:42</code> 今天中期检查，比想象的还水。刚刚与胡伟治看了狂暴巨兽，效果不错，剧情一般。</p><p><code>22:21:28</code> 小学同学说有事找我，来了电话。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>ucore Lab解答</title>
      <link href="/2018/04/17/note-os-ucore/"/>
      <url>/2018/04/17/note-os-ucore/</url>
      <content type="html"><![CDATA[<h1 id="Lab-1-系统软件启动过程"><a href="#Lab-1-系统软件启动过程" class="headerlink" title="Lab 1 系统软件启动过程"></a>Lab 1 系统软件启动过程</h1><h2 id="练习1"><a href="#练习1" class="headerlink" title="练习1"></a>练习1</h2><p>在此练习中，大家需要通过静态分析代码来了解：</p><ul><li>操作系统镜像文件<code>ucore.img</code>是如何一步一步生成的？(需要比较详细地解释<code>Makefile</code>中每一条相关命令和命令参数的含义，以及说明命令导致的结果)</li><li>一个被系统认为是符合规范的硬盘主引导扇区的特征是什么？</li></ul><p>特殊字符：</p><ul><li><p>$@ –代表目标文件(target)</p></li><li><p>$^ –代表所有的依赖文件(components)</p></li><li><p>$&lt; –代表第一个依赖文件(components中最左边的那个)。</p></li></ul><p>结合答案作出<a href="http://naotu.baidu.com/file/87f2fc3b4adf53aa75e579dcceda908f" target="_blank" rel="noopener">脑图</a>。</p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 操作系统 </tag>
            
            <tag> ucore </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180417</title>
      <link href="/2018/04/17/diary20180417/"/>
      <url>/2018/04/17/diary20180417/</url>
      <content type="html"><![CDATA[<p><code>17:34:03</code> 今天浪费了一大半时间，上午面试面了一小时，中午出门吃饭回来才发现没带钥匙，无法进门，结果陪胡去了蓝杰，还碰巧见到了辉哥，一起聊了很久。现在才回到家。</p><p><code>22:37:16</code> 澎湖湾面临实习转正，心境与我当时大体相同，但他一定比我更有前途。我们的对话，<a href="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180417_%E4%B8%8E%E5%BD%AD%E6%B9%96%E6%B9%BE%E5%AD%A6%E5%BC%9F%E5%AF%B9%E8%AF%9D.png" target="_blank" rel="noopener">保存</a>下来。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180416</title>
      <link href="/2018/04/16/diary20180416/"/>
      <url>/2018/04/16/diary20180416/</url>
      <content type="html"><![CDATA[<p><code>10:33:08</code> 下午老师开会。不需要去了，开心。</p><p><code>13:06:48</code> 来到凯李。</p><p><code>22:25:37</code> 跟张楠的交流，让我对世界充满向往。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>《深入理解计算机系统》读书笔记</title>
      <link href="/2018/04/15/note-reading-csapp/"/>
      <url>/2018/04/15/note-reading-csapp/</url>
      <content type="html"><![CDATA[<h1 id="第一章-计算机系统漫游"><a href="#第一章-计算机系统漫游" class="headerlink" title="第一章 计算机系统漫游"></a>第一章 计算机系统漫游</h1><h2 id="Q：编译系统（compilation-system）是怎样构成的？一个C语言源文件hell-c是怎样转化为二进制文件的？（chapter-1-2）"><a href="#Q：编译系统（compilation-system）是怎样构成的？一个C语言源文件hell-c是怎样转化为二进制文件的？（chapter-1-2）" class="headerlink" title="Q：编译系统（compilation system）是怎样构成的？一个C语言源文件hell.c是怎样转化为二进制文件的？（chapter 1.2）"></a>Q：编译系统（compilation system）是怎样构成的？一个C语言源文件hell.c是怎样转化为二进制文件的？（chapter 1.2）</h2><p><strong>A：</strong> 四个阶段：预处理、编译、汇编、链接。</p><ul><li><strong>预处理阶段</strong>：<strong>预处理器</strong>（<code>c preprocessor</code>）根据#开头的命令，直接修改原始C程序。如直接将include的头文件插入到程序文本中。得到新的C程序，一般以<code>.i</code>作为文件名。</li><li><strong>编译阶段</strong>：<strong>编译器</strong>（<code>c compiler</code>）将文本文件<code>hello.i</code>翻译为汇编程序<code>hello.s</code>。</li><li><strong>汇编阶段</strong>：<strong>汇编器</strong>（<code>Assembler</code>）将<code>hello.s</code>翻译成机器语言指令，把这些指令打包为<strong>可重定位目标程序</strong>（<code>relocatable Object program</code>）格式，并将结果保存在目标文件<code>hello.o</code>中。</li><li><strong>链接阶段</strong>：将<code>hello.c</code>程序中调用的函数从库中找出来，并合并到目标文件，最终成为<strong>可执行文件</strong>。</li></ul><h2 id="Q：字和字长是什么？（chapter-1-4-1）"><a href="#Q：字和字长是什么？（chapter-1-4-1）" class="headerlink" title="Q：字和字长是什么？（chapter 1.4.1）"></a>Q：字和字长是什么？（chapter 1.4.1）</h2><p><strong>A：</strong> 在硬件组成中，总线贯穿其中，将信息在各个部件中传递，而具体传递的是定长（fixed-sized）的字节块（chunks of bytes），即字（words）。字中的字节数（字长，word size）是一个基本的系统参数。如果是4个字节则为32位，8个字节则为64位。</p><h2 id="Q：CPU的基本运行流程是什么？（chapter-1-4-1-4）"><a href="#Q：CPU的基本运行流程是什么？（chapter-1-4-1-4）" class="headerlink" title="Q：CPU的基本运行流程是什么？（chapter 1.4.1.4）"></a>Q：CPU的基本运行流程是什么？（chapter 1.4.1.4）</h2><p><strong>A：</strong> 循环以下操作：读取程序计数器（program counter，PC）指向的内存处的指令，解释其中的位，并执行指令所指定的几个简单的操作，再更新程序计数器，使其指向下一个指令。下一个指令不一定与刚刚执行的指令相邻。</p><p>所谓简单的操作是指：</p><ul><li>加载（Load）：从主存中复制一个字节（byte）或者一个字（word）到寄存器，覆盖寄存器原来的内容。</li><li>存储（Store）：从寄存器复制一个字节或一个字的到主存的某个位置，覆盖原来的内容。</li><li>更新（Update）：把两个寄存器的内容复制到ALU，ALU对两个字做算数运算，并将结果放在一个寄存器中，覆盖寄存器原来的内容。</li><li>IO Read：从一个IO设备复制一个字节或一个字到一个寄存器中。</li><li>IO Write：从一个寄存器复制一个字节或一个字到一个IO设备中。</li><li>跳转（Jump）：从指令本身抽取一个字，并复制到程序计数器中，覆盖其原来的值。</li></ul><h2 id="Q：虚拟内存是什么，是怎样分布的？（chapter-1-7-3）"><a href="#Q：虚拟内存是什么，是怎样分布的？（chapter-1-7-3）" class="headerlink" title="Q：虚拟内存是什么，是怎样分布的？（chapter 1.7.3）"></a>Q：虚拟内存是什么，是怎样分布的？（chapter 1.7.3）</h2><p><strong>A：</strong> 虚拟内存是一个抽象概念，它为每个进程提供一个假象，每个进程（process）看起来都在独占地使用整个主存。每个进程看到的内存都是一致的，称为“虚拟地址空间”。主要包括：</p><ul><li>程序代码和数据（program code and data）</li><li>堆（heap）</li><li>共享库（shared libraries）</li><li>栈（stack）</li><li>内核虚拟内存（kernel virtual memory）</li></ul><p>虚拟内存的基本思想：把一个进程的虚拟内存的内容存储在磁盘上，用主存作为磁盘的缓存。（？）</p><h1 id="Q：什么是阿姆达尔（amdahl）定律？"><a href="#Q：什么是阿姆达尔（amdahl）定律？" class="headerlink" title="Q：什么是阿姆达尔（amdahl）定律？"></a>Q：什么是阿姆达尔（amdahl）定律？</h1><p><strong>A：</strong> 总体思想：</p><p>设系统执行某应用程序需要的时间是T<sub>old</sub>， 系统某部分所需时间与T<sub>old</sub>时间的比例为α，即需要T<sub>old</sub> · α的时间，这部分性能提升了k，则这部分所花费时间为T<sub>old</sub> · α / k。则优化性能后，系统整体花费时间为：</p><blockquote><p>T<sub>new</sub> = ( 1 - α ) · T<sub>old</sub> + ( α · T<sub>old</sub> / k )</p><p>= T<sub>old</sub> · [ ( 1 - α ) + α / k ]</p></blockquote><p>那么加速系数 S 有：</p><blockquote><p>S = T<sub>old</sub> / T<sub>new</sub><br>= 1 / [ ( 1 - α ) + α / k ) ]</p></blockquote><p>例如，系统中某个部分原本耗时比例为60%，（即α=0.6），如果加速比例为3（k = 3），我们可以获得总体加速比例为1.67。虽然我们对某个主要部分作出重大改进，但是系统整体加速明显小于这部分加速比。</p><p>这就是阿姆达尔定律的<strong>主要观点</strong>：想要显著加速整个系统，必须提升全系统相当大部分的速度。</p><h1 id="第二章-信息的表示和处理"><a href="#第二章-信息的表示和处理" class="headerlink" title="第二章 信息的表示和处理"></a>第二章 信息的表示和处理</h1><h2 id="Q：字节的格式是怎样的，为什么经常用十六进制表示？（chaper-2-1-1）"><a href="#Q：字节的格式是怎样的，为什么经常用十六进制表示？（chaper-2-1-1）" class="headerlink" title="Q：字节的格式是怎样的，为什么经常用十六进制表示？（chaper 2.1.1）"></a>Q：字节的格式是怎样的，为什么经常用十六进制表示？（chaper 2.1.1）</h2><p><strong>A：</strong> 一个字节（byte）由八个位（bit）组成，在二进制表示法中，值域为 00000000<sub>2</sub>~11111111<sub>10</sub> 即0~255。二进制表示法冗长，十进制表示法难以与二进制互相转换。十六进制刚好，值域为 00<sub>16</sub>~FF<sub>16</sub>。</p><h2 id="Q：2n怎样转换为十六制？"><a href="#Q：2n怎样转换为十六制？" class="headerlink" title="Q：2n怎样转换为十六制？"></a>Q：2<sup>n</sup>怎样转换为十六制？</h2><p><strong>A：</strong> 对于x = 2<sup>n</sup>，如果想转换为二进制，只需写下1，跟上n个0。如 2<sub>10</sub> = 2<sup>1</sup><sub>10</sub> = 10<sub>2</sub>，1024<sub>10</sub> = 2<sup>10</sup><sub>10</sub> = 0100 0000 0000<sub>2</sub>。则十六进制明显为400<sub>16</sub>。</p><h2 id="Q：字长（word-size）有什么意义？（chapter-2-1-2）与字节（byte）是什么关系"><a href="#Q：字长（word-size）有什么意义？（chapter-2-1-2）与字节（byte）是什么关系" class="headerlink" title="Q：字长（word size）有什么意义？（chapter 2.1.2）与字节（byte）是什么关系"></a>Q：字长（word size）有什么意义？（chapter 2.1.2）与字节（byte）是什么关系</h2><p><strong>A：</strong> <strong>//本问题暂时搁置</strong></p><p>字长（word size）是CPU的概念，表示CPU一次能并行处理的数据位数。</p><table><thead><tr><th>汉语</th><th>英语</th><th>含义（换算）</th></tr></thead><tbody><tr><td>字</td><td>word</td><td>处理器处理的基本单位，也是虚拟地址的表示单位，每个虚拟地址都是一个word</td><td></td></tr><tr><td>字长</td><td>word size</td><td>一个word里含有的bit数量，即处理器ALU可同时处理的bit位数</td></tr><tr><td>字节</td><td>byte</td><td>8bit</td></tr></tbody></table><p>对于字长为4的系统，每个虚拟地址（1个word）有4个byte，，所能表示的地址上限是2<sup>32</sup> bit = 4GB。</p><p>字长决定了指针数据的标准大小（nomainal size），而虚拟地址就是以字长的大小编码的，所以字长决定了虚拟地址的空间的大小。如字长为w位，那么虚拟地址范围为 0~2<sup>w</sup>-1。</p><p>对于字长为4的系统，每个虚拟地址有 4个byte，即32个bit，所能表示的地址上限是2<sup>32</sup> bit = 4GB。</p><p>而对于字长为8的系统，每个虚拟地址有8个byte，即64个bit，所能表示的地址上限是2<sup>64</sup> bit = </p><p>数据换算：</p><p>1GB = 2<sup>10</sup>MB = 2<sup>20</sup>KB = 2<sup>30</sup>byte = 2<sup>33</sup>bit</p><p>4GB = 2<sup>2</sup>GB = 2<sup>12</sup>MB = 2<sup>22</sup>KB = 2<sup>32</sup>byte = 2<sup>35</sup>bit</p><p><strong>字长=每个虚拟地址的字节（byte）数 = 一个word包含的byte数</strong></p><h2 id="Q：如何用位向量表示集合？（chapter-2-1-6）"><a href="#Q：如何用位向量表示集合？（chapter-2-1-6）" class="headerlink" title="Q：如何用位向量表示集合？（chapter 2.1.6）"></a>Q：如何用位向量表示集合？（chapter 2.1.6）</h2><p><strong>A：</strong> 以1的位置表示元素（从右向左）。如位向量a=[01101001]表示集合A={0,3,5,6}。</p><p>这样，或和与的操作可以直接用位向量实现。</p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> csapp </tag>
            
            <tag> 读书笔记 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180415</title>
      <link href="/2018/04/15/diary20180415/"/>
      <url>/2018/04/15/diary20180415/</url>
      <content type="html"><![CDATA[<p><code>13:13:19</code> 分布式计算的程序运行情况不错，很开心。</p><p><code>13:13:33</code> 终于感受到了虚拟桌面的作用！把需要长时间计算的程序放在某个桌面，再开个桌面干别的，清爽！</p><p><code>23:44:03</code> 每天早晨到面馆吃面，竟然每天自然而然地看了会新闻。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180415.jpg" alt=""></p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180414</title>
      <link href="/2018/04/14/diary20180414/"/>
      <url>/2018/04/14/diary20180414/</url>
      <content type="html"><![CDATA[<p><code>14:04:11</code> 果然昨晚喝的太多，今天起晚了。重新写了PSO基本算法。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180413</title>
      <link href="/2018/04/13/diary20180413/"/>
      <url>/2018/04/13/diary20180413/</url>
      <content type="html"><![CDATA[<p><code>10:41:46</code> 即将中期检查，需要调整下心态。不要着急，没有那么夸张。</p><p><code>0:27:51</code> 今天蓝杰一游，再次感受到熟悉的心境。只要来到蓝杰，一定会感到智商不够用。见识到了常总的实力和经历。与胡姐谈心，竟然被说哭了。我胡看起来要报名了。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180413_%E8%93%9D%E6%9D%B0%E5%B0%8F%E8%81%9A%E4%B8%8E%E5%B8%B8%E6%80%BB%E8%81%8A.jpg" alt=""></p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180412</title>
      <link href="/2018/04/12/diary20180412/"/>
      <url>/2018/04/12/diary20180412/</url>
      <content type="html"><![CDATA[<p><code>10:04:54</code> 今天起床比较早，洗了个澡，三方也到了。</p><p><code>13:10:04</code> 大雨滂沱。持续学习WCF。</p><p><code>23:35:11</code> </p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180411</title>
      <link href="/2018/04/11/diary20180411/"/>
      <url>/2018/04/11/diary20180411/</url>
      <content type="html"><![CDATA[<p><code>12:47:15</code> 昨晚被批评代码写的不好，连夜重构，元气大伤。</p><p><code>21:01:00</code> 中午去库可，结果被热回来了。在家的效率并不低。WCF初步掌握。</p><p><code>22:21:53</code> 刚刚发现日志数整100了<a href="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/self/self_20180411.jpg" target="_blank" rel="noopener"> </a>。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180411_%E6%97%A5%E5%BF%97100%E8%BE%BE%E6%88%90.png" alt=""></p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180410</title>
      <link href="/2018/04/10/diary20180410/"/>
      <url>/2018/04/10/diary20180410/</url>
      <content type="html"><![CDATA[<p><code>11:03:51</code> 今天天气不错，适合游玩。拿到了牛客的衣服<a href="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/self/self_20180410.jpg" target="_blank" rel="noopener"> </a>。</p><p><code>18:40:57</code> 与胡去了洋湖湿地公园。路上决定学操作系统。回来去步步高吃了冰。又吃了肉卷和凉皮。撑死我了。</p><p><code>22:07:37</code> 如果用windows做分布式计算，最好还是用<a href="http://www.aboutyun.com/thread-7139-1-1.html" target="_blank" rel="noopener">hadoop thrift</a></p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>java-nio-note</title>
      <link href="/2018/04/09/java-nio-note/"/>
      <url>/2018/04/09/java-nio-note/</url>
      <content type="html"><![CDATA[<h1 id="概览"><a href="#概览" class="headerlink" title="概览"></a>概览</h1><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/nio_1.png" alt=""></p><p>用NIO API编写的应用，分别从服务端和客户端来看。</p><h2 id="服务端框架："><a href="#服务端框架：" class="headerlink" title="服务端框架："></a>服务端框架：</h2><p>使用一个线程处理所有Channel。</p><ul><li>创建Selector：</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Selector selector = Selector.open();</span><br></pre></td></tr></table></figure><ul><li>创建server的channel：</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ServerSocketChannel serverSocketChannel = ServerSocketChannel.open();</span><br></pre></td></tr></table></figure><ul><li>绑定本地接口，设置为非阻塞模式</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">serverSocketChannel.socket().bind(<span class="keyword">new</span> InetSocketAddress(listenPort));</span><br></pre></td></tr></table></figure><ul><li>将selector注册到服务端channel，设置状态为“准备就绪”</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">serverSocketChannel.register(selector, SelectionKey.OP_ACCEPT);</span><br></pre></td></tr></table></figure><ul><li>在（无限）循环的代码中，selector选择信道，返回已经就绪的信道数量。如果为0，应当重新选择。</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> keys = selector.select(TimeOut);</span><br></pre></td></tr></table></figure><ul><li>返回selector选中的信道集合，并进行遍历，对每个信道进行处理。</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;SelectionKey&gt; set = selector.selectedKeys();</span><br><span class="line"><span class="keyword">while</span> (keyIter.hasNext()) &#123;</span><br><span class="line">    SelectionKey key = keyIter.next();</span><br></pre></td></tr></table></figure><ul><li>当这批信道处理结束之后，移除处理过的键。</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keyIter.remove();</span><br></pre></td></tr></table></figure><h2 id="链接处理过程"><a href="#链接处理过程" class="headerlink" title="链接处理过程"></a>链接处理过程</h2><p>对于每个客户端连接，都有其自己的属性：<code>connectable</code>，<code>acceptable</code>，<code>readable</code>，<code>Writable</code>，即连接就绪，接收就绪，读取就绪，写入就绪。事实上，在上述<code>register</code>方法中传入的最后一个参数就是服务端“感兴趣”的方面。</p><ul><li>分别分发：</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (key.isAcceptable()) &#123;</span><br><span class="line">        System.out.println(<span class="string">"acceptable"</span>);</span><br><span class="line">        <span class="comment">//该方法在内部，会将interest由OP_ACCEPT改为OP_READ</span></span><br><span class="line">        <span class="comment">//如果不执行下面的语句，则会一直是accept状态（初始时设置为了accept），无法进入后面的两个if语句</span></span><br><span class="line">        <span class="comment">//console一直打印上面的语句</span></span><br><span class="line">        protocol.handleAccept(key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (key.isReadable()) &#123;</span><br><span class="line">        <span class="comment">// 从客户端读取数据</span></span><br><span class="line">        System.out.println(<span class="string">"readable"</span>);</span><br><span class="line">        protocol.handleRead(key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (key.isValid() &amp;&amp; key.isWritable()) &#123;</span><br><span class="line">        <span class="comment">//客户端连接一次后，N次连续进入该方法</span></span><br><span class="line">        <span class="comment">//System.out.println("writable");//连续输出</span></span><br><span class="line">        protocol.handleWrite(key);</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException ex) &#123;</span><br><span class="line">    <span class="comment">// 出现IO异常（如客户端断开连接）时移除处理过的键</span></span><br><span class="line">    keyIter.remove();</span><br><span class="line">    <span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>分别处理：</li></ul><p>对于“接受就绪”的情况：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleAccept</span><span class="params">(SelectionKey key)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        SocketChannel clientChannel = ((ServerSocketChannel) key.channel()).accept();</span><br><span class="line">        clientChannel.configureBlocking(<span class="keyword">false</span>);</span><br><span class="line">        clientChannel.register(key.selector(), SelectionKey.OP_READ, ByteBuffer.allocate(bufferSize));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>对于“读取就绪”的情况</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleRead</span><span class="params">(SelectionKey key)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 获得与客户端通信的信道</span></span><br><span class="line">        SocketChannel clientChannel = (SocketChannel) key.channel();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 得到并清空缓冲区</span></span><br><span class="line">        ByteBuffer buffer = (ByteBuffer) key.attachment();</span><br><span class="line">        buffer.clear();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 读取信息获得读取的字节数</span></span><br><span class="line">        <span class="keyword">long</span> bytesRead = clientChannel.read(buffer);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (bytesRead == -<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="comment">// 没有读取到内容的情况</span></span><br><span class="line">            clientChannel.close();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 将缓冲区准备为数据传出状态</span></span><br><span class="line">            buffer.flip();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 将字节转化为为UTF-16的字符串</span></span><br><span class="line">            String receivedString = Charset.forName(<span class="string">"UTF-16"</span>).newDecoder().decode(buffer).toString();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 控制台打印出来</span></span><br><span class="line">            System.out.println(<span class="string">"接收到来自"</span> + clientChannel.socket().getRemoteSocketAddress() + <span class="string">"的信息:"</span> + receivedString);</span><br><span class="line"></span><br><span class="line">            SimpleDateFormat format = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-mm-dd HH:mm:ss"</span>);</span><br><span class="line">            String f = format.format(<span class="keyword">new</span> Date());</span><br><span class="line">            <span class="comment">// 准备发送的文本</span></span><br><span class="line">            String sendString = <span class="string">"你好,客户端. @"</span> + f + <span class="string">"，已经收到你的信息:"</span> + receivedString;</span><br><span class="line">            buffer = ByteBuffer.wrap(sendString.getBytes(<span class="string">"UTF-16"</span>));</span><br><span class="line">            clientChannel.write(buffer);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 设置为下一次读取或是写入做准备</span></span><br><span class="line">            key.interestOps(SelectionKey.OP_READ | SelectionKey.OP_WRITE);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nio </tag>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180409</title>
      <link href="/2018/04/09/diary20180409/"/>
      <url>/2018/04/09/diary20180409/</url>
      <content type="html"><![CDATA[<p><code>10:39:38</code> 来到凯李咖啡。这里10点半才开门<a href="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/self/self_20180409.jpg" target="_blank" rel="noopener"> </a>。</p><p><code>10:52:30</code> 开始最终的复习！</p><p><code>12:19:28</code> 这是一种什么心理呢？因孤独而不快，却也排斥别人的靠近。</p><p><code>13:27:19</code> 还是要分人的。跟学妹聊的很开心。</p><p><code>23:17:07</code> 网易从20:00面到20:40，感觉还可以。至此，我的春招也告一段落了。最想去的网易，请给我个笑脸吧。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>JVM性能优化总结</title>
      <link href="/2018/04/08/java-jvm-optimization/"/>
      <url>/2018/04/08/java-jvm-optimization/</url>
      <content type="html"><![CDATA[<h1 id="jvm调优过程"><a href="#jvm调优过程" class="headerlink" title="jvm调优过程"></a>jvm调优过程</h1><ol><li>定位问题。使用一些工具如jstack，jhat，jps，JMC，btrace 等工具，或者java自带的参数来查看Java进程的状态、是否在等待锁、进程的CPU和内存占用多少，GC状态如何，FULL GC是否频繁，内存是否泄露等。</li><li>解决问题。1.理解JVM的工作原理，通过运行参数来验证问题。</li></ol><p><strong>能力要求</strong>：</p><ol><li>常用jvm参数</li><li>调优工具</li><li>GC原理</li><li>理解heap dump</li></ol><h1 id="常用工具"><a href="#常用工具" class="headerlink" title="常用工具"></a>常用工具</h1><p>用于jvm调优的工具可以分为</p><ul><li>Java应用监控工具，包括 <code>jconsole</code>，<code>jvisualvm</code></li><li>JVM监控工具，包括 <code>jps</code>，``</li><li>问题定位工具</li></ul><p>分别对应<a href="https://docs.oracle.com/javase/8/docs/technotes/tools/windows/index.html" target="_blank" rel="noopener">官方文档</a>的12，13，15部分。</p><h2 id="Java应用监控工具"><a href="#Java应用监控工具" class="headerlink" title="Java应用监控工具"></a>Java应用监控工具</h2><h3 id="jconsole"><a href="#jconsole" class="headerlink" title="jconsole"></a>jconsole</h3><p>以图形化界面监控Java应用的</p><ul><li>堆内存趋势</li><li>线程数趋势</li><li>类加载数量</li><li>CPU占用率</li></ul><p>如图：</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/jconsole%E7%95%8C%E9%9D%A2.png" alt=""></p><p>参考<a href="https://docs.oracle.com/javase/8/docs/technotes/tools/windows/jconsole.html" target="_blank" rel="noopener">官方文档</a></p><h3 id="jvisualvm"><a href="#jvisualvm" class="headerlink" title="jvisualvm"></a>jvisualvm</h3><p>更加全面、直观地监控java应用的细节，分析内存、cpu和dump。</p><p>如图：</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/jvisualvm%E7%95%8C%E9%9D%A2.png" alt=""></p><h2 id="JVM监控工具"><a href="#JVM监控工具" class="headerlink" title="JVM监控工具"></a>JVM监控工具</h2><h3 id="Jps-虚拟机进程信息查看工具"><a href="#Jps-虚拟机进程信息查看工具" class="headerlink" title="Jps 虚拟机进程信息查看工具"></a>Jps 虚拟机进程信息查看工具</h3><p>功能：查看指定hotspot虚拟机的java进程，列出lvmid（本地虚拟机唯一ID），主类类名，main参数，jvm参数，jar名称等静态信息。内容比较简单。</p><p>参考<a href="https://docs.oracle.com/javase/8/docs/technotes/tools/windows/jps.html" target="_blank" rel="noopener">官方jps文档</a>以及<a href="https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr015.html" target="_blank" rel="noopener">官方教程</a>。</p><h3 id="jstat-虚拟机运行状态监控工具"><a href="#jstat-虚拟机运行状态监控工具" class="headerlink" title="jstat 虚拟机运行状态监控工具"></a>jstat 虚拟机运行状态监控工具</h3><p>可以通过各种参数对JVM（对于某个lvmid）进行非常细致的监控。</p><ul><li><p>监视类装载、卸载数量、总空间以及装载耗费时间</p><ul><li>Loaded：加载的类的数量</li><li>Bytes：加载的空间（kB）</li><li>Unloaded：卸载的类的数量</li><li>Bytes：卸载的空间（kB）</li><li><p>Time：加载/卸载的总时间</p><p>例：</p></li></ul></li></ul><p><code>PS C:\Users\libin&gt; jstat -class 31296</code></p><table><thead><tr><th>Loaded</th><th>Bytes</th><th>Unloaded</th><th>Bytes</th><th>Time</th></tr></thead><tbody><tr><td>5883</td><td>12953.1</td><td>3</td><td>2.8</td><td>1.56</td></tr></tbody></table><ul><li>监视Java堆垃圾回收状况。单位为kB<ul><li>S0C：当前survivor0区的容量</li><li>S1C：当前survivor1区的容量</li><li>S0U：survivor0区使用量</li><li>S1U：survivor1区使用量</li><li>EC：当前Eden区容量</li><li>EU：Eden区使用量</li><li>OC：当前老年代容量</li><li>OU：老年代使用量</li></ul></li></ul><p><code>PS C:\Users\libin&gt; jstat -gc 31296</code></p><table><thead><tr><th>S0C</th><th>S1C</th><th>S0U</th><th>S1U</th><th>EC</th><th>EU</th><th>OC</th><th>OU</th><th>MC</th><th>MU</th><th>CCSC</th><th>CCSU</th><th>YGC</th><th>YGCT</th><th>FGC</th><th>FGCT</th><th>GCT</th></tr></thead><tbody><tr><td>9216.0</td><td>10752.0</td><td>0.0</td><td>0.0</td><td>47616.0</td><td>26950.4</td><td>107520.0</td><td>6643.8</td><td>36560.0</td><td>30046.2</td><td>2560.0</td><td>2304.5</td><td>8</td><td>0.034</td><td>5</td><td>0.161</td><td>0.194</td></tr></tbody></table><ul><li>监视Java内存代数和空间容量（kB）<ul><li>NGCMN：年轻代初始化大小</li><li>NGCMX：年轻代最大容量</li><li>NGC：年轻代当前容量</li><li>S0C：survivor0的容量</li><li>S1C：survivor1的容量</li><li>EC：Eden的容量</li><li>OGCMN：老年代初始化大小</li><li>OGCMX：老年代最大容量</li><li>OGC：老年代当前新生成的容量</li><li>OC：老年代容量</li><li>MCMN：元数据元的初始化容量</li><li>MCMX：元数据区最大容量</li><li>MC：元数据区当前容量</li><li>CCSMN：压缩类空间最小容量</li><li>CCSMX：压缩类空间最大容量</li><li>CCSC：压缩类空间的容量</li><li>YGC：年轻代GC次数</li><li>FGC：full GC次数</li></ul></li></ul><p><code>PS C:\Users\libin&gt; jstat -gccapacity 31296</code></p><table><thead><tr><th>NGCMN</th><th>NGCMX</th><th>NGC</th><th>S0C</th><th>S1C</th><th>EC</th><th>OGCMN</th><th>OGCMX</th><th>OGC</th><th>OC</th><th>MCMN</th><th>MCMX</th><th>MC</th><th>CCSMN</th><th>CCSMX</th><th>CCSC</th><th>YGC</th><th>FGC</th></tr></thead><tbody><tr><td>62464.0</td><td>1000448.0</td><td>69120.0</td><td>9216.0</td><td>10752.0</td><td>47616.0</td><td>125952.0</td><td>2001920.0</td><td>107520.0</td><td>107520.0</td><td>0.0</td><td>1083392.0</td><td>36560.0</td><td>0.0</td><td>1048576.0</td><td>2560.0</td><td>8</td><td>5</td></tr></tbody></table><ul><li>垃圾回收数据统计<ul><li>S0：survivor0区占用比例</li><li>S1：survivor1区占用比例</li><li>E：Eden区占用比例</li><li>O：老年代占用比例</li><li>M：元数据区占用比例</li><li>CCS：压缩类空间占用比例</li><li>YGC：年轻代垃圾回收次数</li><li>YGCT：年轻代垃圾回收消耗时间</li><li>FGC：full GC次数</li><li>FGCT：full GC消耗时间</li><li>GCT：垃圾回收总时间</li></ul></li></ul><p><code>PS C:\Users\libin&gt; jstat -gcutil 31296</code></p><table><thead><tr><th>S0</th><th>S1</th><th>E</th><th>O</th><th>M</th><th>CCS</th><th>YGC</th><th>YGCT</th><th>FGC</th><th>FGCT</th><th>GCT</th></tr></thead><tbody><tr><td>0.00</td><td>0.00</td><td>56.60</td><td>6.18</td><td>82.18</td><td>90.02</td><td>8</td><td>0.034</td><td>5</td><td>0.161</td><td>0.194</td></tr></tbody></table><ul><li>在gcutil基础上增加了LGCC和GCC<ul><li>LGCC：最后垃圾回收的原因</li><li>GCC：当前垃圾回收的原因</li></ul></li></ul><p><code>PS C:\Users\libin&gt; jstat -gccause 31296</code></p><table><thead><tr><th>S0</th><th>S1</th><th>E</th><th>O</th><th>M</th><th>CCS</th><th>YGC</th><th>YGCT</th><th>FGC</th><th>FGCT</th><th>GCT</th><th>LGCC</th><th>GCC</th></tr></thead><tbody><tr><td>0.00</td><td>0.00</td><td>56.60</td><td>6.18</td><td>82.18</td><td>90.02</td><td>8</td><td>0.034</td><td>5</td><td>0.161</td><td>0.194</td><td>JvmtiEnv</td><td>ForceGarbageCollection No GC</td></tr></tbody></table><ul><li>新生代行为统计<ul><li>S0C：当前survivor0容量</li><li>S1C：当前survivor1容量</li><li>S0U：当前survivor0使用量</li><li>S1U：当前survivor1使用量</li><li>TT：持有次数限制</li><li>MTT：最大持有次数</li><li>DSS：期待的survivor大小</li><li>EC：当前Eden区空间容量</li><li>EU：Eden区空间使用量</li><li>YGC：年轻代GC次数</li><li>YGCT：年轻代GC消耗时间</li></ul></li></ul><p><code>PS C:\Users\libin&gt; jstat -gcnew 31296</code></p><table><thead><tr><th>S0C</th><th>S1C</th><th>S0U</th><th>S1U</th><th>TT MTT</th><th>DSS</th><th>EC</th><th>EU</th><th>YGC</th><th>YGCT</th></tr></thead><tbody><tr><td>9216.0</td><td>10752.0</td><td>0.0</td><td>0.0</td><td>9</td><td>15</td><td>10752.0</td><td>47616.0</td><td>26950.4</td><td>8</td><td>0.034</td></tr></tbody></table><ul><li>新生代容量统计</li></ul><p><code>PS C:\Users\libin&gt; jstat -gcnewcapacity 31296</code></p><table><thead><tr><th>NGCMN</th><th>NGCMX</th><th>NGC</th><th>S0CMX</th><th>S0C</th><th>S1CMX</th><th>S1C</th><th>ECMX</th><th>EC</th><th>YGC</th><th>FGC</th></tr></thead><tbody><tr><td>62464.0</td><td>1000448.0</td><td>69120.0</td><td>333312.0</td><td>9216.0</td><td>333312.0</td><td>10752.0</td><td>999424.0</td><td>47616.0</td><td>8</td><td>5</td></tr></tbody></table><ul><li>老年代和元数据区行为统计</li></ul><p><code>PS C:\Users\libin&gt; jstat -gcold 31296</code></p><table><thead><tr><th>MC</th><th>MU</th><th>CCSC</th><th>CCSU</th><th>OC</th><th>OU</th><th>YGC</th><th>FGC</th><th>FGCT</th><th>GCT</th></tr></thead><tbody><tr><td>36560.0</td><td>30046.2</td><td>2560.0</td><td>2304.5</td><td>107520.0</td><td>6643.8</td><td>8</td><td>5</td><td>0.161</td><td>0.194</td></tr></tbody></table><ul><li>老年代大小统计</li></ul><p><code>PS C:\Users\libin&gt; jstat -gcoldcapacity 31296</code></p><table><thead><tr><th>OGCMN</th><th>OGCMX</th><th>OGC</th><th>OC</th><th>YGC</th><th>FGC</th><th>FGCT</th><th>GCT</th></tr></thead><tbody><tr><td>125952.0</td><td>2001920.0</td><td>107520.0</td><td>107520.0</td><td>8</td><td>5</td><td>0.161</td><td>0.194</td></tr></tbody></table><ul><li>元数据区大小统计<ul><li>MCMN：元数据区最小容量</li><li>MCMX：元数据区最大容量</li><li>MC：元数据区当前容量</li><li>CCSMN：压缩类空间最小容量</li><li>CCSMX：压缩类空间最大容量</li><li>YGC：年轻代垃圾回收次数</li><li>FGC：full GC次数</li><li>FGCT：full GC时间</li><li>GCT：垃圾回收总时间</li></ul></li></ul><p><code>PS C:\Users\libin&gt; jstat -gcmetacapacity 31296</code></p><table><thead><tr><th>MCMN</th><th>MCMX</th><th>MC</th><th>CCSMN</th><th>CCSMX</th><th>CCSC</th><th>YGC</th><th>FGC</th><th>FGCT</th><th>GCT</th></tr></thead><tbody><tr><td>0.0</td><td>1083392.0</td><td>36560.0</td><td>0.0</td><td>1048576.0</td><td>2560.0</td><td>8</td><td>5</td><td>0.161</td><td>0.194</td></tr></tbody></table><p>参考<a href="https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr017.html" target="_blank" rel="noopener">官方jstat教程</a></p><h3 id="jms-Java任务控制工具"><a href="#jms-Java任务控制工具" class="headerlink" title="jms Java任务控制工具"></a>jms Java任务控制工具</h3><p>功能：作为一套图形化工具集合，用于配置、监控和诊断。</p><h2 id="问题定位工具（heap-dump-与-thread-dump）"><a href="#问题定位工具（heap-dump-与-thread-dump）" class="headerlink" title="问题定位工具（heap dump 与 thread dump）"></a>问题定位工具（heap dump 与 thread dump）</h2><h3 id="jcmd-本地java应用信息查看工具"><a href="#jcmd-本地java应用信息查看工具" class="headerlink" title="jcmd 本地java应用信息查看工具"></a>jcmd 本地java应用信息查看工具</h3><p>功能：这是一个多功能工具，可以查看线程信息、导出堆信息等，可以代替jmap。</p><h3 id="jmap"><a href="#jmap" class="headerlink" title="jmap"></a>jmap</h3><p>功能：分析java堆。可以生成Java<strong>堆转储快照</strong>，并对其分析。</p><h3 id="jstack"><a href="#jstack" class="headerlink" title="jstack"></a>jstack</h3><p>功能，分析线程，生成Java<strong>线程快照</strong>。</p><h1 id="典型问题及处理-流程"><a href="#典型问题及处理-流程" class="headerlink" title="典型问题及处理 流程"></a>典型问题及处理 流程</h1><p>运行如代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Object object1 = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Object object2 = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Thread1</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">"thread1 start"</span>);</span><br><span class="line">            <span class="keyword">synchronized</span> (object1) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">5000</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(<span class="string">"thread 1 get lock 1 need lock 2"</span>);</span><br><span class="line">                <span class="keyword">synchronized</span> (object2) &#123;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">"thread1 end"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Thread2</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">"thread2 start"</span>);</span><br><span class="line">            <span class="keyword">synchronized</span> (object2) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">5000</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(<span class="string">"thread 2 get lock 2 need lock 1"</span>);</span><br><span class="line">                <span class="keyword">synchronized</span> (object1) &#123;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Thread1 thread1 = <span class="keyword">new</span> Test().new Thread1();</span><br><span class="line">        Thread2 thread2 = <span class="keyword">new</span> Test().new Thread2();</span><br><span class="line">        thread1.start();</span><br><span class="line">        thread2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">thread2 start</span><br><span class="line">thread1 start</span><br><span class="line">thread 2 get lock 2 need lock 1</span><br><span class="line">thread 1 get lock 1 need lock 2</span><br></pre></td></tr></table></figure><p>两个线程处于死锁状态，相互需要对方持有的锁。</p><p><strong>解决方案</strong>：使用jps或jcmd查看线程id，再使用jstack &gt; dumpthread。</p><ol><li>通过jcmd得知线程id是29248</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">D:\CODE\ideaProject\untitled27&gt;jcmd</span><br><span class="line">29248 Test</span><br><span class="line">8136 sun.tools.jcmd.JCmd</span><br></pre></td></tr></table></figure><ol><li>通过jstack发现死锁。</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line">D:\CODE\ideaProject\untitled27&gt;jstack 29248</span><br><span class="line">2018-04-08 21:12:29</span><br><span class="line">Full thread dump Java HotSpot(TM) 64-Bit Server VM (25.161-b12 mixed mode):</span><br><span class="line"></span><br><span class="line">&quot;DestroyJavaVM&quot; #14 prio=5 os_prio=0 tid=0x0000000005233800 nid=0x77f4 waiting on condition [0x0000000000000000]</span><br><span class="line">   java.lang.Thread.State: RUNNABLE</span><br><span class="line"></span><br><span class="line">&quot;Thread-1&quot; #13 prio=5 os_prio=0 tid=0x000000001e547800 nid=0x9440 waiting for monitor entry [0x000000001f2bf000]</span><br><span class="line">   java.lang.Thread.State: BLOCKED (on object monitor)</span><br><span class="line">        at Test$Thread2.run(Test.java:36)</span><br><span class="line">        - waiting to lock &lt;0x00000007830b34a8&gt; (a [I)</span><br><span class="line">        - locked &lt;0x00000007830b34c0&gt; (a [I)</span><br><span class="line"></span><br><span class="line">&quot;Thread-0&quot; #12 prio=5 os_prio=0 tid=0x000000001e546800 nid=0x75c waiting for monitor entry [0x000000001f1bf000]</span><br><span class="line">   java.lang.Thread.State: BLOCKED (on object monitor)</span><br><span class="line">        at Test$Thread1.run(Test.java:19)</span><br><span class="line">        - waiting to lock &lt;0x00000007830b34c0&gt; (a [I)</span><br><span class="line">        - locked &lt;0x00000007830b34a8&gt; (a [I)</span><br><span class="line"></span><br><span class="line">&quot;Service Thread&quot; #11 daemon prio=9 os_prio=0 tid=0x000000001e3f2800 nid=0x6abc runnable [0x0000000000000000]</span><br><span class="line">   java.lang.Thread.State: RUNNABLE</span><br><span class="line"></span><br><span class="line">&quot;C1 CompilerThread3&quot; #10 daemon prio=9 os_prio=2 tid=0x000000001e3a7800 nid=0x7ff4 waiting on condition [0x0000000000000000]</span><br><span class="line">   java.lang.Thread.State: RUNNABLE</span><br><span class="line"></span><br><span class="line">&quot;C2 CompilerThread2&quot; #9 daemon prio=9 os_prio=2 tid=0x000000001e3a2000 nid=0x4f9c waiting on condition [0x0000000000000000]</span><br><span class="line">   java.lang.Thread.State: RUNNABLE</span><br><span class="line"></span><br><span class="line">&quot;C2 CompilerThread1&quot; #8 daemon prio=9 os_prio=2 tid=0x000000001e390800 nid=0x8f8c waiting on condition [0x0000000000000000]</span><br><span class="line">   java.lang.Thread.State: RUNNABLE</span><br><span class="line"></span><br><span class="line">&quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=2 tid=0x000000001e38e000 nid=0x210c waiting on condition [0x0000000000000000]</span><br><span class="line">   java.lang.Thread.State: RUNNABLE</span><br><span class="line"></span><br><span class="line">&quot;Monitor Ctrl-Break&quot; #6 daemon prio=5 os_prio=0 tid=0x000000001e368000 nid=0x8e10 runnable [0x000000001eabe000]</span><br><span class="line">   java.lang.Thread.State: RUNNABLE</span><br><span class="line">        at java.net.SocketInputStream.socketRead0(Native Method)</span><br><span class="line">        at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)</span><br><span class="line">        at java.net.SocketInputStream.read(SocketInputStream.java:171)</span><br><span class="line">        at java.net.SocketInputStream.read(SocketInputStream.java:141)</span><br><span class="line">        at sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:284)</span><br><span class="line">        at sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:326)</span><br><span class="line">        at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)</span><br><span class="line">        - locked &lt;0x0000000783118ea0&gt; (a java.io.InputStreamReader)</span><br><span class="line">        at java.io.InputStreamReader.read(InputStreamReader.java:184)</span><br><span class="line">        at java.io.BufferedReader.fill(BufferedReader.java:161)</span><br><span class="line">        at java.io.BufferedReader.readLine(BufferedReader.java:324)</span><br><span class="line">        - locked &lt;0x0000000783118ea0&gt; (a java.io.InputStreamReader)</span><br><span class="line">        at java.io.BufferedReader.readLine(BufferedReader.java:389)</span><br><span class="line">        at com.intellij.rt.execution.application.AppMainV2$1.run(AppMainV2.java:64)</span><br><span class="line"></span><br><span class="line">&quot;Attach Listener&quot; #5 daemon prio=5 os_prio=2 tid=0x000000001e2fc000 nid=0x7fcc waiting on condition [0x0000000000000000]</span><br><span class="line">   java.lang.Thread.State: RUNNABLE</span><br><span class="line"></span><br><span class="line">&quot;Signal Dispatcher&quot; #4 daemon prio=9 os_prio=2 tid=0x000000001e350000 nid=0x64c0 runnable [0x0000000000000000]</span><br><span class="line">   java.lang.Thread.State: RUNNABLE</span><br><span class="line"></span><br><span class="line">&quot;Finalizer&quot; #3 daemon prio=8 os_prio=1 tid=0x000000001c3e3800 nid=0x82e0 in Object.wait() [0x000000001e7bf000]</span><br><span class="line">   java.lang.Thread.State: WAITING (on object monitor)</span><br><span class="line">        at java.lang.Object.wait(Native Method)</span><br><span class="line">        - waiting on &lt;0x0000000782f08ec0&gt; (a java.lang.ref.ReferenceQueue$Lock)</span><br><span class="line">        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:143)</span><br><span class="line">        - locked &lt;0x0000000782f08ec0&gt; (a java.lang.ref.ReferenceQueue$Lock)</span><br><span class="line">        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:164)</span><br><span class="line">        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:209)</span><br><span class="line"></span><br><span class="line">&quot;Reference Handler&quot; #2 daemon prio=10 os_prio=2 tid=0x000000001c3dc800 nid=0x46c8 in Object.wait() [0x000000001e2bf000]</span><br><span class="line">   java.lang.Thread.State: WAITING (on object monitor)</span><br><span class="line">        at java.lang.Object.wait(Native Method)</span><br><span class="line">        - waiting on &lt;0x0000000782f06b68&gt; (a java.lang.ref.Reference$Lock)</span><br><span class="line">        at java.lang.Object.wait(Object.java:502)</span><br><span class="line">        at java.lang.ref.Reference.tryHandlePending(Reference.java:191)</span><br><span class="line">        - locked &lt;0x0000000782f06b68&gt; (a java.lang.ref.Reference$Lock)</span><br><span class="line">        at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:153)</span><br><span class="line"></span><br><span class="line">&quot;VM Thread&quot; os_prio=2 tid=0x000000001c3d8800 nid=0x8c34 runnable</span><br><span class="line"></span><br><span class="line">&quot;GC task thread#0 (ParallelGC)&quot; os_prio=0 tid=0x0000000005249000 nid=0x8cf4 runnable</span><br><span class="line"></span><br><span class="line">&quot;GC task thread#1 (ParallelGC)&quot; os_prio=0 tid=0x000000000524a800 nid=0x87f0 runnable</span><br><span class="line"></span><br><span class="line">&quot;GC task thread#2 (ParallelGC)&quot; os_prio=0 tid=0x000000000524c000 nid=0x7820 runnable</span><br><span class="line"></span><br><span class="line">&quot;GC task thread#3 (ParallelGC)&quot; os_prio=0 tid=0x000000000524d800 nid=0x760 runnable</span><br><span class="line"></span><br><span class="line">&quot;GC task thread#4 (ParallelGC)&quot; os_prio=0 tid=0x000000000524f800 nid=0x2dc4 runnable</span><br><span class="line"></span><br><span class="line">&quot;GC task thread#5 (ParallelGC)&quot; os_prio=0 tid=0x0000000005252000 nid=0x722c runnable</span><br><span class="line"></span><br><span class="line">&quot;GC task thread#6 (ParallelGC)&quot; os_prio=0 tid=0x0000000005255000 nid=0x92d4 runnable</span><br><span class="line"></span><br><span class="line">&quot;GC task thread#7 (ParallelGC)&quot; os_prio=0 tid=0x0000000005256000 nid=0x6a30 runnable</span><br><span class="line"></span><br><span class="line">&quot;VM Periodic Task Thread&quot; os_prio=2 tid=0x000000001e4e6800 nid=0x4854 waiting on condition</span><br><span class="line"></span><br><span class="line">JNI global references: 30</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Found one Java-level deadlock:</span><br><span class="line">=============================</span><br><span class="line">&quot;Thread-1&quot;:</span><br><span class="line">  waiting to lock monitor 0x000000001c3e2c78 (object 0x00000007830b34a8, a [I),</span><br><span class="line">  which is held by &quot;Thread-0&quot;</span><br><span class="line">&quot;Thread-0&quot;:</span><br><span class="line">  waiting to lock monitor 0x000000001c3e03e8 (object 0x00000007830b34c0, a [I),</span><br><span class="line">  which is held by &quot;Thread-1&quot;</span><br><span class="line"></span><br><span class="line">Java stack information for the threads listed above:</span><br><span class="line">===================================================</span><br><span class="line">&quot;Thread-1&quot;:</span><br><span class="line">        at Test$Thread2.run(Test.java:36)</span><br><span class="line">        - waiting to lock &lt;0x00000007830b34a8&gt; (a [I)</span><br><span class="line">        - locked &lt;0x00000007830b34c0&gt; (a [I)</span><br><span class="line">&quot;Thread-0&quot;:</span><br><span class="line">        at Test$Thread1.run(Test.java:19)</span><br><span class="line">        - waiting to lock &lt;0x00000007830b34c0&gt; (a [I)</span><br><span class="line">        - locked &lt;0x00000007830b34a8&gt; (a [I)</span><br><span class="line"></span><br><span class="line">Found 1 deadlock.</span><br></pre></td></tr></table></figure><p>易看出两个线程处于死锁状态。而且已经标识出代码的位置：Test.java的36行和19行，即两个<code>synchornized</code>块。</p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jvm </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180408</title>
      <link href="/2018/04/08/diary20180408/"/>
      <url>/2018/04/08/diary20180408/</url>
      <content type="html"><![CDATA[<p><code>14:24:26</code> 来到库克咖啡。收到网易视频面试的邮件，明晚7点半面试。也许是最后一次面试了，通过与否，我的日复一日的低效学习也即将告一段落。</p><p><code>22:36:16</code> 9点左右与胡去江边看了一下，回家。这两天嗓子痛，买了穿心莲内脂的药。滴丸，应该是倒嘴里用水送下去。然而我竟然用水重开了。趁完全溶解之前我试图一起喝下去，结果把水喝了药剩下了，苦！索性把它们用水重开。</p><p><code>22:38:48</code> 现在我即将咽下这黄色的苦水。</p><p><code>22:40:05</code> 咽下去了。苦不堪言，虽然没有到完全无法忍受的程度。难受的是身边没有凉水，苦味没法消除！</p><p><code>22:53:13</code> 苦味渐渐消除<a href="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/self/self_20180408.jpg" target="_blank" rel="noopener"> </a>。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180407</title>
      <link href="/2018/04/07/diary20180407/"/>
      <url>/2018/04/07/diary20180407/</url>
      <content type="html"><![CDATA[<p><code>12:56:12</code> 买了一些水果<a href="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/self/self_20180407.jpg" target="_blank" rel="noopener"> </a>。</p><p><code>23:33:43</code> 白天在家宅了一天。晚上与胡、浩去吃了大斌家。浩给我拍了张<a href="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/%E5%A4%A7%E6%96%8C%E5%AE%B6%E8%AE%B8%E6%B5%A9%E6%8B%8D.jpg" target="_blank" rel="noopener">照片</a>。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/IMG_20180407.jpg" alt=""></p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>dev-blogmanager</title>
      <link href="/2018/04/07/dev-blogmanager/"/>
      <url>/2018/04/07/dev-blogmanager/</url>
      <content type="html"><![CDATA[<ul><li>图片压缩</li><li>图片尺寸修正</li></ul>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 开发记录 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180406</title>
      <link href="/2018/04/06/diary20180406/"/>
      <url>/2018/04/06/diary20180406/</url>
      <content type="html"><![CDATA[<p><code>14:05:10</code> 今天起晚了。原因是杨康楠来长沙，手机坏了，我把我的红米note4借给他，格式化了，闹钟没响。<a href="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/self/self_20180406.jpg" target="_blank" rel="noopener"> </a></p><p><code>14:44:04</code> 当某件事发生的频率被主动或被动地提升至每天一次或每天多次，就有必要写个软件优化下了。</p><p><code>22:56:03</code> 今天下午与楠，浩玩的很开心。下午吃了虾吃虾涮，打了一局台球。晚上到麓南青年街喝了奶茶。我楠打了<del>美团打车</del>滴滴回河东，我送许浩回后街。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/IMG_20180406_793x446.jpg" alt=""></p><p><code>0:46:11</code> 想到了一种新的分类方法！是否与人有关？比如，图片脱离了人类仍然是图片，而“自拍”则无法与人分离！或者用更简单直观的方式：用“它是一种…，可以用来…，与人有/无关。”造句。造出来，则得结果。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180405</title>
      <link href="/2018/04/05/diary20180405/"/>
      <url>/2018/04/05/diary20180405/</url>
      <content type="html"><![CDATA[<p><code>12:25:34</code> 大幅修改了博客样式。</p><p><code>20:58:08</code> 清明雨密，在家呆了一天。</p><p><code>0:01:57</code> 终于把事务的隔离级别的细节搞懂了。</p><p><code>0:21:30</code> 想做个“One Big Thing”的app，格式化记录每一天最重要的事情。</p><p><code>0:24:55</code> 嗯。。或者叫做Moment。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180404</title>
      <link href="/2018/04/04/diary20180404/"/>
      <url>/2018/04/04/diary20180404/</url>
      <content type="html"><![CDATA[<p><code>13:04:02</code> 来到库可咖啡。日记的格式还不够格式化。</p><p><code>15:32:36</code> 收到华为的面试通过短信，十分开心。</p><p><code>23:58:39</code> 尝试增加“实验”性质、以<code>exp</code>开头的博客文章。</p><p><code>0:25:23</code> 晚上与许浩在校园逛了逛。陪他吃了转转锅。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180403</title>
      <link href="/2018/04/03/diary20180403/"/>
      <url>/2018/04/03/diary20180403/</url>
      <content type="html"><![CDATA[<p>上午参加了华为面试。一个技术大佬，一个管理大佬。需要进步的还有很多。尝试发现技术的乐趣吧。</p><p>下午跟胡到了西边华为的售后店。</p><p><code>21:05:58</code> 还有三个月就毕业了。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180402</title>
      <link href="/2018/04/02/diary20180402/"/>
      <url>/2018/04/02/diary20180402/</url>
      <content type="html"><![CDATA[<p><code>10:37:36</code> 携小本来到凯李咖啡。</p><p><code>11:31:18</code> feel。</p><p><code>22:08:30</code> 对职业发展的困惑和不安，其实换个角度思考会好很多：你希望你十年之后是什么样子？奔着那个方向努力吧。</p><p>今天毕设检查，没什么值得记录的。下午与胡买了水果喝啤酒吃炸鸡去网吧。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>mysql官方性能优化笔记</title>
      <link href="/2018/04/01/note-mysql-optimization-official/"/>
      <url>/2018/04/01/note-mysql-optimization-official/</url>
      <content type="html"><![CDATA[<p>整理自<a href="https://dev.mysql.com/doc/refman/5.7/en/optimization.html" target="_blank" rel="noopener">mysql官方文档</a></p><h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><p>数据库的性能优化主要有三个方面：</p><ul><li>数据库级别的优化</li><li>硬件级别的优化</li><li>平衡可移植性和性能</li></ul><h1 id="SQL语句优化"><a href="#SQL语句优化" class="headerlink" title="SQL语句优化"></a>SQL语句优化</h1><h2 id="SELECT语句优化"><a href="#SELECT语句优化" class="headerlink" title="SELECT语句优化"></a>SELECT语句优化</h2><h3 id="WHERE字句的优化"><a href="#WHERE字句的优化" class="headerlink" title="WHERE字句的优化"></a>WHERE字句的优化</h3>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
            <tag> 性能优化 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>mysql性能优化相关命令</title>
      <link href="/2018/04/01/note-mysql-performance-command/"/>
      <url>/2018/04/01/note-mysql-performance-command/</url>
      <content type="html"><![CDATA[<h1 id="explain命令"><a href="#explain命令" class="headerlink" title="explain命令"></a>explain命令</h1><p>（参考：<a href="https://segmentfault.com/a/1190000008131735）" target="_blank" rel="noopener">https://segmentfault.com/a/1190000008131735）</a></p><p>对于脚本：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`order_info`</span> (</span><br><span class="line">  <span class="string">`id`</span>           <span class="built_in">BIGINT</span>(<span class="number">20</span>)  <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  <span class="string">`user_id`</span>      <span class="built_in">BIGINT</span>(<span class="number">20</span>)           <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`product_name`</span> <span class="built_in">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">''</span>,</span><br><span class="line">  <span class="string">`productor`</span>    <span class="built_in">VARCHAR</span>(<span class="number">30</span>)          <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="string">`id`</span>),</span><br><span class="line">  <span class="keyword">KEY</span> <span class="string">`user_product_detail_index`</span> (<span class="string">`user_id`</span>, <span class="string">`product_name`</span>, <span class="string">`productor`</span>)</span><br><span class="line">)</span><br><span class="line">  <span class="keyword">ENGINE</span> = <span class="keyword">InnoDB</span></span><br><span class="line">  <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span> = utf8</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> order_info (user_id, product_name, productor) <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">'p1'</span>, <span class="string">'WHH'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> order_info (user_id, product_name, productor) <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">'p2'</span>, <span class="string">'WL'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> order_info (user_id, product_name, productor) <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">'p1'</span>, <span class="string">'DX'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> order_info (user_id, product_name, productor) <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="string">'p1'</span>, <span class="string">'WHH'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> order_info (user_id, product_name, productor) <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="string">'p5'</span>, <span class="string">'WL'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> order_info (user_id, product_name, productor) <span class="keyword">VALUES</span> (<span class="number">3</span>, <span class="string">'p3'</span>, <span class="string">'MA'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> order_info (user_id, product_name, productor) <span class="keyword">VALUES</span> (<span class="number">4</span>, <span class="string">'p1'</span>, <span class="string">'WHH'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> order_info (user_id, product_name, productor) <span class="keyword">VALUES</span> (<span class="number">6</span>, <span class="string">'p1'</span>, <span class="string">'WHH'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> order_info (user_id, product_name, productor) <span class="keyword">VALUES</span> (<span class="number">9</span>, <span class="string">'p8'</span>, <span class="string">'TE'</span>);</span><br></pre></td></tr></table></figure><p>做explain查询有：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">explain</span> <span class="keyword">select</span> * <span class="keyword">from</span> user_info <span class="keyword">where</span> <span class="keyword">id</span> = <span class="number">2</span>\G</span><br></pre></td></tr></table></figure><p>结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">*************************** 1. row ***************************</span><br><span class="line">           id: 1</span><br><span class="line">  select_type: SIMPLE</span><br><span class="line">        table: user_info</span><br><span class="line">   partitions: NULL</span><br><span class="line">         type: const</span><br><span class="line">possible_keys: PRIMARY</span><br><span class="line">          key: PRIMARY</span><br><span class="line">      key_len: 8</span><br><span class="line">          ref: const</span><br><span class="line">         rows: 1</span><br><span class="line">     filtered: 100.00</span><br><span class="line">        Extra: NULL</span><br><span class="line">1 row in set, 1 warning (0.00 sec)</span><br></pre></td></tr></table></figure><p>解释：</p><ul><li>id：每个select都会自动分配一个唯一标识符。</li><li>select_type:SELECT的类型。<ul><li>SIMPLE：表示此查询不包含UNION查询或子查询</li><li>PRIMARY：表示此查询是最外层的查询。</li><li>UNION, 表示此查询是 UNION 的第二或随后的查询</li><li>DEPENDENT UNION, UNION 中的第二个或后面的查询语句, 取决于外面的查询</li><li>UNION RESULT, UNION 的结果</li><li>SUBQUERY, 子查询中的第一个 SELECT</li><li>DEPENDENT SUBQUERY: 子查询中的第一个 SELECT, 取决于外面的查询. 即子查询依赖于外层查询的结果.</li></ul></li><li>table：查询涉及的表</li><li>partitions: 匹配的分区</li><li><p>type: join 类型，比较重要</p><ul><li>system：表中只有一条数据</li><li>针对主键或唯一索引的等值查询扫描，最多只返回一行数据，速度非常快，因为仅仅读取一次即可。使用主键索引的查询就是const类型的。</li><li>eq_ref：此类型通常出现在多表的 join 查询, 表示对于前表的每一个结果, 都只能匹配到后表的一行结果. 并且查询的比较操作通常是 =, 查询效率较高. 例如:</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; EXPLAIN SELECT * FROM user_info, order_info WHERE user_info.id = order_info.user_id\G</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">          id: 1</span><br><span class="line">  select_type: SIMPLE</span><br><span class="line">        table: order_info</span><br><span class="line">  partitions: NULL</span><br><span class="line">        type: index</span><br><span class="line">possible_keys: user_product_detail_index</span><br><span class="line">          key: user_product_detail_index</span><br><span class="line">      key_len: 314</span><br><span class="line">          ref: NULL</span><br><span class="line">        rows: 9</span><br><span class="line">    filtered: 100.00</span><br><span class="line">        Extra: Using where; Using index</span><br><span class="line">*************************** 2. row ***************************</span><br><span class="line">          id: 1</span><br><span class="line">  select_type: SIMPLE</span><br><span class="line">        table: user_info</span><br><span class="line">  partitions: NULL</span><br><span class="line">        type: eq_ref</span><br><span class="line">possible_keys: PRIMARY</span><br><span class="line">          key: PRIMARY</span><br><span class="line">      key_len: 8</span><br><span class="line">          ref: test.order_info.user_id</span><br><span class="line">        rows: 1</span><br><span class="line">    filtered: 100.00</span><br><span class="line">        Extra: NULL</span><br><span class="line">2 rows in set, 1 warning (0.00 sec)</span><br></pre></td></tr></table></figure><ul><li>ref: 此类型通常出现在多表的 join 查询, 针对于非唯一或非主键索引, 或者是使用了 <strong>最左前缀</strong> 规则索引的查询. 例如</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; EXPLAIN SELECT * FROM user_info, order_info WHERE user_info.id = order_info.user_id AND order_info.user_id = 5\G</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">          id: 1</span><br><span class="line">  select_type: SIMPLE</span><br><span class="line">        table: user_info</span><br><span class="line">  partitions: NULL</span><br><span class="line">        type: const</span><br><span class="line">possible_keys: PRIMARY</span><br><span class="line">          key: PRIMARY</span><br><span class="line">      key_len: 8</span><br><span class="line">          ref: const</span><br><span class="line">        rows: 1</span><br><span class="line">    filtered: 100.00</span><br><span class="line">        Extra: NULL</span><br><span class="line">*************************** 2. row ***************************</span><br><span class="line">          id: 1</span><br><span class="line">  select_type: SIMPLE</span><br><span class="line">        table: order_info</span><br><span class="line">  partitions: NULL</span><br><span class="line">        type: ref</span><br><span class="line">possible_keys: user_product_detail_index</span><br><span class="line">          key: user_product_detail_index</span><br><span class="line">      key_len: 9</span><br><span class="line">          ref: const</span><br><span class="line">        rows: 1</span><br><span class="line">    filtered: 100.00</span><br><span class="line">        Extra: Using index</span><br><span class="line">2 rows in set, 1 warning (0.01 sec)</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>range: 表示使用索引范围查询, 通过索引字段范围获取表中部分数据记录. 这个类型通常出现在 =, &lt;&gt;, &gt;, &gt;=, &lt;, &lt;=, IS NULL, &lt;=&gt;, BETWEEN, IN() 操作中.当 type 是 range 时, 那么 EXPLAIN 输出的 ref 字段为 NULL, 并且 key_len 字段是此次查询中使用到的索引的最长的那个.例如</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; EXPLAIN SELECT *</span><br><span class="line">    -&gt;         FROM user_info</span><br><span class="line">    -&gt;         WHERE id BETWEEN 2 AND 8 \G</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">          id: 1</span><br><span class="line">  select_type: SIMPLE</span><br><span class="line">        table: user_info</span><br><span class="line">  partitions: NULL</span><br><span class="line">        type: range</span><br><span class="line">possible_keys: PRIMARY</span><br><span class="line">          key: PRIMARY</span><br><span class="line">      key_len: 8</span><br><span class="line">          ref: NULL</span><br><span class="line">        rows: 7</span><br><span class="line">    filtered: 100.00</span><br><span class="line">        Extra: Using where</span><br><span class="line">1 row in set, 1 warning (0.00 sec)</span><br></pre></td></tr></table></figure></li><li><p>index: 表示全索引扫描(full index scan), 和 ALL 类型类似, 只不过 ALL 类型是全表扫描, 而 index 类型则仅仅扫描所有的索引, 而不扫描数据.index 类型通常出现在: 所要查询的数据直接在索引树中就可以获取到, 而不需要扫描数据. 当是这种情况时, Extra 字段 会显示 Using index.例如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; EXPLAIN SELECT name FROM  user_info \G</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">          id: 1</span><br><span class="line">  select_type: SIMPLE</span><br><span class="line">        table: user_info</span><br><span class="line">  partitions: NULL</span><br><span class="line">        type: index</span><br><span class="line">possible_keys: NULL</span><br><span class="line">          key: name_index</span><br><span class="line">      key_len: 152</span><br><span class="line">          ref: NULL</span><br><span class="line">        rows: 10</span><br><span class="line">    filtered: 100.00</span><br><span class="line">        Extra: Using index</span><br><span class="line">1 row in set, 1 warning (0.00 sec)</span><br></pre></td></tr></table></figure></li><li><p>ALL: 表示全表扫描, 这个类型的查询是性能最差的查询之一. 通常来说, 我们的查询不应该出现 ALL 类型的查询, 因为这样的查询在数据量大的情况下, 对数据库的性能是巨大的灾难. 如一个查询是 ALL 类型查询, 那么一般来说可以对相应的字段添加索引来避免.</p><p>下面是一个全表扫描的例子, 可以看到, 在全表扫描时, possible_keys 和 key 字段都是 NULL, 表示没有使用到索引, 并且 rows 十分巨大, 因此整个查询效率是十分低下的.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; EXPLAIN SELECT age FROM  user_info WHERE age = 20 \G</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">          id: 1</span><br><span class="line">  select_type: SIMPLE</span><br><span class="line">        table: user_info</span><br><span class="line">  partitions: NULL</span><br><span class="line">        type: ALL</span><br><span class="line">possible_keys: NULL</span><br><span class="line">          key: NULL</span><br><span class="line">      key_len: NULL</span><br><span class="line">          ref: NULL</span><br><span class="line">        rows: 10</span><br><span class="line">    filtered: 10.00</span><br><span class="line">        Extra: Using where</span><br><span class="line">1 row in set, 1 warning (0.00 sec)</span><br></pre></td></tr></table></figure></li></ul><ul><li>possible_keys: 此次查询中能够用到的索引。但是不表示真正使用到。</li><li>key: 此次查询中确切使用到的索引.</li><li>key_len：表示查询优化器使用量索引的字节数。</li><li>ref: 哪个字段或常数与 key 一起被使用</li><li>rows: 显示此查询一共扫描了多少行. 这个是一个估计值.</li><li>filtered: 表示此查询条件所过滤的数据的百分比</li><li>extra: 额外的信息</li></ul><h2 id="type的比较"><a href="#type的比较" class="headerlink" title="type的比较"></a>type的比较</h2><p>通常来说, 不同的 type 类型的性能关系如下:</p><p>ALL &lt; index &lt; range ~ index_merge &lt; ref &lt; eq_ref &lt; const &lt; system</p><p>ALL 类型因为是全表扫描, 因此在相同的查询条件下, 它是速度最慢的.<br>而 index 类型的查询虽然不是全表扫描, 但是它扫描了所有的索引, 因此比 ALL 类型的稍快.</p><p>后面的几种类型都是利用了索引来查询数据, 因此可以过滤部分或大部分数据, 因此查询效率就比较高了.</p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
            <tag> 性能优化 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180401</title>
      <link href="/2018/04/01/diary20180401/"/>
      <url>/2018/04/01/diary20180401/</url>
      <content type="html"><![CDATA[<p><code>14:07:41</code> 今天去了岳麓峰会，逛了一圈回来了。没什么意思。泰坤之后确实会起的很晚。腰酸背痛倒是没有那么夸张了。</p><p><code>21:09:43</code> 泰坤归来，疲劳度越来越轻，时间也越来越快了。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180331</title>
      <link href="/2018/03/31/diary20180331/"/>
      <url>/2018/03/31/diary20180331/</url>
      <content type="html"><![CDATA[<p><code>22:39:49</code> 下午跟胡去了新校，到桃子湖转了转，那地方是真大呀。晚上去了泰坤，爽。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>git相关记录</title>
      <link href="/2018/03/30/note-git/"/>
      <url>/2018/03/30/note-git/</url>
      <content type="html"><![CDATA[<h1 id="安装之后的设置"><a href="#安装之后的设置" class="headerlink" title="安装之后的设置"></a>安装之后的设置</h1><h2 id="设置用户名"><a href="#设置用户名" class="headerlink" title="设置用户名"></a>设置用户名</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;libin&quot;</span><br><span class="line">git config --global user.email libinworkspace@qq.com</span><br></pre></td></tr></table></figure><h2 id="添加ssh-key"><a href="#添加ssh-key" class="headerlink" title="添加ssh key"></a>添加ssh key</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen</span><br></pre></td></tr></table></figure><h2 id="防止中文乱码问题"><a href="#防止中文乱码问题" class="headerlink" title="防止中文乱码问题"></a>防止中文乱码问题</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.quotepath false        // git status 中文乱码</span><br></pre></td></tr></table></figure><h2 id="加快克隆"><a href="#加快克隆" class="headerlink" title="加快克隆"></a>加快克隆</h2><h3 id="1-修改hosts文件"><a href="#1-修改hosts文件" class="headerlink" title="1. 修改hosts文件"></a>1. 修改hosts文件</h3><ul><li>hosts文件目录：<code>C:\Windows\System32\drivers\etc</code></li><li>分别 <code>ping global-ssl.fastly.net</code> 和 <code>ping github.com</code> ,分别获取ip，添加到hosts文件中，如下：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"># localhost name resolution is handled within DNS itself.</span><br><span class="line">#127.0.0.1       localhost</span><br><span class="line">#::1             localhost</span><br><span class="line">151.101.41.194      github.global.ssl.fastly.net</span><br><span class="line">192.30.253.112      github.com</span><br></pre></td></tr></table></figure><ul><li>刷新dns：<code>ipconfig /flushdns</code></li></ul><h3 id="2-修改缓冲区"><a href="#2-修改缓冲区" class="headerlink" title="2. 修改缓冲区"></a>2. 修改缓冲区</h3><ul><li><code>git config --global http.postBuffer 524288000</code></li></ul><h2 id="避免文件名过长的error"><a href="#避免文件名过长的error" class="headerlink" title="避免文件名过长的error"></a>避免文件名过长的error</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.longpaths true</span><br></pre></td></tr></table></figure><h1 id="使用细节"><a href="#使用细节" class="headerlink" title="使用细节"></a>使用细节</h1><h2 id="关于分支"><a href="#关于分支" class="headerlink" title="关于分支"></a>关于分支</h2><ul><li>星号“*”所在位置即为当前分支。</li><li><code>git merge xxx</code>是将<code>xxx</code>分支合并到当前分支，在当前分支下形成新的节点。而<code>git rebase xxx</code>是将当前节点合并到<code>xxx</code>节点，并将其作为当前分支的最新节点。抛弃开始时的“当前节点”。开始时的“当前节点”已经没有分支。</li></ul><h2 id="HEAD与分支"><a href="#HEAD与分支" class="headerlink" title="HEAD与分支"></a>HEAD与分支</h2><ul><li>HEAD通常指向当前分支，手动对某个提交记录惊醒<code>checkout</code>则指向此提交记录。</li><li>查看HEAD：<code>cat .git/HEAD</code>或<code>git symbolic-ref HEAD</code></li><li><code>git checkout</code>后接分支名或者节点的哈希值。接“HEAD”无效。</li><li><code>git checkout 分支名</code>则一定将head切到指定分支最新处。</li><li><code>git checkout ^</code>将HEAD向上移动一个记录，<code>git checkout ~5</code>将HEAD向上移动5个记录。</li><li><code>git branch 分支名 节点名</code>直接让某个分支处于某个节点。这个节点可以是哈希值，或者HEAD的相对值。</li><li></li></ul>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180330</title>
      <link href="/2018/03/30/diary20180330/"/>
      <url>/2018/03/30/diary20180330/</url>
      <content type="html"><![CDATA[<p><code>22:47:44</code> 今天是写日记最晚的一天。这三天做PSO程序都比较认真。今天突然发现github或者码云真是分享markdown文档的最佳地点！但是github的话加载markdown中的图片可能有点问题。所以（终于）开始学（复习）起git了。</p><p>补记 今天下午与胡，许浩，违达去了小米之家，没多久便出，看了头号玩家电影，非常爽快。返程，去家润多吃了焖锅。回来笔了好未来。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180329</title>
      <link href="/2018/03/29/diary20180329/"/>
      <url>/2018/03/29/diary20180329/</url>
      <content type="html"><![CDATA[<p><code>11:59:06</code> 程序遇到坑。由于ip需要在开始之前设置且无法改变，昨晚运行的时候我接了网线，用的是有线的ip，我却运行过程中插拔网线，导致ip变更，今早看到的结果不知是什么时候的结果。只好重新启动程序，增加了一些日志，借助excel分析一下数据。</p><p><code>12:48:07</code> feel。</p><p><code>23:40:10</code> 把课外研学的学分的事情解决。</p><p><code>23:40:56</code> 也许再难访问空间了。好事，好事。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>java集合框架概述</title>
      <link href="/2018/03/28/note-java-collection/"/>
      <url>/2018/03/28/note-java-collection/</url>
      <content type="html"><![CDATA[<h1 id="综述"><a href="#综述" class="headerlink" title="综述"></a>综述</h1><ol><li>所有集合类位于java.util包下。集合类主要由两个接口派生而出，Collection和Map，它们描述了基本的功能,如size(),contains(),add(),remove()等。Map接口提供了以Collection查看数据的视角。</li><li>Collection的子接口有三类，List，Set，Queue。</li></ol><ul><li>List是有序集合，维护顺序，元素允许重复</li><li>Set是无序集合，元素不可以重复，访问只能通过本身来访问</li><li>Map是key-value集合，访问时只能根据key来访问value。</li></ul><h1 id="Q：jdk中队列时怎样的？"><a href="#Q：jdk中队列时怎样的？" class="headerlink" title="Q：jdk中队列时怎样的？"></a>Q：jdk中队列时怎样的？</h1><p>在<code>Queue</code>接口中定义了队列的基本方法：</p><ul><li><strong>add，offer</strong> 都是向队列里添加元素。如果队列满了，add抛出unchecked异常，offer后者返回false。</li><li><strong>remove，poll</strong> 都是从队列中删除第一个元素，remove在空集合调用时抛出异常，poll返回null。</li><li><strong>element，peek</strong> 都是在队列的头部查询元素。在队列为空时，element抛出异常，peek返回null。</li></ul><p>在jdk中，队列主要分两组：实现阻塞队列接口的，和没有实现阻塞队列接口的。</p><p>阻塞队列接口：<code>BlockingQueue</code></p><p>参考：<a href="https://www.cnblogs.com/xiaoxi/p/6089984.html" target="_blank" rel="noopener">https://www.cnblogs.com/xiaoxi/p/6089984.html</a></p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180328</title>
      <link href="/2018/03/28/diary20180328/"/>
      <url>/2018/03/28/diary20180328/</url>
      <content type="html"><![CDATA[<p><code>12:56:20</code> feel。来到凯李咖啡。学长给的程序可以运行了，但是感觉实在是太不面向对象了。。。不过不打算重写一遍，我只完成我自己的工作。</p><p><code>20:41:41</code> 下午辉哥请我喝了咖啡，晚上又请我吃了顿大馅饺子。</p><p>辉哥可能活成了我想要的样子。退学，销售，对产品的想法，对人生的态度，对他人眼光的态度，我几次尝试质疑，发现他的逻辑是自洽的，是不容易攻破的。从弘道书店走出来，我对他的心态从质疑和担心，转变成了尊重和期待。</p><p>在书店坐下时，我们几乎没有话题；一旦聊起对未来的想法、对产品的想法等，辉哥滔滔不绝。直到讨论起机器，讨论起AI，我才在应用和原理上有些谈资。在本部荷花池附近的小园，我一时兴起说我现场给你展示下编程吧。结果由于老久没动tomcat，搞了半天才做了个最基础的。</p><p>晚上又被请，感觉很不好意思。辉哥不管前路如何，他的自信和稳重，都非常值得我学习。</p><p><code>22:25:51</code> 历经千辛万苦，终于把电脑重装好了。</p><p><code>22:26:04</code> 今天B站上市了。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180327</title>
      <link href="/2018/03/27/diary20180327/"/>
      <url>/2018/03/27/diary20180327/</url>
      <content type="html"><![CDATA[<p><code>17:51:21</code> 在库可咖啡。今天看了小米发布会全程，又有了“卧槽”的感觉。真棒。</p><p><code>19:45:25</code> 把分布式的程序初步运行了一下，每个粒子的要运算竟然几乎需要一分钟，没想到这么夸张。。果然分布式真的是非常必要的。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180326</title>
      <link href="/2018/03/26/diary20180326/"/>
      <url>/2018/03/26/diary20180326/</url>
      <content type="html"><![CDATA[<p><code>11:11:22</code> 来到凯李咖啡。看看今天下午能汇报出什么。</p><p><code>11:48:12</code> 发现经过前几天面百度时候的复习后，思路再次清晰很多。</p><p><code>17:01:33</code> 来到库克。取了胡的毛衣。</p><p><code>19:45:36</code> 即将把Aspen安装完毕。下午检查毕设的时候，本来十分紧张，这周全准备面试了，毕设一点都没动。结果我刚要说话就被老师给憋回来了，说了一堆，我练练说是。最终，我在办公室是一个字没说。光环附体。</p><p><code>19:50:00</code> 计划：既然面试、工作、头脑风暴、开会的时候经常用到白板，为何不自己经常使用白板？计划买个白板立在床边，想问题时边画边讲，肯定理解的更好。顺便练习下演讲能力。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180325</title>
      <link href="/2018/03/25/diary20180325/"/>
      <url>/2018/03/25/diary20180325/</url>
      <content type="html"><![CDATA[<p><code>14:07:41</code> 把阿朱给孩子起名的过程<a href="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/record/20180325_%E6%9C%B1%E6%98%9F%E7%A6%B9%E5%AD%A9%E5%AD%90%E8%B5%B7%E5%90%8D.mp3" target="_blank" rel="noopener">记录</a>一下。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/20180325_%E6%9C%B1%E6%98%9F%E7%A6%B9%E5%AD%A9%E5%AD%90%E8%B5%B7%E5%90%8D.png" alt=""></p><p><code>16:07:38</code> 与胡来到西畔咖啡。这氛围过分了。。。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180324</title>
      <link href="/2018/03/24/diary20180324/"/>
      <url>/2018/03/24/diary20180324/</url>
      <content type="html"><![CDATA[<p><code>14:46:13</code> 今天估计全天下雨。无法出门，不太开心。</p><p><code>17:42:58</code> 最近尤其开心的是，之前很多看不懂的技术书，现在可以看得很顺畅了。</p><p><code>21:29:54</code> 跟白翛譞微信聊了66分钟，挑电脑。唉，终于知道女生为什么逛街能逛一下午了。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180323</title>
      <link href="/2018/03/23/diary20180323/"/>
      <url>/2018/03/23/diary20180323/</url>
      <content type="html"><![CDATA[<p><code>12:35:41</code> 来到库克咖啡。今天喝柠七，不喝咖啡了。</p><p><code>13:43:36</code> 写了个链表的快速排序，算上测试用例和空行总共约100行代码，写的很顺利，除了有个循环的变量忘了自减，基本上是一次成功。看来是自己把自己给吓住了，没什么难的。</p><p><code>16:52:28</code> 需要总结一下学习方向。</p><p>尝试想想自己去面试世界上待遇最优厚，同时也是要求最高的的公司，我应该具备怎样的素质，简历上应该有哪些特质？</p><ol><li>个人实现的开源软件</li><li>强劲的算法实力</li><li>对专业方向任何面试问题的深入理解</li></ol>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>数据库系统概念学习笔记</title>
      <link href="/2018/03/22/note-db-common/"/>
      <url>/2018/03/22/note-db-common/</url>
      <content type="html"><![CDATA[<h1 id="在文件系统中存储组织信息的弊端？"><a href="#在文件系统中存储组织信息的弊端？" class="headerlink" title="在文件系统中存储组织信息的弊端？"></a>在文件系统中存储组织信息的弊端？</h1><ul><li><strong>数据冗余和不一致</strong>。不同文件的结构不同，相同信息可能重复存储，导致存储和访问开销增大，导致数据不一致性——同一数据的不同副本不一致。例如，一个人在的姓名在城镇更新了，而没有在市区系统更新。</li><li><strong>数据访问困难</strong>。</li></ul>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180322</title>
      <link href="/2018/03/22/diary20180322/"/>
      <url>/2018/03/22/diary20180322/</url>
      <content type="html"><![CDATA[<p><code>14:48:21</code> 网络即毒药。最好的学习地方永远不是室内。</p><p><code>18:07:51</code> 好消息，库克咖啡每天的营业时间延长到了9点半。也就是说每天有将近12个小时的时间。</p><p><code>0:49:02</code> 竟然找到了八年前剪辑的火影游戏视频！泪目。。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>学习方法总结</title>
      <link href="/2018/03/21/thought-study-review/"/>
      <url>/2018/03/21/thought-study-review/</url>
      <content type="html"><![CDATA[<h1 id="2018年8月4日"><a href="#2018年8月4日" class="headerlink" title="2018年8月4日"></a>2018年8月4日</h1><p>学习方法也许只有一种，那就是爱</p><h1 id="2018年7月9日"><a href="#2018年7月9日" class="headerlink" title="2018年7月9日"></a>2018年7月9日</h1><p>C语言怎么学？应当去了解一些常用命令的实现，如<code>ls</code>，<code>mkdir</code>等。</p><h1 id="2018年7月6日"><a href="#2018年7月6日" class="headerlink" title="2018年7月6日"></a>2018年7月6日</h1><p>成长路线图：总结起来：<strong>影响力</strong></p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/%E9%98%BF%E9%87%8C%E7%BA%A7%E5%88%AB%E8%B7%AF%E7%BA%BF.jpg" alt=""></p><p>待考察软件：</p><ul><li>Zeta Code</li><li>Creole</li><li>Doxygen</li><li>jsonde</li><li>Code Iris</li><li>PlantUML</li><li>visual-paradigm</li></ul><h1 id="2018年6月27日"><a href="#2018年6月27日" class="headerlink" title="2018年6月27日"></a>2018年6月27日</h1><p>面向接口编程？</p><h1 id="2018年6月19日"><a href="#2018年6月19日" class="headerlink" title="2018年6月19日"></a>2018年6月19日</h1><p>在平常的日子里，更重要的应当是基本功。如何将基本功学的扎实？</p><ul><li>框架图示（一图胜千言！）</li><li>详细解释</li><li>优劣分析</li></ul><h1 id="2018年6月12日"><a href="#2018年6月12日" class="headerlink" title="2018年6月12日"></a>2018年6月12日</h1><p>目前遇到一个问题，对于某个框架，放置时间一长，就不容易再拿起来。</p><p>一图胜千言，一个图片说明是非常有必要的。思维导图是真的必需品。对于任何一个框架，需要记住：</p><ul><li>声明周期</li><li>架构体系</li><li>使用细节</li></ul><p>接口是什么？接口描述的就是方法论。对应接口和接口文档，应当能作出较为生动易记的ppt。</p><p>应当注意到，在了解普遍存在的底层需求之前，去阅读相关文档是费力的。应当多阅读关于“设计”,“原理”的书籍。</p><h1 id="2018年6月11日"><a href="#2018年6月11日" class="headerlink" title="2018年6月11日"></a>2018年6月11日</h1><p>总结下学习方向。</p><ul><li><p>持久学习：数据结构与算法</p></li><li><p>本职工作：spring系列，linux，jvm，sql</p></li><li><p>未来工作：操作系统，C/C++，计算机网络，分布式开发，大数据，机器学习</p></li></ul><h1 id="2018年3月21日"><a href="#2018年3月21日" class="headerlink" title="2018年3月21日"></a>2018年3月21日</h1><p>临睡前有必要把今天的感受记录下来。</p><p>从接到百度面试通知开始，心情的转变是没有预料到的，却也在情理之中。没有实战的检验，没有面试官的逼问，总会觉得自己什么都会；这让我想起了衡中每次考前的复习，总是有种迷之自信。在考验来临的三个小时之前，心态会一直不错，而随着检验时间愈发接近，我竟会莫名其妙的懊悔、自我怀疑，甚至开始重新考虑人生方向？再到检验前10分钟，才有了实战前应有的心态，爱咋咋地。一切结束后，则会像健身完之后那般舒爽，倍感轻松。</p><p>那其中两个小时的心态是宝贵的，脑海里不断回响着一种声音，“你应该再夯实基础！你应该把教材啃透！你应该专门精通一个方向！你应该做好万全的准备！你应该….！”你应该，你应该。每当交付工作、面试求职，总想让自己变得完美无缺。而倘若平日过于松散，会让面试前的心情变得更加糟糕。</p><p>不管最终确定到哪里工作，CS专业基础和更佳的学习方法（——或者说记忆方法？）都是应当再度优化的方面。</p><p>就这两天的面试感受，对于记忆方法，应当进行进一步归纳。</p><p>首先，对于HashMap的总结方法是值得借鉴的。把HashMap分成两个部分来分析，先分析Map，再分析Hash。Map在Java中的角色是什么，数据结构是怎样的；Hash是什么，在计算机科学领域的概念是什么；其次从宏观分析Hash的目的和步骤（转化、压缩），再次分析Hash在HashMap内部的实现，各种对象如何转换为散列码，如何压缩为索引值；为什么要多一步高位运算。接下来多线程方面进行引申（即实际中常出现的问题），从源码的角度分析ConcurrentHashMap如何解决了多线程问题。</p><p>事实上简单来说，最佳的叙述思路/记忆思路，确实可以用小黄鸭记忆法来辅助。因为当我的思路是为一个不懂技术的人叙述技术原理时，我会自动按照<strong>背景——需求——宏观解决方案——解决方案细节——子方案——拓展问题</strong>的组织形式进行学习和记忆。</p><p>今天觉得，days review——自小米实习结束之后，我在湘浦旅馆不分昼夜地度过了几天，顿感时光飞逝，遂觉应当建立博客，以实时反思自己的自律方式——是十分必要，实践结果尚佳的。延长主观寿命的方法之一就是早起。当看到清晨的太阳，所有的困倦都会消失，而会对今天的时间充满信心。</p>]]></content>
      
      <categories>
          
          <category> 感·想 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>mysql概念汇总</title>
      <link href="/2018/03/21/note-mysql-common/"/>
      <url>/2018/03/21/note-mysql-common/</url>
      <content type="html"><![CDATA[<h1 id="Q：数据库事务正确执行的四个基本要素（ACID）是什么？"><a href="#Q：数据库事务正确执行的四个基本要素（ACID）是什么？" class="headerlink" title="Q：数据库事务正确执行的四个基本要素（ACID）是什么？"></a>Q：数据库事务正确执行的四个基本要素（ACID）是什么？</h1><p><strong>A：</strong> ACID对应的含义：</p><p>A   Atomicity   原子性<br>C   Consistency 一致性<br>I   Isolation   隔离性<br>D   Durability  持久性</p><h1 id="Q：隔离级别有什么？"><a href="#Q：隔离级别有什么？" class="headerlink" title="Q：隔离级别有什么？"></a>Q：隔离级别有什么？</h1><p>不考虑隔离级别的问题：</p><p>脏读：在一个事务处理过程读取了另一个未提交的事务中的数据。</p><p>不可重复读/幻读：读取了另一条已经提交的事务，前者在于update和delete，后者在于insert</p><p>可重复读：</p><p>四中隔离级别：</p><ul><li>串行化</li><li>可重复读（默认）</li><li>读已提交</li><li>读未提交</li></ul><p>具体解释：</p><ul><li><strong>没有锁</strong>：两个事务同时写数据，其中一个被另一个覆盖，导致<strong>数据丢失</strong>。</li><li><strong>读取未提交</strong>：写时加上排它锁，直到事务结束；读取时不加锁。读取到其他事务的数据，而其他事务数据回滚，则读取到<strong>脏数据</strong>。</li><li><strong>读取已提交</strong>：写时加上排它锁，直到事务结束；读取读取完毕之后立刻释放共享锁。每次事务中重复读取某一数据，如果读取过程中其他事务对此数据修改了，则两次读取的数据不同，即<strong>不可重复读</strong>。</li><li><strong>可重复读</strong>：写时加上排他锁，直到事务结束；读取时加上共享锁，直到事务结束。可避免重复读的问题。但是批量修改某相同值的数据时，其他事务增加了相同值的数据，则验证时发现存在未修改的数据，即<strong>幻读</strong>。</li><li><strong>可串行化</strong>。串行执行事务，避免了以上问题。</li></ul><h1 id="Q：数据库范式？"><a href="#Q：数据库范式？" class="headerlink" title="Q：数据库范式？"></a>Q：数据库范式？</h1><p><strong>A：</strong> </p><p>1NF：列不能拆分为其他几列，是基本要求。缺点：数据冗余过大。</p><p>2NF：首先1NF；1. 必须有主键 2.没有包含在主键中的列必须完全依赖于主键，而不能依赖于主键的一部分。</p><p>3NF：首选NF；1. 不能存在传递依赖。</p><h1 id="Q：sql优化？"><a href="#Q：sql优化？" class="headerlink" title="Q：sql优化？"></a>Q：sql优化？</h1><p><strong>A：</strong> </p><ul><li>只返回需要的数据。<ul><li>忌 SELECT * </li><li>尽可能写WHERE</li></ul></li><li>适当建立索引</li><li>避免全表扫描：<ul><li>左模糊查询’%…’</li><li>OR使用不当，两边必须都有索引</li><li>WHERE子句对字段进行表达式操作</li></ul></li></ul><p>参考：</p><p><a href="https://www.cnblogs.com/wmbg/p/6800354.html" target="_blank" rel="noopener">https://www.cnblogs.com/wmbg/p/6800354.html</a></p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180321</title>
      <link href="/2018/03/21/diary20180321/"/>
      <url>/2018/03/21/diary20180321/</url>
      <content type="html"><![CDATA[<p><code>9:46:22</code> 来到库克咖啡。本以为9点开门，9点整到了，来回转了很久才开。</p><p><code>12:26:14</code> 此刻的心情非常珍贵！考验来临时，退缩的心情会越来越重；而迎接挑战才是重生的契机！</p><p><code>16:10:51</code> 百度二面完毕！效率是真高啊。。。</p><p><code>0:27:24</code> 今天网络终于恢复了。</p><p><code>1:24:37</code> 与朱老哥聊了一会。<a href="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/20180322_%E4%B8%8E%E6%9C%B1%E6%98%9F%E7%A6%B9%E8%81%8A%E5%A4%A9.png" target="_blank" rel="noopener">感慨</a>了<a href="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/record/20180322_%E4%B8%8E%E6%9C%B1%E6%98%9F%E7%A6%B9%E8%81%8A%E5%A4%A9.m4a" target="_blank" rel="noopener">一些</a>。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>note-designpattern</title>
      <link href="/2018/03/20/note-design-patterns/"/>
      <url>/2018/03/20/note-design-patterns/</url>
      <content type="html"><![CDATA[<h1 id="生产者消费者模型"><a href="#生产者消费者模型" class="headerlink" title="生产者消费者模型"></a>生产者消费者模型</h1><p>参考：</p><p><a href="https://www.jianshu.com/p/77770eafeae4" target="_blank" rel="noopener">https://www.jianshu.com/p/77770eafeae4</a></p><p><a href="https://www.cnblogs.com/chentingk/p/6497107.html" target="_blank" rel="noopener">https://www.cnblogs.com/chentingk/p/6497107.html</a></p><h1 id="门面模式"><a href="#门面模式" class="headerlink" title="门面模式"></a>门面模式</h1><p>门面模式（Facade Pattern，也称外观模式），是指提供一个统一的接口去访问多个子系统的多个不同的接口，它为子系统中的一组接口提供一个统一的高层接口。使得子系统更容易使用。</p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 设计模式 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>TCP/IP学习笔记</title>
      <link href="/2018/03/20/note-network-tcpip/"/>
      <url>/2018/03/20/note-network-tcpip/</url>
      <content type="html"><![CDATA[<h1 id="Q：简述OSI七层模型？"><a href="#Q：简述OSI七层模型？" class="headerlink" title="Q：简述OSI七层模型？"></a>Q：简述OSI七层模型？</h1><p><strong>A：</strong> 如下表：</p><table><thead><tr><th>分层</th><th>代表协议</th></tr></thead><tbody><tr><td>应用层</td><td>HTTP，FTP</td></tr><tr><td>表示层</td><td>JPG，MPEG，HTML</td></tr><tr><td>会话层</td><td>SQL，ASP，JSP</td></tr><tr><td>传输层</td><td>TCP，UDP</td></tr><tr><td>网络层</td><td>IP，ICMP</td></tr><tr><td>数据链路层</td><td>802.2</td></tr><tr><td>物理层</td><td>IEEE 754（浮点数）</td></tr></tbody></table><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/tcpip_model.png" alt=""></p><h1 id="Q：三次挥手的过程？"><a href="#Q：三次挥手的过程？" class="headerlink" title="Q：三次挥手的过程？"></a>Q：三次挥手的过程？</h1><ol><li>客户端-&gt;服务器  SYN=x</li><li>服务器-&gt;客户端  ACK=x+1,SYN=y</li><li>客户端-&gt;服务器  ACK=y+1</li></ol><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B.gif" alt=""></p><h1 id="Q：四次挥手的过程？"><a href="#Q：四次挥手的过程？" class="headerlink" title="Q：四次挥手的过程？"></a>Q：四次挥手的过程？</h1><p><strong>A：</strong> 非常对称的FIN-ACK。</p><ol><li>客户端-&gt;服务器   FIN</li><li>服务器-&gt;客户端   ACK</li><li>服务器-&gt;客户端   FIN</li><li>客户端-&gt;服务器   ACK</li></ol><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B.gif" alt=""></p><h1 id="Q：简述TCP与UDP的区别？"><a href="#Q：简述TCP与UDP的区别？" class="headerlink" title="Q：简述TCP与UDP的区别？"></a>Q：简述TCP与UDP的区别？</h1><p><strong>A：</strong> </p><ul><li><strong>可靠性：</strong> TCP提供面向连接，保证数据正确；UDP非面向连接、不可靠，数据不一定正确。</li><li><strong>侧重点：</strong> TCP注重数据安全，UDP注重速度，但安全性一般。</li><li><strong>流与数据报：</strong> TCP是基于流的，具有缓存机制。UDP基于数据报，接收端必须用与发送端相同的次数读完。</li></ul><p>参考：</p><p><a href="https://www.cnblogs.com/lca1826/p/6601327.html" target="_blank" rel="noopener">https://www.cnblogs.com/lca1826/p/6601327.html</a></p><p><a href="https://www.linuxidc.com/Linux/2014-11/109545.htm" target="_blank" rel="noopener">https://www.linuxidc.com/Linux/2014-11/109545.htm</a></p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 计算机网络 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180320</title>
      <link href="/2018/03/20/diary20180320/"/>
      <url>/2018/03/20/diary20180320/</url>
      <content type="html"><![CDATA[<p><code>14:41:18</code> 在凯李咖啡。果然接到面试通知才是效率飞涨的时候。</p><p><code>22:45:20</code> 今天简直是过的飞快。下午在凯李咖啡疯狂复习了很多。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>HTTP协议相关学习笔记</title>
      <link href="/2018/03/20/note-network-http/"/>
      <url>/2018/03/20/note-network-http/</url>
      <content type="html"><![CDATA[<h1 id="Q：URI与URL的区别是什么？"><a href="#Q：URI与URL的区别是什么？" class="headerlink" title="Q：URI与URL的区别是什么？"></a>Q：URI与URL的区别是什么？</h1><p>后者是前者的主要表现形式。</p><ul><li>URI：Uniform Resource Identifier，统一资源标识符<ul><li>URL：Uniform Resoure Locator，统一资源定位符</li><li>URN：Uniform Resource Name，统一资源名称</li></ul></li></ul><blockquote><p>URL = scheme + address + resource</p></blockquote><p>scheme：方案，说明协议类型，如HTTP协议，FTP协议</p><p>addres：地址，如www.test.com</p><p>resource：某个资源，如 /test/test.doc</p><h1 id="Q：常见状态码？"><a href="#Q：常见状态码？" class="headerlink" title="Q：常见状态码？"></a>Q：常见状态码？</h1><table><thead><tr><th>状态码</th><th>描述</th><th>中文描述</th><th>详细描述</th></tr></thead><tbody><tr><td>200</td><td>OK</td><td>正确返回</td></tr><tr><td>301</td><td>Moved Permanently</td><td>永久转移</td><td>浏览器收到此状态码会自动跳转到新的地址。搜索引擎只会保存新的地址</td></tr><tr><td>302</td><td>Temporarily Moved</td><td>临时转移</td><td>与301相同，但搜索引擎会保存旧的网址。</td></tr><tr><td>305</td><td>Use Proxy</td><td>使用代理</td><td>请求者只能使用代理访问请求的网页。 如果服务器返回此响应，还表示请求者应使用代理。</td></tr><tr><td>307</td><td>Temporary Redirect</td><td>临时重定向</td><td>与301类似。大家都把301和302自动GET到新的URL，此状态码将将此合法化。</td></tr><tr><td>400</td><td>Bad Request</td><td>错误请求</td><td>服务器不理解语法</td></tr><tr><td>404</td><td>没有找到资源</td></tr><tr><td>500</td><td>Internal Server Error</td><td>内部错误</td><td>如无法识别请求方法</td></tr><tr><td>502</td><td>Bad GateWay</td><td>错误网关</td><td>服务器作为网关或代理，从上游服务器收到无效响应</td></tr><tr><td>504</td><td>GateWay Timeout</td><td>网关超时</td><td>服务器作为网关或代理，没有及时从上游收到请求</td></tr></tbody></table><h1 id="Q：HTTP协议的格式是什么样的？"><a href="#Q：HTTP协议的格式是什么样的？" class="headerlink" title="Q：HTTP协议的格式是什么样的？"></a>Q：HTTP协议的格式是什么样的？</h1><p><strong>A：</strong> HTTP报文有三个部分,是由行分隔的ACSII文本。需要分请求报文和响应报文来讲。</p><h2 id="1-HTTP请求报文"><a href="#1-HTTP请求报文" class="headerlink" title="1. HTTP请求报文"></a>1. HTTP请求报文</h2><ul><li>请求行(request line)</li><li>首部(header)</li><li>主体(body)</li></ul><p><strong>格式：</strong></p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/HTTP%E6%8A%A5%E6%96%87.png" alt=""></p><p><strong>示例：</strong></p><h3 id="1-1-请求行"><a href="#1-1-请求行" class="headerlink" title="1.1 请求行"></a>1.1 请求行</h3><p><strong>作用：</strong> 向服务器说明 <em>要做些什么</em>。</p><blockquote><p>请求行 = 请求方法 + URL + 协议版本</p></blockquote><p><strong>请求方法：</strong> GET，HEAD，PUT，TRACE，DELETE等</p><p><strong>协议版本：</strong> HTTP/主版本号.次版本号 如 HTTP/1.0</p><h3 id="1-2-请求头"><a href="#1-2-请求头" class="headerlink" title="1.2 请求头"></a>1.2 请求头</h3><p><strong>作用：</strong> 以键值对的形式添加一些附加信息，如ip，端口号，编码等</p><p><strong>常见请求头：</strong></p><table><thead><tr><th>请求头</th><th>说明</th></tr></thead><tbody><tr><td>Host</td><td>接受请求的服务器地址，可以是IP:端口号，也可以是域名</td></tr><tr><td>User-Agent</td><td>发送请求的应用程序名称</td></tr><tr><td>Connection</td><td>指定与连接相关的属性，如Connection:Keep-Alive</td></tr><tr><td>Accept-Charset</td><td>通知服务端可以发送的编码格式</td></tr><tr><td>Accept-Encoding</td><td>通知服务端可以发送的数据压缩格式</td></tr><tr><td>Accept-Language</td><td>通知服务端可以发送的语言</td></tr></tbody></table><h3 id="1-3-请求正文"><a href="#1-3-请求正文" class="headerlink" title="1.3 请求正文"></a>1.3 请求正文</h3><p>可选部分。GET请求就没有正文。</p><h2 id="2-HTTP响应报文"><a href="#2-HTTP响应报文" class="headerlink" title="2. HTTP响应报文"></a>2. HTTP响应报文</h2><p>响应报文 = 状态行 + 响应头 + 响应正文</p><h3 id="2-1-状态行"><a href="#2-1-状态行" class="headerlink" title="2.1 状态行"></a>2.1 状态行</h3><p>状态行 = 协议版本 + 状态码 + 状态码描述</p><h3 id="2-2-响应头"><a href="#2-2-响应头" class="headerlink" title="2.2 响应头"></a>2.2 响应头</h3><p><strong>作用：</strong> 以键值对的形式为响应报文添加一些附加信息，如响应正文的类型，是图片还是字符串，响应正文的长度，编码等</p><p>常见响应头：</p><table><thead><tr><th>响应头</th><th>说明</th></tr></thead><tbody><tr><td>Server</td><td>服务器应用程序软件的名称和版本</td></tr><tr><td>Content-Type</td><td>响应正文的类型（是图片还是二进制字符串）</td></tr><tr><td>Content-Length</td><td>响应正文长度</td></tr><tr><td>Content-Charset</td><td>响应正文使用的编码</td></tr><tr><td>Content-Encoding</td><td>响应正文使用的数据压缩格式</td></tr><tr><td>Content-Language</td><td>响应正文使用的语言</td></tr></tbody></table><h3 id="2-4-响应正文"><a href="#2-4-响应正文" class="headerlink" title="2.4 响应正文"></a>2.4 响应正文</h3><p>包含服务器返回的内容个，如HTML数据</p><h1 id="Q：HTTP与HTTPS-的区别于与联系？"><a href="#Q：HTTP与HTTPS-的区别于与联系？" class="headerlink" title="Q：HTTP与HTTPS 的区别于与联系？"></a>Q：HTTP与HTTPS 的区别于与联系？</h1><p>HTTP外面套一层SSL。</p><p><strong>区别：</strong></p><ul><li>HTTPS需要CA整数，需要交费。</li><li>HTTPS并非明文传输，HTTP明文传输。</li></ul><h1 id="Q：HTTP为什么不安全？HTTPS为什么安全？"><a href="#Q：HTTP为什么不安全？HTTPS为什么安全？" class="headerlink" title="Q：HTTP为什么不安全？HTTPS为什么安全？"></a>Q：HTTP为什么不安全？HTTPS为什么安全？</h1><p><strong>A：</strong> </p><p>HTTP是明文传输协议，交互过程以及数据传输都没有进行加密，通信双方也没有进行任何认证，通信过程非常容易遭遇劫持、监听、篡改。</p><p>HTTPS的安全原理：</p><ol><li>首先了解对称加密。双方都用同样的密钥加解密。事先无法商讨出用哪个密钥。如果事先商讨出用的密钥，后续无法更改，一方更改，另一方无法获知。且一旦一方泄露，整个通信被破解。</li><li>非对称加密，可以实现单项的安全。甲生成公私钥，公开公钥，乙用其公钥加密数据，发送给甲，甲用没有公开的私钥解密。这样乙-&gt;甲的通信就十分安全。</li><li>在HTTPS握手过程中，每次非对称加密用于生成一个对称密文，即每次都会变化的对称密文。</li></ol><h1 id="Q：在客户端对HTTPS抓包，得到的是密文还是明文？"><a href="#Q：在客户端对HTTPS抓包，得到的是密文还是明文？" class="headerlink" title="Q：在客户端对HTTPS抓包，得到的是密文还是明文？"></a>Q：在客户端对HTTPS抓包，得到的是密文还是明文？</h1><p><strong>A：</strong> </p><p>wireshark 抓取的https协议的包是密文,firebug抓到的https的包是明文。</p><p>firebug是firefox内部的东西，所以firefox看到的内容它也看得到；wireshark是装了个网卡劫持驱动(pcap)，拿到的是途径网卡的已经被包装成TLS隧道后的内容.</p><h1 id="Q：简要说明SSL握手？"><a href="#Q：简要说明SSL握手？" class="headerlink" title="Q：简要说明SSL握手？"></a>Q：简要说明SSL握手？</h1><p>前提：</p><ul><li>服务器拥有CA证书（包含公钥和私钥）</li><li>客户运行SSL client服务</li></ul><ol><li>客户端-&gt;服务器 client_hello （443端口）（包含协议信息，和随机数1)</li><li>服务器-&gt;客户端 server_hello （包含证书信息,即公钥，和随机数2）</li><li>客户端进行证书校验，如有效则生成随机数3，并用公钥加密;无效则警告</li><li>客户端-&gt;服务器 加密的随机数3</li><li>服务器使用私钥解密随机数3</li><li>客户端和服务器分别综合前三个随机数生产SESSION ID，用来加密整个的对话流程。</li></ol><p>参考：</p><p><a href="https://www.jianshu.com/p/8fe93a14754c" target="_blank" rel="noopener">https://www.jianshu.com/p/8fe93a14754c</a></p><p><a href="http://blog.csdn.net/a19881029/article/details/14002273" target="_blank" rel="noopener">http://blog.csdn.net/a19881029/article/details/14002273</a></p><p><a href="http://www.mahaixiang.cn/internet/1233.html" target="_blank" rel="noopener">http://www.mahaixiang.cn/internet/1233.html</a></p><p><a href="https://www.wosign.com/faq/faq2016-0309-04.htm" target="_blank" rel="noopener">https://www.wosign.com/faq/faq2016-0309-04.htm</a></p><p><a href="http://www.ruanyifeng.com/blog/2014/09/illustration-ssl.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2014/09/illustration-ssl.html</a></p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Java IO学习笔记</title>
      <link href="/2018/03/19/note-java-io/"/>
      <url>/2018/03/19/note-java-io/</url>
      <content type="html"><![CDATA[<h1 id="概览"><a href="#概览" class="headerlink" title="概览"></a>概览</h1><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/java_io_hierarchy%5B1%5D.jpg" alt=""></p><h1 id="字节流"><a href="#字节流" class="headerlink" title="字节流"></a>字节流</h1><h2 id="字节流基础类"><a href="#字节流基础类" class="headerlink" title="字节流基础类"></a>字节流基础类</h2><h3 id="InputStream"><a href="#InputStream" class="headerlink" title="InputStream"></a>InputStream</h3><p>read系列方法：读取一个或多个字节。</p><h3 id="OutputStream"><a href="#OutputStream" class="headerlink" title="OutputStream"></a>OutputStream</h3><p>write系列方法：写入指定内容的数据。</p><p>flush：强制写入缓存</p><h2 id="拓展一：针对数据源的继承"><a href="#拓展一：针对数据源的继承" class="headerlink" title="拓展一：针对数据源的继承"></a>拓展一：针对数据源的继承</h2><p>针对不同的数据来源，InputStream和OutputStream存在不同实现：</p><ul><li>基于内存：<code>ByteArrayInputStream</code>和<code>/ByteArrayOutputStream</code></li><li>基于磁盘文件：<code>FileInputStream</code>和<code>FileOutputStream</code></li><li>基于网络：<code>SocketInputStream</code>和<code>SocketOutputStream</code></li></ul><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/io_1.png" alt=""></p><h2 id="拓展二：功能增强拓展"><a href="#拓展二：功能增强拓展" class="headerlink" title="拓展二：功能增强拓展"></a>拓展二：功能增强拓展</h2><p>在第一步拓展的基础上，分别对各类进行功能拓展。</p><ul><li>装饰器模式扩展</li></ul><p>通过<code>FilterInputStream</code>/<code>FilterOutputStream</code>实现装饰器模式。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/io_2.png" alt=""></p><ul><li>责任链模式扩展</li></ul><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/io_3.png" alt=""></p><h3 id="FilterInputStream-FilterOutputStream"><a href="#FilterInputStream-FilterOutputStream" class="headerlink" title="FilterInputStream / FilterOutputStream"></a>FilterInputStream / FilterOutputStream</h3><p>FilterInputStream本身不实现输入流的功能，而是通过构造函数传入另一个InputStream的子类，把输入流的功能交给它做。通过继承FilterInputStream可以对输入输出流的行为进行扩展，这是装饰模式的典型用法。通过多个装饰类实现责任链模式，它将对一个输入流的不同处理分散到不同的FilterInputStream中去。FilterOutputStream和FilterInputStream的原理一样。</p><h3 id="BufferedInputStream-BufferedOutputStream"><a href="#BufferedInputStream-BufferedOutputStream" class="headerlink" title="BufferedInputStream / BufferedOutputStream"></a>BufferedInputStream / BufferedOutputStream</h3><p><code>BufferedInputStream</code>继承了<code>FilterInputStream</code>，实现了输入流处理中的缓冲的功能。底层的流会先被读取到一个字节数组中，用户使用BufferedInputStream读取数据的时候，会先读取字节数组中的数据，读完了才会调用底层的流进行进一步的读取。这种方法可以提升读取的性能。</p><p><code>BufferedOutputStream</code>继承了<code>FilterOutputStream</code>，实现了输出流处理中的缓冲功能。当用户写入数据的时候，其实是先写入到<code>BufferedOutputStream</code>的一个字节数组中，当这个字节数组满了，才会真正调用底层的输出流执行输出动作。这种方法可以提升写入的性能。在使用<code>BufferedOutputStream</code>的写入功能时，一定要使用flush，因为缓冲数组不满的时候是不会写入底层流的，在写入最后一点数据的时候，缓冲数据不一定被填满，这时候就需要调用flush进行强制刷新。</p><h3 id="DataInputStream-DataOutputStream"><a href="#DataInputStream-DataOutputStream" class="headerlink" title="DataInputStream / DataOutputStream"></a>DataInputStream / DataOutputStream</h3><p>这两个类继承了<code>FilterInputStream</code>/<code>FilterOutputStream</code>，用来实现将java基本类型转换成二进制来进行读写操作，这两个类的<code>readUTF</code>和<code>writeUTF</code>方法使用了一种特殊的UTF编解码方式，只能用于java程序，因此不建议在网络流或者跨平台的应用中使用者两个类。</p><h2 id="字节流小结"><a href="#字节流小结" class="headerlink" title="字节流小结"></a>字节流小结</h2><p>Java I/O设计者通过装饰模式和责任链模式扩展了I/O的行为，实现这种扩展的基石是<code>FilterOutputStream</code>和<code>FilterInputStream</code>。也正是因为这两种设计模式，让我们写的Java I/O代码变成了下面这样的：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">InputStream in = <span class="keyword">new</span> GZIPInputStream(<span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"1.txt"</span>)));</span><br></pre></td></tr></table></figure><p>最里面的<code>FileInputStream</code>是真正的数据来源，而<code>BufferedInputStream</code>和<code>GZIPInputStream</code>都继承了<code>FilterInputStream</code>对I/O的行为进行了改变。</p><h1 id="字符流"><a href="#字符流" class="headerlink" title="字符流"></a>字符流</h1><h2 id="Reader-Writer-概览"><a href="#Reader-Writer-概览" class="headerlink" title="Reader / Writer 概览"></a>Reader / Writer 概览</h2><h3 id="出现字符流的原因"><a href="#出现字符流的原因" class="headerlink" title="出现字符流的原因"></a>出现字符流的原因</h3><p>字节流面向字节，而人类面向字符。所以Java设计者重新设计了面向字符的IO。</p><h3 id="字符与字节的转换"><a href="#字符与字节的转换" class="headerlink" title="字符与字节的转换"></a>字符与字节的转换</h3><p>计算机只能识别字节，于是需要设计者将<code>Reader</code>/<code>Writer</code>和<code>InputStream</code>和<code>OutputStream</code>进行打通，于是就有了<code>InputStreamReader</code>和<code>OutputStreamWriter</code>。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/io_4.png" alt=""></p><h2 id="字符流基础类"><a href="#字符流基础类" class="headerlink" title="字符流基础类"></a>字符流基础类</h2><h3 id="Reader"><a href="#Reader" class="headerlink" title="Reader"></a>Reader</h3><p>read()系列：读取一个或多个字符的方法</p><h3 id="Writer"><a href="#Writer" class="headerlink" title="Writer"></a>Writer</h3><p>write系列：写入一个或多个字符</p><h2 id="拓展一：对Reader-Writer的继承"><a href="#拓展一：对Reader-Writer的继承" class="headerlink" title="拓展一：对Reader/Writer的继承"></a>拓展一：对Reader/Writer的继承</h2><p>首先InputStreamReader/OutputStreamWriter继承自Reader和Writer。根据不同数据源，字节流类似，存在</p><ul><li>文件读写字符流：FileReader/FileWriter</li><li>字符数组读写字符流:CharArrayReader/CharArrayWriter</li></ul><h2 id="拓展二：对Reader-Writer行为的拓展："><a href="#拓展二：对Reader-Writer行为的拓展：" class="headerlink" title="拓展二：对Reader/Writer行为的拓展："></a>拓展二：对Reader/Writer行为的拓展：</h2><p>类似字节流，也使用了装饰器和责任链模式。</p><p>参考：</p><p><a href="https://www.cnblogs.com/keyi/p/7171664.html" target="_blank" rel="noopener">https://www.cnblogs.com/keyi/p/7171664.html</a></p><p><a href="https://www.jianshu.com/p/c4d3ef8004a7" target="_blank" rel="noopener">https://www.jianshu.com/p/c4d3ef8004a7</a></p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> io </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180319</title>
      <link href="/2018/03/19/diary20180319/"/>
      <url>/2018/03/19/diary20180319/</url>
      <content type="html"><![CDATA[<p><code>12:14:30</code> 总是迷之缺乏自信，需要解决办法。</p><p>独居的日子里，只要打开电脑，就会因为流畅的打字而略感开心。</p><p><code>12:48:46</code> 哭笑不得，老师昨天通知2点半开会，于是打算在家学，开完会再去咖啡店；现在老师竟然有事，竟然取消了…好吧，动身。</p><p><code>13:54:45</code> 来到凯李咖啡，刷了一会微博。终于把最近的事情同步了。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>qa-java-framework-mybatis</title>
      <link href="/2018/03/18/qa-java-framework-mybatis/"/>
      <url>/2018/03/18/qa-java-framework-mybatis/</url>
      <content type="html"><![CDATA[]]></content>
      
      
    </entry>
    
    <entry>
      <title>qa-java-framework-spring</title>
      <link href="/2018/03/18/qa-java-framework-spring/"/>
      <url>/2018/03/18/qa-java-framework-spring/</url>
      <content type="html"><![CDATA[<h1 id="Q：什么是控制反转？原理是什么？"><a href="#Q：什么是控制反转？原理是什么？" class="headerlink" title="Q：什么是控制反转？原理是什么？"></a>Q：什么是控制反转？原理是什么？</h1><p>控制反转前：我们主动创建对象，依赖对象</p><p>控制反转后：让容器帮忙管理。</p><p>如何告知容器对象与对象的关系？</p><p>通过xml，properties等配置文件来描述，可能放在classpath，文件系统，或者是url资源。</p><p>如何解析文件？</p><p>不同的配置文件对对象的描述方式不一样，标准的，自定义声明的，需要转换为内部需要统一定义方法BeanDefinition。</p><p>源码级别的说明:</p><p>关于Bean的定义，在Context的Beans包下边。</p><p>IOC：最核心的是BeanFactory接口，描述了对Bean的存取和判断等方法。定义了IOC的基本功能规范。</p><p>Spring定义了很多层次的接口，每个接口对对象做了不同的限制，都有使用的场合。比如ListableBeanFactory 表示这些Bean是可列表的，AutowireCapableBeanFactory 定义了Bean的自动装配规则。</p><p>ApplicationContext是一个高级IOC容器，除了基本功能外还提供了其他服务，国际化，访问资源等。</p><h1 id="Q：IOC容器的启动流程？"><a href="#Q：IOC容器的启动流程？" class="headerlink" title="Q：IOC容器的启动流程？"></a>Q：IOC容器的启动流程？</h1><p><strong>A：</strong> 定位，加载，注册。</p><ol><li>定位和加载：首先各类资源都被抽象为Resource接口，通过各种输入流来读取文件并解析，通过loadBeanDefinition转换为BeanDefinition</li></ol><h1 id="Q：AOP的原理？"><a href="#Q：AOP的原理？" class="headerlink" title="Q：AOP的原理？"></a>Q：AOP的原理？</h1><p><strong>A：</strong> 通过代理模式实现，支持JDK动态代理（默认），和CGLIB代理。</p><p>JDK动态代理：实现InvocationHandler接口，实现其中的invoke方法，在其中定义目标方法定义前后的操作。并接收目标对象。使用时用代理绑定接口实现类，返回目标对象；通过目标对象调用方法，则会一并执行invoke方法中实现的逻辑。</p><p>DK动态代理是通过接口中的方法名，在动态生成的代理类中调用业务实现类的同名方法；</p><p>CGlib动态代理是通过继承业务类，生成的动态代理类是业务类的子类，通过重写业务方法进行代理；</p><h1 id="Bean的作用域有哪些？"><a href="#Bean的作用域有哪些？" class="headerlink" title="Bean的作用域有哪些？"></a>Bean的作用域有哪些？</h1><p><strong>A：</strong> 不同版本有不同的种类。</p><ul><li><p>在<a href="https://docs.spring.io/spring/docs/3.2.18.RELEASE/spring-framework-reference/htmlsingle/#beans-factory-scopes" target="_blank" rel="noopener">spring 3</a>中，有五种。单例，原型；request，session，global session。</p></li><li><p>在<a href="https://docs.spring.io/spring/docs/4.3.14.RELEASE/spring-framework-reference/htmlsingle/#beans-factory-scopes" target="_blank" rel="noopener">spring 4</a>和<a href="https://docs.spring.io/spring/docs/5.0.4.RELEASE/spring-framework-reference/core.html#beans-factory-scopes" target="_blank" rel="noopener">spring 5</a>中，增加了<code>websocket</code>。</p></li></ul><h1 id="Q：事务的传播行为？"><a href="#Q：事务的传播行为？" class="headerlink" title="Q：事务的传播行为？"></a>Q：事务的传播行为？</h1><p><strong>A：</strong> 事务的传播行为，指的是多个事务方法相互调用时，事务如何在这些方法间传播。</p><p>参考<a href="https://docs.spring.io/spring/docs/3.2.18.RELEASE/spring-framework-reference/htmlsingle/#tx-propagation" target="_blank" rel="noopener">Spring 3</a>。</p><ul><li>REQUIRED：业务方法需要在一个事务中运行。如果方法运行时，已经处在一个事务中，那么这个时候就会加入到该事务中，如果当前没有事务环境的话，就会为自己创建一个新的事务。默认情况下，业务方法的事务传播属性就是REQUIRED。在应用开发中，80%的情况下都会使用这种事务传播属性。</li><li>NOT_SUPPORTED：声明方法不需要事务。如果方法没有关联到一个事务，容器不会为它开启事务。如果方法在一个事务中被调用(在其他业务bean的方法中被调用了，而其他业务bean的方法是开启了事务的)，该事务会被挂起，在方法调用结束后，原先的事务便会恢复执行。</li><li>REQUIRESNEW：该属性表明不管当前是否存在事务，业务方法总会为自己发起一个新的事务。如果方法已经运行在一个事务中，则原有事务会被挂起，新的事务会被创建，直到方法执行结束，新事务才算结束，原先的事务才会恢复执行。</li><li>MANDATORY：该属性指定业务方法只能在一个已经存在的事务中执行，业务方法不能发起自己的事务。如果业务方法在没有事务的环境下调用，容器就会抛出异常。</li><li>SUPPORTS：这一事务属性表明，如果业务方法在某个事务范围内被调用，则方法成为该事务的一部分。如果业务方法在事务范围外被调用，则方法在没有事务的环境下执行。即当标注了事务传播属性——SUPPORTS的业务方法在另一个bean的业务方法中执行时，如果另一个bean的业务方法开启了事务，那么执行到标注了事务传播属性——SUPPORTS的业务方法时，它就会处在事务中执行，如果另一个bean的业务方法也没开启事务，那么标注了事务传播属性——SUPPORTS的业务方法也在没有事务的环境中进行。</li><li>Never：指定业务方法绝对不能在事务范围内执行。如果业务方法在某个事务中执行，容器会抛出异常，只有业务方法没有关联到任何事务，才能正常执行。</li><li>NESTED：如果一个活动的事务存在，则当前方法运行在一个嵌套的事务中。 如果没有活动事务，则按REQUIRED属性执行。它使用了一个单独的事务，这个事务拥有多个可以回滚的保存点。内部事务的回滚不会对外部事务造成影响。它只对DataSourceTransactionManager事务管理器起效果。</li></ul><h1 id="参考资料："><a href="#参考资料：" class="headerlink" title="参考资料："></a>参考资料：</h1><ul><li><p>官方文档</p><ul><li><a href="https://docs.spring.io/spring/docs/3.2.18.RELEASE/spring-framework-reference/htmlsingle/" target="_blank" rel="noopener">3.2.18</a></li><li><a href="https://docs.spring.io/spring/docs/4.3.14.RELEASE/spring-framework-reference/htmlsingle/" target="_blank" rel="noopener">4.3.14</a></li><li><a href="https://docs.spring.io/spring/docs/5.0.4.RELEASE/spring-framework-reference/" target="_blank" rel="noopener">5.0.4</a></li></ul></li><li><p>博客</p><ul><li><a href="https://www.cnblogs.com/ITtangtang/p/3978349.html#a1" target="_blank" rel="noopener">https://www.cnblogs.com/ITtangtang/p/3978349.html#a1</a></li></ul></li></ul>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Java虚拟机学习笔记</title>
      <link href="/2018/03/18/note-java-jvm-command/"/>
      <url>/2018/03/18/note-java-jvm-command/</url>
      <content type="html"><![CDATA[<h1 id="常见信息查看参数："><a href="#常见信息查看参数：" class="headerlink" title="常见信息查看参数："></a>常见信息查看参数：</h1><table><thead><tr><th>参数</th><th>作用</th></tr></thead><tbody><tr><td>-XX:+PrintGC</td><td>每次GC之前的堆已用量，GC之后的堆已用量，当前可用堆空间，本次GC花费的时间</td></tr><tr><td>-XX:+PrintGCDetails</td><td>更加详细，显示每个区域的回收情况</td></tr><tr><td>-XX:+PrintHeapAtGC</td><td>更全面，在每次GC前后分别打印堆的信息。</td></tr><tr><td>-XX:+TraceClassLoader</td><td>跟踪类的加载</td></tr><tr><td>-XX:+TraceClassUnloading</td><td>跟踪类的卸载</td></tr><tr><td>-verbose:class</td><td>跟踪类加载和卸载</td></tr></tbody></table><h1 id="堆内存分布"><a href="#堆内存分布" class="headerlink" title="堆内存分布"></a>堆内存分布</h1><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/java%E5%A0%86.jpg" alt=""></p><h2 id="最大堆和初始堆的配置"><a href="#最大堆和初始堆的配置" class="headerlink" title="最大堆和初始堆的配置"></a>最大堆和初始堆的配置</h2><p>当Java进程启动时，可用参数-Xms指定<strong>初始堆</strong>的大小，虚拟机会尽可能在初始堆空间内运行，扩展上线为<strong>最大堆</strong>空间，由-Xmx指定。</p><p>可以直接用-Xms和-Xmx将初始堆和最大堆设置为相等，减少GC次数，提高程序性能。</p><h2 id="新生代的配置"><a href="#新生代的配置" class="headerlink" title="新生代的配置"></a>新生代的配置</h2><p>可以使用-Xmn设置新生代的大小。新生代过大会减少老年代的大小，对GC有很大影响。新生代大小一般配置为整个堆空间的1/3到1/4。</p><p>参数-XX：SurvivorRatio来设置新生代中eden与from/to空间的比例关系。含义为：<code>-XX:SurvivorRatio=eden/from=eden/to</code></p><h2 id="堆溢出处理"><a href="#堆溢出处理" class="headerlink" title="堆溢出处理"></a>堆溢出处理</h2><p>使用参数-XX:+HeapDumpOnOutOfMemoryError,导出整个堆信息。使用-XX:HeapDumpPath 指定导出堆的存放路径。</p><h1 id="常见回收算法"><a href="#常见回收算法" class="headerlink" title="常见回收算法"></a>常见回收算法</h1><h2 id="引用计数法"><a href="#引用计数法" class="headerlink" title="引用计数法"></a>引用计数法</h2><p>描述：为每个对象分配一个计数器，等于引用它的对象的数量。一旦为0则回收。</p><p>缺点：</p><ul><li>无法解决循环引用</li><li>计数的增加或减少，会影响性能。</li></ul><h2 id="标记清除法"><a href="#标记清除法" class="headerlink" title="标记清除法"></a>标记清除法</h2><p>描述：</p><ol><li>从根节点出发，标记所有从根节点开始的可达对象；</li><li>清除所有未标记的对象。</li></ol><p>优点：解决循环引用</p><p>缺点：回收后空间不连续，再分配时，不连续的内存工作效率降低。</p><h2 id="复制算法"><a href="#复制算法" class="headerlink" title="复制算法"></a>复制算法</h2><p>描述：</p><ol><li>将原有的内存空间分为两块，每次只使用其中一块</li><li>垃圾回收时，将正在使用的内存空间中的存活对象复制到未使用的内存块中，清除正在使用的内存块中的所有对象。</li><li>交换角色。</li></ol><p>开销：复制存活的对象（多）、清除垃圾对象（少）</p><p>优点：没有碎片。</p><p>缺点：系统内存折半。</p><p>适合：在存活对象少，垃圾对象多的情况下高效。</p><h2 id="标记压缩法"><a href="#标记压缩法" class="headerlink" title="标记压缩法"></a>标记压缩法</h2><p>或称 标记清楚压缩法</p><p>描述：</p><ol><li>从根节点出发，标记所有从根节点开始的可达对象；</li><li>将所有存活的对象压缩到内存的一端</li><li>清理边际外所有空间</li></ol><p>优点：</p><ul><li>避免了碎片的产生</li><li>不需要两块相同的空间</li><li>性价比较高</li></ul><h2 id="分代算法"><a href="#分代算法" class="headerlink" title="分代算法"></a>分代算法</h2><p><strong>描述：</strong> 将内存区间根据对象的特点分成几块，根据每块内存的特点使用不同的算法。</p><p>具体到Java堆内存：</p><ul><li>新建对象放入新生代，90%会很快回收，适合使用复制算法。</li><li>一个对象经过几次回收后依然存活，放入老年代，是常驻内存的，可以用标记清除/压缩算法。</li></ul><h1 id="重要函数"><a href="#重要函数" class="headerlink" title="重要函数"></a>重要函数</h1><h2 id="finalize-方法："><a href="#finalize-方法：" class="headerlink" title="finalize()方法："></a>finalize()方法：</h2><p><strong>所属对象：</strong> 在Object类中定义，所有类都继承了它。子类可以覆盖它，以整理系统资源或进行其他清理工作。</p><p><strong>调用者：</strong> 垃圾回收器</p><p><strong>调用时机：</strong> 当垃圾回收器发现一个对象没有任何引用时调用它；或者说是在垃圾回收器在删除对象之前调用它的。具体来说，是在Java虚拟机发现去除那些已经被执行了finalize的对象之外，没有任何活动的线程能够引用到该对象的时候调用。</p><p><strong>作用：</strong> </p><ul><li>Object类的finalize方法没有做任何事，只是简单的返回。Object的子类可以重写它。</li><li>可以做任何事，甚至让该对象重新被其他线程引用。</li><li>一般来说，此方法的目的通常是要让该对象在回收之前做一些清理工作，比如代表输入/输入链接的对象在此时中断连接。</li></ul><p><strong>结果：</strong> 一个对象的finalize方法被调用之后，这个对象就不可以被任何活动的线程再次引用了，这个对象也不能再进行任何的操作，包括被那些已经执行finalize方法的对象或者类，直到被Java虚拟机回收。</p><p><strong>调用次数：</strong> 一个特定的对象的finalize方法绝对不会被Java虚拟机调用超过一次。</p><p><strong>不推荐使用的原因：</strong></p><ul><li>有可能发生引用外泄，无意中复活对象</li><li>此方法被系统调用，调用时间不明确，不是好的资源释放方案。</li></ul><p><strong>推荐的资源释放方案：</strong> 在<code>try-catch-finally</code>中进行。</p><h2 id="System-gc"><a href="#System-gc" class="headerlink" title="System.gc()"></a>System.gc()</h2><p><strong>解释：</strong> 建议jvm对那些需要被清楚但尚未调用finalize方法的调用finalize方法。</p><p>与<code>Runtime.getRuntime().runFinalization()</code>等价。</p><h1 id="垃圾回收器"><a href="#垃圾回收器" class="headerlink" title="垃圾回收器"></a>垃圾回收器</h1><h2 id="串行回收器"><a href="#串行回收器" class="headerlink" title="串行回收器"></a>串行回收器</h2><h2 id="并行回收器"><a href="#并行回收器" class="headerlink" title="并行回收器"></a>并行回收器</h2><h2 id="CMS-Concurrent-Mark-Sweep，并发标记清楚-回收器"><a href="#CMS-Concurrent-Mark-Sweep，并发标记清楚-回收器" class="headerlink" title="CMS(Concurrent Mark Sweep，并发标记清楚)回收器"></a>CMS(Concurrent Mark Sweep，并发标记清楚)回收器</h2><h2 id="G1回收器"><a href="#G1回收器" class="headerlink" title="G1回收器"></a>G1回收器</h2><h1 id="优化方法汇总"><a href="#优化方法汇总" class="headerlink" title="优化方法汇总"></a>优化方法汇总</h1><h2 id="堆参数配置"><a href="#堆参数配置" class="headerlink" title="堆参数配置"></a>堆参数配置</h2><p>基本策略：尽可能将对象预留在新生代，减少老年代GC的次数。</p><ul><li>扩大堆内存，减少 Full GC 。参数：-Mmx</li><li>使用并行回收器（ParrellOldGC）代替串行回收器:</li><li>升级虚拟机版本</li></ul><h1 id="类加载系统"><a href="#类加载系统" class="headerlink" title="类加载系统"></a>类加载系统</h1><h2 id="类加载过程"><a href="#类加载过程" class="headerlink" title="类加载过程"></a>类加载过程</h2><ol><li>加载</li><li>连接</li><li>初始化</li></ol><p>其中连接又分为：</p><ol><li>验证</li><li>准备</li><li>解析</li></ol><h2 id="ClassLoader"><a href="#ClassLoader" class="headerlink" title="ClassLoader"></a>ClassLoader</h2><p><strong>作用：</strong> 通过各种方式将Class信息的二进制数据读入系统，教给Java虚拟机进行连接、初始化。</p><h3 id="ClassLoader分类"><a href="#ClassLoader分类" class="headerlink" title="ClassLoader分类"></a>ClassLoader分类</h3><table><thead><tr><th style="text-align:center">名称</th><th style="text-align:center">名称</th><th style="text-align:center">加载目录</th><th style="text-align:center">使用权限</th></tr></thead><tbody><tr><td style="text-align:center">BootStrap ClassLoader</td><td style="text-align:center">（启动类加载器）</td><td style="text-align:center">JRE_HOME/lib如rt.jar</td><td style="text-align:center">无Java实例，开发者无法使用</td></tr><tr><td style="text-align:center">Extension ClassLoader</td><td style="text-align:center">（扩展类加载器）</td><td style="text-align:center">JRE_HOME/lib/ext</td><td style="text-align:center">开发者可以直接使用</td></tr><tr><td style="text-align:center">App ClassLoader</td><td style="text-align:center">（应用类加载器，系统类加载器）</td><td style="text-align:center">CLASSPATH 开发者可以直接使用</td></tr></tbody></table><p>启动类加载器是系统级实现，完全由C实现，没有Java实例，无法获得实例。</p><h3 id="双亲委托模型"><a href="#双亲委托模型" class="headerlink" title="双亲委托模型"></a>双亲委托模型</h3><p><strong>描述：</strong> 某个特定的类加载器在接到加载类的请求时，首先将加载任务委托给父类加载器，依次递归，如果父类加载器可以完成类加载任务，就成功返回；只有父类加载器无法完成此加载任务时，才自己去加载。</p><p><strong>意义：</strong> 防止内存中出现多份同样的字节码。首选用BootStrap尝试加载。</p><p><strong>弊端：</strong> 顶层的ClassLoader无法访问底层ClassLoader加载的类，即系统类访问应用类会出问题。</p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JVM </tag>
            
            <tag> 垃圾收集 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180318</title>
      <link href="/2018/03/18/diary20180318/"/>
      <url>/2018/03/18/diary20180318/</url>
      <content type="html"><![CDATA[<p><code>16:04:56</code> 到图书馆借了两本书。 今天的运气实在不好，没有可以去的店，只能回家。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Java并发编程学习记录</title>
      <link href="/2018/03/17/note-java-concurrent/"/>
      <url>/2018/03/17/note-java-concurrent/</url>
      <content type="html"><![CDATA[<h1 id="Q：如何创建一个线程？"><a href="#Q：如何创建一个线程？" class="headerlink" title="Q：如何创建一个线程？"></a>Q：如何创建一个线程？</h1><p><strong>A：</strong> </p><ul><li>实现Runnable接口，实现run()方法。实例化Thread对象，将实现Runnable接口的对象传入。// <em>常用</em></li><li>继承Thread类，重写run()方法。// <em>一个类一般仅在需要被加强或修改时才被继承，故一般不采用。</em></li><li>实现Callable接口，重写call()方法。// <em>1.提供返回值 2.可以抛出异常 3.可以进行异步计算</em></li></ul><h1 id="Q：线程的状态有哪些？生命周期是怎样的？"><a href="#Q：线程的状态有哪些？生命周期是怎样的？" class="headerlink" title="Q：线程的状态有哪些？生命周期是怎样的？"></a>Q：线程的状态有哪些？生命周期是怎样的？</h1><p><strong>A：</strong> 事实上在java.lang包下，Thread类内部维护着一个枚举类 Thread.State ，对此进行了明确的定义。</p><ul><li><strong>NEW</strong> 线程尚未开始。 </li><li><strong>RUNNABLE</strong> 正在虚拟机中执行，但可能正在等待操作系统中的其他资源。</li><li><strong>BLOCKED</strong> 阻塞中，正在等待监视器锁。</li><li><strong>WAITING</strong> 无限期等待另一个线程执行特定的动作。</li><li><strong>TIMED_WAITING</strong> 等待另一个线程执行完指定时间的动作。</li><li><strong>TERMINATED</strong> 已退出。</li></ul><h1 id="Q：如何终止线程？"><a href="#Q：如何终止线程？" class="headerlink" title="Q：如何终止线程？"></a>Q：如何终止线程？</h1><p><strong>A：</strong> interrupt()方法。</p><h1 id="Q：yield-是什么？"><a href="#Q：yield-是什么？" class="headerlink" title="Q：yield()是什么？"></a>Q：yield()是什么？</h1><p><strong>A：</strong> 它们都会通知JVM这个线程可以释放CPU了。但JVM不保证遵循yield()的通知。通常yield()方法只做调试使用，用来复现与竞态条件相关的bug。</p><h1 id="Q：说说对wait-、notify-和notifyAll-的理解？"><a href="#Q：说说对wait-、notify-和notifyAll-的理解？" class="headerlink" title="Q：说说对wait()、notify()和notifyAll()的理解？"></a>Q：说说对wait()、notify()和notifyAll()的理解？</h1><p><strong>A：</strong> 三者都是Object类的<code>final native</code>方法。</p><p><strong>作用：</strong> wait方法阻塞当前线程，而notify是唤醒被wait方法阻塞的线程。</p><p><strong>使用前提：</strong> 当前线程必须获其对象的monitor（俗称“锁”），否则会抛出IllegalMonitorStateException异常，所以这两个方法必须在同步块代码里面调用，经典的生产者和消费者模型就是使用这两个方法实现的。</p><h1 id="Q：线程池的作用是什么？为什么要用线程池？"><a href="#Q：线程池的作用是什么？为什么要用线程池？" class="headerlink" title="Q：线程池的作用是什么？为什么要用线程池？"></a>Q：线程池的作用是什么？为什么要用线程池？</h1><p><strong>A：</strong> </p><p>频繁创建/销毁线程大大降低系统效率。</p><p>线程池可以复用线程，执行完一个任务，并不被销毁，而是可以继续执行其他任务。</p><p>作用：</p><ul><li>降低资源消耗——复用以减少创建和销毁的开销</li><li>提高响应速度——当任务到达时，可以不需要等到线程创建就执行</li><li>提高线程的可管理性——可以对线程进行统一的分配、调优、监控，防止消耗过多内存</li></ul><p><strong>实现方法论：</strong></p><p>可以直接参阅ThreadPoolExecutor类的构造方法。</p><p>线程池中，<strong>线程总数 = 核心线程数 + 非核心线程数。</strong></p><p><strong>核心线程：</strong> 就算闲置一直存活在线程池中，除非设定某些参数。具体来讲，将allowCoreThreadTimeOut设置为true，超过一定时间（可设置），则被销毁。</p><p><strong>非核心线程：</strong> 如果闲置状态的时长超过keepAliveTime参数所设定的时长，就会被销毁掉</p><p><strong>任务队列：</strong> 与闲置的概念相关。当所有核心线程都在运行时，新添加的任务会被添加到这个队列中等待处理。如果队列满了，则新建非核心线程执行任务。也就是说，任务队列保存着即将成为核心线程的任务。</p><p><strong>ThreadPoolExecutor的策略</strong></p><ol><li>线程数量未达到corePoolSize，则新建一个线程(核心线程)执行任务</li><li>线程数量达到了corePools，则将任务移入队列等待</li><li>队列已满，新建线程(非核心线程)执行任务</li><li>队列已满，总线程数又达到了maximumPoolSize，则由RejectedExecutionHandler抛出异常。</li></ol><h1 id="Q：java自带的线程池？"><a href="#Q：java自带的线程池？" class="headerlink" title="Q：java自带的线程池？"></a>Q：java自带的线程池？</h1><p><strong>A：</strong> Executors类中提供了一些静态工厂类，生成一些常用线程池。</p><ul><li>newSingleThreadExecutor<br><strong>单线程线程池</strong>。只有一个线程在工作。串行执行所有任务。</li><li>newFixedThreadPool<br><strong>固定大小的线程池</strong>。每次提交一个任务就创建一个线程，直到线程达到线程池的最大大小。线程池的大小一旦达到最大值就会保持不变，如果某个线程因为执行异常而结束，那么线程池会补充一个新线程。</li><li>newCachedThreadPool<br><strong>可缓存线程池</strong>。如果线程池的大小超过了处理任务所需要的线程，<br>那么就会回收部分空闲（60秒不执行任务）的线程，当任务数增加时，此线程池又可以智能的添加新线程来处理任务。此线程池不会对线程池大小做限制，线程池大小完全依赖于操作系统（或者说JVM）能够创建的最大线程大小。</li><li>newScheduledThreadPool<br><strong>大小无限的线程池</strong>。此线程池支持定时以及周期性执行任务的需求。</li></ul><h1 id="Q：线程池的配置方法-实现原理？"><a href="#Q：线程池的配置方法-实现原理？" class="headerlink" title="Q：线程池的配置方法/实现原理？"></a>Q：线程池的配置方法/实现原理？</h1><p><strong>A：</strong> 抽象来看，所有线程池都是ThreadPoolExecutor构造方法的不同传参调用。</p><p>在调用Executors.newFixedThreadPool方法时，实际上是返回了一个新建的ThreadPoolExecutor类。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Executors</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ExecutorService <span class="title">newFixedThreadPool</span><span class="params">(<span class="keyword">int</span> nThreads)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ThreadPoolExecutor(nThreads, nThreads,</span><br><span class="line">                                      <span class="number">0L</span>, TimeUnit.MILLISECONDS,</span><br><span class="line">                                      <span class="keyword">new</span> LinkedBlockingQueue&lt;Runnable&gt;());</span><br><span class="line">    &#125;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>也就是说，ThreadPoolExecutor是Executor的底层实现。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//class ThreadPoolExecutor</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ThreadPoolExecutor</span><span class="params">(<span class="keyword">int</span> corePoolSize,                       //池中保存的线程数，包括空闲线程</span></span></span><br><span class="line"><span class="function"><span class="params">                              <span class="keyword">int</span> maximumPoolSize,                //池中允许的最大线程数</span></span></span><br><span class="line"><span class="function"><span class="params">                              <span class="keyword">long</span> keepAliveTime,                 //当线程数大于核心时，终止前多余的空闲线程等待新任务的最长时间</span></span></span><br><span class="line"><span class="function"><span class="params">                              TimeUnit unit,                      //keepAliveTime参数的时间单位</span></span></span><br><span class="line"><span class="function"><span class="params">                              BlockingQueue&lt;Runnable&gt; workQueue,  //执行前用于保持任务的队列。此队列仅保持由 execute方法提交的 Runnable任务</span></span></span><br><span class="line"><span class="function"><span class="params">                              ThreadFactory threadFactory,        //执行程序创建新线程时使用的工厂</span></span></span><br><span class="line"><span class="function"><span class="params">                              RejectedExecutionHandler handler)</span>   <span class="comment">//由于超出线程范围和队列容量而使执行被阻塞时所使用的处理程序。</span></span></span><br></pre></td></tr></table></figure><h1 id="Q：怎样优化线程池？"><a href="#Q：怎样优化线程池？" class="headerlink" title="Q：怎样优化线程池？"></a>Q：怎样优化线程池？</h1><p><strong>A：</strong> 一般说来，大家认为线程池的大小经验值应该这样设置：（其中N为CPU的个数）</p><ul><li>如果是CPU密集型应用，则线程池大小设置为N+1</li><li>如果是IO密集型应用，则线程池大小设置为2N+1</li></ul><h1 id="Q：Java的对象模型是怎样的？与线程有什么关系？"><a href="#Q：Java的对象模型是怎样的？与线程有什么关系？" class="headerlink" title="Q：Java的对象模型是怎样的？与线程有什么关系？"></a>Q：Java的对象模型是怎样的？与线程有什么关系？</h1><p><strong>A：</strong> </p><p>Java的对象存储在堆内存中。一个Java对象包含三部分：对象头，实例数据和元数据，以C++代码的形式存在。</p><p>其中对象头是很关键的部分，其中包含一些运行时数据，和与多线程相关的锁是信息，包括<strong>锁状态标志</strong>、<strong>线程持有的锁</strong>等标志。</p><p>Java在内存中的表示，最方便的方式是直接对应一个C++类。但是HotSpot没有这么做，因为HotSpot JVM的设计者不想让每个对象都含有一个虚函数表（vtable）。那么怎样表示呢？答案是<strong>OOP-klass Model</strong>。</p><p>对象头在HotSpot中的<a href="https://github.com/openjdk-mirror/jdk7u-hotspot/blob/50bdefc3afe944ca74c3093e7448d6b889cd20d1/src/share/vm/oops/markOop.hpp" target="_blank" rel="noopener">markOop.hpp</a>中表示。关键代码如下：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> &#123; age_bits                 = <span class="number">4</span>,</span><br><span class="line">       lock_bits                = <span class="number">2</span>,</span><br><span class="line">       biased_lock_bits         = <span class="number">1</span>,</span><br><span class="line">       max_hash_bits            = BitsPerWord - age_bits - lock_bits - biased_lock_bits,</span><br><span class="line">       hash_bits                = max_hash_bits &gt; <span class="number">31</span> ? <span class="number">31</span> : max_hash_bits,</span><br><span class="line">       cms_bits                 = LP64_ONLY(<span class="number">1</span>) NOT_LP64(<span class="number">0</span>),</span><br><span class="line">       epoch_bits               = <span class="number">2</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>从上面的枚举定义中可以看出，对象头中主要包含了GC分代年龄、锁状态标记、哈希码、epoch等信息。</p><p>对象头最重要的部分是mark word。它非常像协议报文头。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/ObjectHead.png" alt=""></p><p>从上图中可以看出，对象的状态一共有五种，分别是无锁态、轻量级锁、重量级锁、GC标记和偏向锁。在32位的虚拟机中有两个Bits是用来存储锁的标记为的，但是我们都知道，两个bits最多只能表示四种状态：00、01、10、11，那么第五种状态如何表示呢 ，就要额外依赖1Bit的空间，使用0和1来区分。</p><blockquote><p>在32位的HotSpot虚拟机 中对象未被锁定的状态下，Mark Word的32个Bits空间中的25Bits用于存储对象哈希码(HashCode)，4Bits用于存储对象分代年龄，2Bits用于存储锁标志位，1Bit固定为0，表示非偏向锁。</p></blockquote><p><a href="https://github.com/openjdk-mirror/jdk7u-hotspot/blob/50bdefc3afe944ca74c3093e7448d6b889cd20d1/src/share/vm/oops/markOop.hpp" target="_blank" rel="noopener">markOop.hpp</a>类中有关于对象状态的定义：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> &#123; locked_value             = <span class="number">0</span>,</span><br><span class="line">       unlocked_value           = <span class="number">1</span>,</span><br><span class="line">       monitor_value            = <span class="number">2</span>,</span><br><span class="line">       marked_value             = <span class="number">3</span>,</span><br><span class="line">       biased_lock_pattern      = <span class="number">5</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>即</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">locked_value            (00)    = 0</span><br><span class="line">unlocked_value          (01)    = 1</span><br><span class="line">monitor_value           (10)    = 2</span><br><span class="line">marked_value            (11)    = 3</span><br><span class="line">biased_lock_pattern     (101)   = 5</span><br></pre></td></tr></table></figure><h1 id="Q：什么是锁，它是怎样实现的？"><a href="#Q：什么是锁，它是怎样实现的？" class="headerlink" title="Q：什么是锁，它是怎样实现的？"></a>Q：什么是锁，它是怎样实现的？</h1><p><strong>A：</strong> </p><p>在多线程访问共享资源的时候，经常会带来可见性和原子性的安全问题。为了解决这类线程安全的问题，Java提供了同步机制、互斥锁机制，这个机制保证了在同一时刻只有一个线程能访问共享资源。这个机制的保障来源于监视锁Monitor，<strong>每个对象都拥有自己的监视锁Monitor</strong>。</p><p>Monitor其实是一种同步工具，也可以说是一种同步机制，它通常被描述为一个对象。</p><p>在Java虚拟机(HotSpot)中，Monitor是基于C++实现的，由<a href="https://github.com/openjdk-mirror/jdk7u-hotspot/blob/50bdefc3afe944ca74c3093e7448d6b889cd20d1/src/share/vm/runtime/objectMonitor.cpp" target="_blank" rel="noopener">objectMonitor</a>实现的，其主要数据结构如下：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">ObjectMonitor() &#123;</span><br><span class="line">  _header       = <span class="literal">NULL</span>;</span><br><span class="line">  _count        = <span class="number">0</span>;</span><br><span class="line">  _waiters      = <span class="number">0</span>,</span><br><span class="line">  _recursions   = <span class="number">0</span>;</span><br><span class="line">  _object       = <span class="literal">NULL</span>;</span><br><span class="line">  _owner        = <span class="literal">NULL</span>;</span><br><span class="line">  _WaitSet      = <span class="literal">NULL</span>;</span><br><span class="line">  _WaitSetLock  = <span class="number">0</span> ;</span><br><span class="line">  _Responsible  = <span class="literal">NULL</span> ;</span><br><span class="line">  _succ         = <span class="literal">NULL</span> ;</span><br><span class="line">  _cxq          = <span class="literal">NULL</span> ;</span><br><span class="line">  FreeNext      = <span class="literal">NULL</span> ;</span><br><span class="line">  _EntryList    = <span class="literal">NULL</span> ;</span><br><span class="line">  _SpinFreq     = <span class="number">0</span> ;</span><br><span class="line">  _SpinClock    = <span class="number">0</span> ;</span><br><span class="line">  OwnerIsThread = <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>其中值得关注的属性：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">_owner：        指向持有ObjectMonitor对象的线程</span><br><span class="line">_WaitSet：      存放处于wait状态的线程队列</span><br><span class="line">_EntryList：    存放处于等待锁block状态的线程队列</span><br><span class="line">_recursions：   锁的重入次数</span><br><span class="line">_count：        用来记录该线程获取锁的次数</span><br></pre></td></tr></table></figure><h1 id="Q：什么是ThreadLocal？有什么作用？"><a href="#Q：什么是ThreadLocal？有什么作用？" class="headerlink" title="Q：什么是ThreadLocal？有什么作用？"></a>Q：什么是ThreadLocal？有什么作用？</h1><p>参考：<a href="http://java.dzone.com/articles/java-thread-local-%E2%80%93-how-use" target="_blank" rel="noopener">原文</a> <a href="https://blog.csdn.net/mylovepan/article/details/19963895" target="_blank" rel="noopener">翻译</a></p><p><strong>A：</strong> 一个线程（Thread）是无法持有变量的，想要让这个线程与某个变量相关，需要用到ThreadLcoal。</p><ul><li>ThreadLocal可以理解为一种容器，从其构造方法可以为泛型就可以看出来。</li><li>一般用一个典型的MyThreadLocal类来管理ThreadLocal。</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyThreadLocal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> ThreadLocal&lt;Context&gt; userThreadLocal = <span class="keyword">new</span> ThreadLocal&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(Context cxt)</span> </span>&#123;</span><br><span class="line">        userThreadLocal.set(cxt);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        userThreadLocal.remove();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Context <span class="title">get</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userThreadLocal.get();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>而在运行时，每个线程中的业务逻辑都可以从此ThreadLocal取得与当前线程相关（set）的数据。</p><p>参考文章：</p><p><a href="http://www.hollischuang.com/archives/1910" target="_blank" rel="noopener">http://www.hollischuang.com/archives/1910</a></p><p><a href="http://www.hollischuang.com/archives/1953" target="_blank" rel="noopener">http://www.hollischuang.com/archives/1953</a></p><p><a href="http://www.hollischuang.com/archives/2030" target="_blank" rel="noopener">http://www.hollischuang.com/archives/2030</a></p><p><a href="https://www.oschina.net/question/565065_86540" target="_blank" rel="noopener">https://www.oschina.net/question/565065_86540</a></p><p><a href="https://www.jianshu.com/p/210eab345423" target="_blank" rel="noopener">https://www.jianshu.com/p/210eab345423</a></p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> 并发编程 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180317</title>
      <link href="/2018/03/17/diary20180317/"/>
      <url>/2018/03/17/diary20180317/</url>
      <content type="html"><![CDATA[<p><code>12:13:39</code> 来到凯李咖啡。不知不觉写日记已经有一个月了。从开始的零零散散，到现在每天几乎只有一句话，好歹也坚持下来了。</p><p><code>21:53:40</code> 第二次泰坤，爽快。以后要带水。</p><p>预定了下周日的环太平洋电影。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>HashMap Q &amp; A</title>
      <link href="/2018/03/16/qa-java-hashmap/"/>
      <url>/2018/03/16/qa-java-hashmap/</url>
      <content type="html"><![CDATA[<p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/hashMap%E5%86%85%E5%AD%98%E7%BB%93%E6%9E%84%E5%9B%BE.png" alt=""></p><p>首先要明白Map的概念。通过查看Map接口可以发现Map内部维护着Entry接口，这个Entry才是真正维护着键值对的结构，Map中的其他方法只是提供了一些视角（view），我们知道一个Map中维护着多个键值对，实际上就是维护着多个Entry。</p><p>接下来看HashMap。首先要明白Hash的概念。</p><p>Hash的意思就是散列，抽象的作用是把任意长度的输入转换为指定范围内的输出。从面向对象编程的视角看，hash有两个步骤：第一步，将想要存储的对象（也就是key）转换为一个整数（也就是散列码）；第二步，将这个整数压缩至数组长度内合理的索引值。</p><p>从这里引出五个主要问题：</p><ol><li>如何获取对象的散列码？</li><li>如何获取元素索引值？</li><li>如何维护数组的长度？</li></ol><h1 id="Q：如何获取对象的散列码？"><a href="#Q：如何获取对象的散列码？" class="headerlink" title="Q：如何获取对象的散列码？"></a>Q：如何获取对象的散列码？</h1><p><strong>A：</strong> 对象分为三类来看：类类型，字符串，基本类型。</p><ul><li><p><strong>对于类类型</strong>，由于每个类都是Object的子类，都有一个hashCode方法。这个方法可以返回根据这个对象内存地址的一个int值，直接作为散列码。</p></li><li><p><strong>对于字符串</strong>，想象空间很大，可以取Unicode值来进行计算，但是要考虑到现实世界中字符的分布不是均匀的。有种比较理想的方法称为Horner法：</p><blockquote><p>取质数g，遍历此字符串中每个字符，每遍历一个就增加（这个字符Unicode值 <em> g </em> 索引值），最终的和就是散列码。</p></blockquote><p>  在String类中，这个因子等于31。原因是  n * 31 = n &lt;&lt; 5 - n ，在JVM中会被优化的非常快。</p></li><li><p><strong>对于基本类型</strong>：</p><p>  <strong>对于int类型</strong>，可以直接用其本身作为散列码。如果是其他基本类型，可以利用其内部的二进制表示。</p><p>  <strong>如果是long类型</strong>，它含有64位二进制数据，而int含有32位，如果直接转换为int会丢失前32位，所有只在前32位有区别的数据都将产生冲突。在java中的解决方案是，将这64位的二进制数据，与其右移32位的结果做位与运算。这样就把前后32位都利用了。代码：</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">(<span class="keyword">long</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">int</span>)(value ^ (value &gt;&gt;&gt; <span class="number">32</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>  <strong>对于double和float</strong>，都可以以类似的方法处理。</p></li></ul><h1 id="Q：如何确定索引值？"><a href="#Q：如何确定索引值？" class="headerlink" title="Q：如何确定索引值？"></a>Q：如何确定索引值？</h1><p>事实上这一步才是hash的典型操作。此时的散列码是一个int类型的值，从 -2<sup>32</sup> 到 -2<sup>32</sup> ，而数组容量往往远小于此。因此需要进行压缩。</p><p>一般情况下将散列码对范围值取模即可，结果就比较均匀，但是假如key值成等差数列分布，就会使冲突率大大增加。Java对此进行了优化，<strong>将散列码进行了二次处理</strong>，取模方式也做了优化。请参考下一个问题。</p><h1 id="Q：如何维护数组长度？"><a href="#Q：如何维护数组长度？" class="headerlink" title="Q：如何维护数组长度？"></a>Q：如何维护数组长度？</h1><p><strong>A：</strong> 数组长度的维护，主要以性能为目标。从以下角度考虑数组的长度维护问题：</p><ol><li>确定索引值时的取模操作性能</li><li>扩容问题</li></ol><ul><li><p><strong>考虑取模操作的性能：</strong> 在获取索引值时，需要将散列码对数组长度取模。注意到，如果length的值为2的n次方，那么 hashcode % length = hashcode &amp; (length -1) 。很容易发现后者的位操作是效率很高的。为此，有必要<strong>将数组长度维护为2的n次方</strong>。在源码中有如下体现：1）数组的默认容量(initialCapacity)的值是16。2）如果初始化的时候指定了数组容量，则程序会寻找不小于给定容量的最接近2的n次方的值。</p><p>  <em>散列码的二次处理</em> 假如给定的key成等差数列，那么这些key的散列码有可能后几位全部相同，冲突率大大增加。而事实上hashcode &amp; (length -1)是忽略了hashcode的高位的。为了解决这一问题，需要将hashcode的高位也利用起来。类似刚刚long类型取散列码的方法，此时的散列码是int类型，为了将其高16位也利用起来，可以<strong>将散列码与其右移16位的结果取位与，得到新的散列码。此时即可避免等差数列的漏洞</strong>。这就是上文提到的二次处理的散列码，即<strong>高位运算</strong>。源码：</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">hash</span><span class="params">(Object key)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> h;</span><br><span class="line">    <span class="keyword">return</span> (key == <span class="keyword">null</span>) ? <span class="number">0</span> : (h = key.hashCode()) ^ (h &gt;&gt;&gt; <span class="number">16</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>扩容性能对长度的影响：</strong> 随着元素增多，数组逐渐填满，冲突的概率会越来越大，因此不能等到数组满了再扩容；而每次扩容会有一定开销，所以扩容需要在适当的时机。HashMap类维护了几个扩容相关的概念：capcacity，loadfactor，threshold，后者等于前两者的积，代表当前数组中可容纳的最多相同hashcode的Node数。加载因子默认为0.75，也就是当元素个数达到数组长度的0.75时，将进行扩容，即将当前长度 * 2。显然长度仍然是2的n次方。</p></li><li><p><strong>如何扩容？</strong> 每次扩容令数组长度变化，那么每个元素的位置也会发生变化，原本因冲突而形成链表或红黑树的Node的位置也需要重新计算。下面对比JDK7和JDK8来说明resize机制。</p><p>  在JDK7中，一旦扩容，就需要对所有元素rehash。而且旧链表迁移到新链表时,如果在新表的索引位置相同，链表元素会倒置。</p><p>  而在JDK8中，神奇的事情发生了。因为数组长度总是保持在2的n次方，扩容之后，数组长度的二进制表示就是原有数值左移一位，length-1的二进制表示的最高位的左边一位置1。看下图可以明白这句话的意思，n为table的长度，图（a）表示扩容前的key1和key2两种key确定索引位置的示例，图（b）表示扩容后key1和key2两种key确定索引位置的示例，其中hash1是key1对应的哈希与高位运算结果。</p><p>  <img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/hashMap%201.8%20%E5%93%88%E5%B8%8C%E7%AE%97%E6%B3%95%E4%BE%8B%E5%9B%BE1.png" alt=""></p><p>  此时获取索引的计算 hashcode &amp; (length -1) 变成了 原索引+oldCap，性能获得提升。这就是JDK8中<strong>对resize的优化</strong>。</p><p>  <img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/hashMap%201.8%20%E5%93%88%E5%B8%8C%E7%AE%97%E6%B3%95%E4%BE%8B%E5%9B%BE2.png" alt=""></p></li></ul><h1 id="其他问题"><a href="#其他问题" class="headerlink" title="其他问题"></a>其他问题</h1><h2 id="Q：get方法的流程是怎样的？"><a href="#Q：get方法的流程是怎样的？" class="headerlink" title="Q：get方法的流程是怎样的？"></a>Q：get方法的流程是怎样的？</h2><p><strong>A：</strong> </p><ol><li>调用key的hashcode方法获取hash值</li><li>对hash值做高位运算处理</li><li>将处理后的hash值对数组长度取模，得到索引</li><li>遍历链表，用key的equals方法与每个元素比较，匹配成功则返回。</li></ol><h2 id="Q：怎样优化HashMap的性能？"><a href="#Q：怎样优化HashMap的性能？" class="headerlink" title="Q：怎样优化HashMap的性能？"></a>Q：怎样优化HashMap的性能？</h2><p><strong>A：</strong> </p><ul><li><strong>使用包装类作为key</strong>。此类wrapper类是final类型的，已经重写了equals和hashCode方法，碰撞的几率更小，散列更为高效。</li></ul><h2 id="Q：并发会导致什么问题？"><a href="#Q：并发会导致什么问题？" class="headerlink" title="Q：并发会导致什么问题？"></a>Q：并发会导致什么问题？</h2><p><strong>A：</strong> </p><ul><li><p><strong>多线程操作可能导致死循环。</strong> HashMap是非线程安全的。一般来说，链表出现死循环很可能是因为出现环形链表。所以可以从这个角度考虑问题。</p><p>  具体来讲，向HashMap中添加元素时，在resize的时候，需要调整原有的元素到新的位置，即transfer方法。在此方法中，对于某个特定索引的链表，如果多个线程切换执行此方法，由于每个线程对next进行重复操作，导致形成环状链表。</p><p>  <strong>解决方案：</strong> </p><ol><li>使用Collections.synchronizedMap(Mao<k,v> m)方法把HashMap变成一个线程安全的Map。</k,v></li><li>使用ConcurrentHashMap。</li></ol></li></ul><h2 id="Q：与HashSet的区别是什么？"><a href="#Q：与HashSet的区别是什么？" class="headerlink" title="Q：与HashSet的区别是什么？"></a>Q：与HashSet的区别是什么？</h2><p><strong>A：</strong> HashSet仅仅存储对象，而不存储键值对，相对较慢。</p><h2 id="Q：与HashTable的区别？"><a href="#Q：与HashTable的区别？" class="headerlink" title="Q：与HashTable的区别？"></a>Q：与HashTable的区别？</h2><p><strong>A：</strong> HashTable继承了Dictionary接口，线程安全，其中涉及存取的方法都加上了Synchronize关键字。</p><h1 id="ConcurrentHashMap相关问题"><a href="#ConcurrentHashMap相关问题" class="headerlink" title="ConcurrentHashMap相关问题"></a>ConcurrentHashMap相关问题</h1><h2 id="Q：ConcurrentHashMap的数据结构？"><a href="#Q：ConcurrentHashMap的数据结构？" class="headerlink" title="Q：ConcurrentHashMap的数据结构？"></a>Q：ConcurrentHashMap的数据结构？</h2><p><strong>A：</strong> </p><ul><li>实现了ConcurrentHashMap接口。</li><li>与HashMap一大不同是，内部实现了Map.Entry的节点Node其中的next和value是volatile的，避免了Hashmap中的死循环。</li></ul><p>参考：<a href="https://tech.meituan.com/java-hashmap.html" target="_blank" rel="noopener">Java 8系列之重新认识HashMap</a></p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180316</title>
      <link href="/2018/03/16/diary20180316/"/>
      <url>/2018/03/16/diary20180316/</url>
      <content type="html"><![CDATA[<p><code>12:29:50</code> 来到凯李咖啡。果然和在家非常不一样。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>常用算法记录</title>
      <link href="/2018/03/16/quick-adt-useful/"/>
      <url>/2018/03/16/quick-adt-useful/</url>
      <content type="html"><![CDATA[<p><a href="http://www.dooccn.com/java/" target="_blank" rel="noopener">在线IDE</a></p><h1 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h1><h2 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bubbleSort</span><span class="params">(<span class="keyword">int</span>[] array)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; array.length - i - <span class="number">1</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (array[j] &gt; array[j+<span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="keyword">int</span> tmp = array[j+<span class="number">1</span>];</span><br><span class="line">                array[j+<span class="number">1</span>] = array[j];</span><br><span class="line">                array[j] = tmp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span>[] array)</span> </span>&#123;</span><br><span class="line">    quickSort(array, <span class="number">0</span>, array.length - <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 每次操作的结果：左边的值&lt;=基准值&lt;=右边的值，也就是将基准值归位</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span> array[], <span class="keyword">int</span> lo, <span class="keyword">int</span> hi, <span class="keyword">int</span> pivot)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (lo &gt;= hi) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> i = lo;</span><br><span class="line">    <span class="keyword">int</span> j = hi;</span><br><span class="line">    <span class="comment">//4.重复执行，直到i和j相遇并交错。此时j在i的左边一个。</span></span><br><span class="line">    <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">        <span class="comment">//1.把j移动到从右到左第一个比基准值小的位置。</span></span><br><span class="line">        <span class="keyword">while</span> ((i &lt; j) &amp;&amp; (array[j] &gt;= array[pivot])) &#123;</span><br><span class="line">            j--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//2.把i移动到从左到右第一个比基准值大的位置。</span></span><br><span class="line">        <span class="keyword">while</span> ((i &lt; j) &amp;&amp; (array[i] &lt;= array[pivot])) &#123;<span class="comment">//必须把范围判断放在前面</span></span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//此时j一定不在i的右边，并且j对应的值比i小，所以无需判断i与j的关系</span></span><br><span class="line">        <span class="keyword">int</span> tmp1 = array[i];</span><br><span class="line">        array[i] = array[j];</span><br><span class="line">        array[j] = tmp1;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//5.基准值是比较对象，位置不会随比较而变化，故需</span></span><br><span class="line">    <span class="keyword">int</span> tmp2 = array[lo];</span><br><span class="line">    array[lo] = array[j];</span><br><span class="line">    array[j] = tmp2;</span><br><span class="line"></span><br><span class="line">    quickSort(array, lo, j - <span class="number">1</span>, lo);</span><br><span class="line">    quickSort(array, j + <span class="number">1</span>, hi, j + <span class="number">1</span>);<span class="comment">//必须是j+1，否则如果是顺序序列，会无限循环</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mergeSort</span><span class="params">(<span class="keyword">int</span>[] array)</span> </span>&#123;</span><br><span class="line">    mergeSort(array,<span class="number">0</span>,array.length-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mergeSort</span><span class="params">(<span class="keyword">int</span>[] array, <span class="keyword">int</span> lo, <span class="keyword">int</span> hi)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (lo &gt;= hi) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> midLeft = (lo + hi) / <span class="number">2</span>;</span><br><span class="line">    <span class="comment">//先分割，再归并</span></span><br><span class="line">    mergeSort(array, lo, midLeft);</span><br><span class="line">    mergeSort(array, midLeft + <span class="number">1</span>, hi);</span><br><span class="line">    merge(array, lo, midLeft, hi);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span>[] array, <span class="keyword">int</span> lo, <span class="keyword">int</span> midLeft, <span class="keyword">int</span> hi)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] newArray = <span class="keyword">new</span> <span class="keyword">int</span>[hi - lo + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">int</span> i = lo;</span><br><span class="line">    <span class="keyword">int</span> j = midLeft + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> newArrayPointer = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (i &lt;= midLeft &amp;&amp; j &lt;= hi) &#123;</span><br><span class="line">        <span class="keyword">if</span> (array[i] &gt; array[j]) &#123;</span><br><span class="line">            newArray[newArrayPointer] = array[j];</span><br><span class="line">            newArrayPointer++;</span><br><span class="line">            j++;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (array[i] &lt;= array[j]) &#123;</span><br><span class="line">            newArray[newArrayPointer] = array[i];</span><br><span class="line">            newArrayPointer++;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (i &lt;= midLeft) &#123;</span><br><span class="line">        newArray[newArrayPointer] = array[i];</span><br><span class="line">        newArrayPointer++;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (j &lt;= hi) &#123;</span><br><span class="line">        newArray[newArrayPointer] = array[j];</span><br><span class="line">        newArrayPointer++;</span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line">    newArrayPointer = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = lo; k &lt;= hi; k++) &#123;</span><br><span class="line">        array[k] = newArray[newArrayPointer];</span><br><span class="line">        newArrayPointer++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="二叉树"><a href="#二叉树" class="headerlink" title="二叉树"></a>二叉树</h1><h2 id="先序遍历"><a href="#先序遍历" class="headerlink" title="先序遍历"></a><a href="https://www.nowcoder.com/practice/501fb3ca49bb4474bf5fa87274e884b4?tpId=46&amp;tqId=29036&amp;rp=2&amp;ru=/ta/leetcode&amp;qru=/ta/leetcode/question-ranking" target="_blank" rel="noopener">先序遍历</a></h2><p>“乡”字型遍历。根左右。</p><p>递归版：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">preOrderTraversal</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root=<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//对root进行操作</span></span><br><span class="line">    <span class="comment">// doSth(root);</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    preOrderTraversal(root.leftNode);</span><br><span class="line">    preOrderTraversal(root.rightNode);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>迭代版：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">preorderTraversal</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">    Stack&lt;TreeNode&gt; s = <span class="keyword">new</span> Stack&lt;TreeNode&gt;();</span><br><span class="line">    s.push(root);</span><br><span class="line">    <span class="keyword">while</span> (!s.isEmpty()) &#123;</span><br><span class="line">        TreeNode node = s.pop();</span><br><span class="line">        list.add(node.val);</span><br><span class="line">        <span class="keyword">if</span> (node.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">            s.push(node.right);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (node.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">            s.push(node.left);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="中序遍历"><a href="#中序遍历" class="headerlink" title="中序遍历"></a><a href="https://www.nowcoder.com/practice/1b25a41f25f241228abd7eb9b768ab9b?tpId=46&amp;tqId=29084&amp;tPage=1&amp;rp=1&amp;ru=/ta/leetcode&amp;qru=/ta/leetcode/question-ranking" target="_blank" rel="noopener">中序遍历</a></h2><p>左根右</p><p>递归版：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">inOrderTraversal</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root=<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    preOrderTraversal(root.leftNode);</span><br><span class="line">    <span class="comment">//对root进行操作</span></span><br><span class="line">    <span class="comment">// doSth(root);</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    preOrderTraversal(root.rightNode);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>迭代版</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">inorderTraversal</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">    Stack&lt;TreeNode&gt; s = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">while</span>(!s.isEmpty()||root!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(root!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            s.push(root);</span><br><span class="line">            root=root.left;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            root = s.pop();</span><br><span class="line">            list.add(root.val);</span><br><span class="line">            root=root.right;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="后序遍历"><a href="#后序遍历" class="headerlink" title="后序遍历"></a><a href="https://www.nowcoder.com/practice/32af374b322342b68460e6fd2641dd1b?tpId=46&amp;tqId=29035&amp;tPage=2&amp;rp=2&amp;ru=/ta/leetcode&amp;qru=/ta/leetcode/question-ranking" target="_blank" rel="noopener">后序遍历</a></h2><p>右根左</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">postOrderTraversal</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root=<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    preOrderTraversal(root.leftNode);</span><br><span class="line">    preOrderTraversal(root.rightNode);</span><br><span class="line">    <span class="comment">//对root进行操作</span></span><br><span class="line">    <span class="comment">// doSth(root);</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="层序遍历"><a href="#层序遍历" class="headerlink" title="层序遍历"></a><a href="https://www.nowcoder.com/practice/7fe2212963db4790b57431d9ed259701?tpId=13&amp;tqId=11175&amp;tPage=2&amp;rp=2&amp;ru=/ta/coding-interviews&amp;qru=/ta/coding-interviews/question-ranking" target="_blank" rel="noopener">层序遍历</a></h2><p>使用队列</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">PrintFromTopToBottom</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">if</span>(root==<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> list;</span><br><span class="line">        &#125;</span><br><span class="line">        Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> LinkedList&lt;TreeNode&gt;();</span><br><span class="line">        queue.offer(root);</span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            TreeNode treeNode = queue.poll();</span><br><span class="line">            <span class="keyword">if</span> (treeNode.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">                queue.offer(treeNode.left);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (treeNode.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">                queue.offer(treeNode.right);</span><br><span class="line">            &#125;</span><br><span class="line">            list.add(treeNode.val);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">PrintFromTopToBottom</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        ArrayList&lt;TreeNode&gt; queue = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> list;</span><br><span class="line">        &#125;</span><br><span class="line">        queue.add(root);</span><br><span class="line">        <span class="keyword">while</span> (queue.size() != <span class="number">0</span>) &#123;</span><br><span class="line">            TreeNode temp = queue.remove(<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">if</span> (temp.left != <span class="keyword">null</span>)&#123;</span><br><span class="line">                queue.add(temp.left);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (temp.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">                queue.add(temp.right);</span><br><span class="line">            &#125;</span><br><span class="line">            list.add(temp.val);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h1><h2 id="二分查找"><a href="#二分查找" class="headerlink" title="二分查找"></a>二分查找</h2><p>递归版</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span>[] array, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> binarySearch(array, target, <span class="number">0</span>, array.length - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span>[] array, <span class="keyword">int</span> target, <span class="keyword">int</span> lo, <span class="keyword">int</span> hi)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (lo &gt; hi) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid = (lo + hi) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (array[mid] == target) &#123;</span><br><span class="line">        <span class="keyword">return</span> mid;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (array[mid] &gt; target) &#123;</span><br><span class="line">        <span class="keyword">return</span> binarySearch(array, target, lo, mid - <span class="number">1</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> binarySearch(array, target, mid+<span class="number">1</span>, hi);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>迭代版</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span>[] array, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> lo = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> hi = array.length-<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (lo &lt;= hi) &#123;</span><br><span class="line">        <span class="keyword">int</span> mid = (lo + hi) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (array[mid] == target) &#123;</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (array[mid] &lt; target) &#123;</span><br><span class="line">            lo = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            hi = mid - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="链表常见算法"><a href="#链表常见算法" class="headerlink" title="链表常见算法"></a>链表常见算法</h1><h2 id="翻转链表"><a href="#翻转链表" class="headerlink" title="翻转链表"></a><a href="https://www.nowcoder.com/questionTerminal/75e878df47f24fdc9dc3e400ec6058ca" target="_blank" rel="noopener">翻转链表</a></h2><p>递归版：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">ReverseList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        ListNode newHead = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">        newHead = ReverseList(head.next);</span><br><span class="line">        head.next.next = head;</span><br><span class="line">        head.next = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">return</span> newHead;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>迭代版：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">ReverseList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    ListNode pre = <span class="keyword">null</span>;</span><br><span class="line">    ListNode next = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span> (head != <span class="keyword">null</span>) &#123;</span><br><span class="line">        next = head.next;       <span class="comment">//提前保存好next节点</span></span><br><span class="line">        head.next = pre;        <span class="comment">//把当前节点指向上一个节点，即翻转操作</span></span><br><span class="line">        pre = head;             <span class="comment">//保存当前节点为上一个节点，便于下次操作</span></span><br><span class="line">        head = next;            <span class="comment">//迭代。注意不能写成head=head.next，因为此时的head已经指向了pre，它的next会向相反方向迭代。</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pre;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="算法总结"><a href="#算法总结" class="headerlink" title="算法总结"></a>算法总结</h1><p>对终止条件的思考：</p><p>每种算法的终止条件事实上都以“放宽”为标准。如二分查找的递归和迭代，在递归函数中，用<code>if(lo&lt;hi) return</code>来做终止条件，是把终止条件从相等放松到交错；在迭代函数中，用<code>while(lo&lt;=hi)</code>做循环入口，是把进入条件从交错放松到相等。</p>]]></content>
      
      
        <tags>
            
            <tag> 数据结构与算法 </tag>
            
            <tag> 快速查阅 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>树的概念与辨析</title>
      <link href="/2018/03/16/note-adt-tree/"/>
      <url>/2018/03/16/note-adt-tree/</url>
      <content type="html"><![CDATA[<h1 id="树的相关概念"><a href="#树的相关概念" class="headerlink" title="树的相关概念"></a>树的相关概念</h1><p><strong>节点的度（degree）：</strong> 一个节点的（下一层）子节点个数 （在二叉树中，范围为0~2）<br><strong>树的度：</strong> 树的节点中，度数最大的节点，的度数。<br><strong>节点的深度：</strong> 从根节点向下，累加值<br><strong>节点的高度：</strong> 从叶节点向上，累加值<br><strong>树的高度（深度）：</strong> 树中节点最大层数<br><strong>完全二叉树：</strong> 除了最后一层外，其余层都含有尽可能多的节点；且最后一层从左向右填满。</p><h1 id="计算"><a href="#计算" class="headerlink" title="计算"></a>计算</h1><ul><li>树的所有的节点个数=所有节点的度数和 + 1<br>  解释：所有节点的度数和=所有节点数-1（根节点）</li><li>度为m的树中第i层上至多有m^(i-1)个节点，i&gt;=1</li><li>树T的高度=1 + T的最高子树的高度</li><li>完全二叉树的高度与节点数的关系： log2(n+1)向上取整。满二叉树则为log2(n+1)。</li></ul><table><thead><tr><th>高度</th><th>节点数</th></tr></thead><tbody><tr><td>1</td><td>1</td></tr><tr><td>2</td><td>3</td></tr><tr><td>3</td><td>7</td></tr><tr><td>4</td><td>15</td></tr><tr><td>5</td><td>31</td></tr></tbody></table><p>即 n = 2^h-1 或 h = log2(n+1)</p><p>树的节点数与高度成数列 a<sub>n</sub> = 2<sup>n</sup>-1 或者说 N = 2<sup>h</sup>-1 则 h = log<sub>2</sub>(N+1)</p><h1 id="从数组到树的发展"><a href="#从数组到树的发展" class="headerlink" title="从数组到树的发展"></a>从数组到树的发展</h1><table><thead><tr><th style="text-align:center">数据结构</th><th style="text-align:center">优势</th><th style="text-align:center">限制</th><th style="text-align:center">劣势</th></tr></thead><tbody><tr><td style="text-align:center">数组</td><td style="text-align:center">下标寻址迅速</td><td style="text-align:center">计算机内存有限，数组长度有限；查找最坏情况需要遍历整个数组</td><td style="text-align:center">查找复杂度过高；插入和删除都比较复杂</td></tr><tr><td style="text-align:center">链表</td><td style="text-align:center">增删方便</td><td style="text-align:center">结构复杂</td><td style="text-align:center">查找耗时</td></tr><tr><td style="text-align:center">二叉查找树</td><td style="text-align:center">最好情况下查找复杂度较低</td><td style="text-align:center">可能退化成链表</td><td style="text-align:center">最坏情况下=链表</td></tr><tr><td style="text-align:center">哈希表</td><td style="text-align:center">数组和链表的折中</td><td style="text-align:center">依赖散列函数的设计，数组不能无现场，链表不适合查找</td><td style="text-align:center">不适合大规模查找</td></tr><tr><td style="text-align:center">AVL树</td><td style="text-align:center">查找稳定在O(logN)</td><td style="text-align:center">旋转复杂</td><td style="text-align:center">插入和删除较慢</td></tr><tr><td style="text-align:center">红黑树</td><td style="text-align:center">插入效率较高</td><td style="text-align:center">平衡树与AVL树的折中</td><td style="text-align:center">不易实现</td></tr></tbody></table><h1 id="各种二叉树的特点"><a href="#各种二叉树的特点" class="headerlink" title="各种二叉树的特点"></a>各种二叉树的特点</h1><h2 id="二叉搜索树（Binary-Search-Tree，BST）"><a href="#二叉搜索树（Binary-Search-Tree，BST）" class="headerlink" title="二叉搜索树（Binary Search Tree，BST）"></a>二叉搜索树（Binary Search Tree，BST）</h2><p><strong>特点：</strong> 每个节点都满足，左孩子上所有节点 &lt; 该节点 &lt; 右孩子上所有节点。事实上，对二叉查找树进行中序（左根右）遍历，会升序输出。</p><p><strong>时间复杂度分析：</strong></p><ul><li><strong>查找：</strong> 平均(logN) 有序时O(N)<ul><li>当树中每个结点左右子树高度大致相同时，树高为logN。则平均查找长度与logN成正比，查找的平均时间复杂度在O(logN)数量级上</li><li>当先后插入的关键字有序时，BST退化成单支树结构。此时树高n。平均查找长度为(n+1)/2，查找的平均时间复杂度在O(N)数量级上。</li></ul></li><li><strong>插入：</strong> 平均(logN) 有序时O(N)<ul><li>新结点插入到树的叶子上，完全不需要改变树中原有结点的组织结构。插入一个结点的代价与查找一个不存在的数据的代价完全相同。</li></ul></li><li><strong>删除：</strong> &lt;= O(logN)<ul><li>当删除一个结点P，首先需要定位到这个结点P，这个过程需要一个查找的代价。然后稍微改变一下树的形态。如果被删除结点的左、右子树只有一个存在，则改变形态的代价仅为O(1)。如果被删除结点的左、右子树均存在，只需要将当P的左孩子的右孩子的右孩子的…的右叶子结点与P互换，在改变一些左右子树即可。因此删除操作的时间复杂度最大不会超过O(logN)</li></ul></li></ul><p><strong>效率总结：</strong> 查找最好时间复杂度O(logN)，最坏时间复杂度O(N)。<br>插入删除操作算法简单，时间复杂度与查找差不多。</p><p><strong>优势：</strong> 中序遍历可以快速检索</p><p><strong>劣势：</strong> 如果插入的节点本身是有序（如插入 [1,2,3,4,5,6]）时，成为单链表，查找效率无法接受。</p><h2 id="平衡二叉搜索树（Adelson-Velskii-and-Landis，AVL）"><a href="#平衡二叉搜索树（Adelson-Velskii-and-Landis，AVL）" class="headerlink" title="平衡二叉搜索树（Adelson-Velskii and Landis，AVL）"></a>平衡二叉搜索树（Adelson-Velskii and Landis，AVL）</h2><p>特点：带有平衡条件（左右两个子树高度差的绝对值不超过1）的二叉查找树。</p><p>时间复杂度分析：</p><ul><li>查找：&lt;= O(logN) <ul><li>查找过程与BST一样，只是AVL不会出现最差情况的BST(单支树)。因此查找效率最好，最坏情况都是O(logN)数量级的。</li></ul></li><li>插入：O(logN)<ul><li>AVL必须要保证严格平衡(|bf|&lt;=1)，那么每一次插入数据使得AVL中某些结点的平衡因子超过1就必须进行旋转操作。事实上，AVL的每一次插入结点操作最多只需要旋转1次(单旋转或双旋转)。因此，总体上插入操作的代价仍然在O(logN)级别上(插入结点需要首先查找插入的位置)。</li></ul></li><li>删除：O(2logN)<ul><li>AVL删除结点的算法可以参见BST的删除结点，但是删除之后必须检查从删除结点开始到根结点路径上的所有结点的平衡因子。因此删除的代价稍微要大一些。每一次删除操作最多需要O(logN)次旋转。因此，删除操作的时间复杂度为O(logN)+O(logN)=O(2logN)</li></ul></li></ul><p>效率总结：</p><ul><li>查找维持在O(logN)，不会出现最差情况</li><li>每个插入操作时最多需要1次旋转，其时间复杂度在O(logN)左右。</li><li>删除时代价稍大，执行每个删除操作的时间复杂度需要O(2logN)。</li></ul><p>作用：很好的解决了二叉查找树退化成链表的问题。把插入、查找、删除的时间复杂度维持在O(log2N).</p><h2 id="红黑树"><a href="#红黑树" class="headerlink" title="红黑树"></a>红黑树</h2><p>特点：</p><ol><li>不是严格的平衡二叉树，放松了平衡二叉树的某些要求，提升了性能。</li><li>算法时间复杂度与AVL树相同，但统计性能比AVL树要高。</li></ol><p>优势：</p><ol><li>能够以O(log<sub>2</sub>N)的时间复杂度进行搜索、插入、删除操作。</li><li>任何不平衡都会在3次旋转内解决。</li><li>最坏情况依然是高效的。</li></ol><p>劣势：</p><ol><li>查找性能比AVL树稍差</li><li>插入和删除都需要一定的维护</li></ol><p>实现：TreeMap</p><h2 id="哈夫曼树（最优二叉树）"><a href="#哈夫曼树（最优二叉树）" class="headerlink" title="哈夫曼树（最优二叉树）"></a>哈夫曼树（最优二叉树）</h2><p>参考：<a href="http://zhuanlan.zhihu.com/p/33481066" target="_blank" rel="noopener">http://zhuanlan.zhihu.com/p/33481066</a></p><h2 id="B树系列"><a href="#B树系列" class="headerlink" title="B树系列"></a>B树系列</h2><p>参考 <a href="https://www.cnblogs.com/gym333/p/6877023.html" target="_blank" rel="noopener">https://www.cnblogs.com/gym333/p/6877023.html</a></p><p>特点：每个节点包含关键字和指针，关键字就是数据，指针指向下一层的节点。</p><h3 id="B-tree"><a href="#B-tree" class="headerlink" title="B-tree"></a>B-tree</h3><p>特点：叶子节点是失败节点；在非叶子节点命中。</p><p>复杂度：渐进复杂度为O(log<sub>d</sub>N),其中d为大于1的整数。查找等价于在关键字做一次二分查找。</p><p>应用：一般用于数据库的索引，综合效率较高。</p><h3 id="B-Tree"><a href="#B-Tree" class="headerlink" title="B+-Tree"></a>B<sup>+</sup>-Tree</h3><p>B<sup>+</sup>-Tree是B-Tree的变形，在文件索引方面更普遍。</p><p>特点：</p><ul><li>所有关键字都出现在叶子结点的链表中（稠密索引），且链表中的关键字恰好是有序的；</li><li>不可能在非叶子结点命中；</li><li>非叶子结点相当于是叶子结点的索引（稀疏索引），叶子结点相当于是存储（关键字）数据的数据层；</li><li>更适合文件索引系统</li></ul><p>性能：也等价于二分查找。</p><h3 id="B-Tree-1"><a href="#B-Tree-1" class="headerlink" title="B*-Tree"></a>B<sup>*</sup>-Tree</h3><p>特点：</p><ul><li>是B<sup>+</sup>-Tree的变体，在非根和非叶子节点再增加指向兄弟的指针。</li><li>分配新节点的概率比B<sup>+</sup>-Tree低，空间使用率更高。</li></ul><h2 id="Q：为什么要使用B-Tree和B-Tree作为数据库的索引？"><a href="#Q：为什么要使用B-Tree和B-Tree作为数据库的索引？" class="headerlink" title="Q：为什么要使用B+-Tree和B-Tree作为数据库的索引？"></a>Q：为什么要使用B<sup>+</sup>-Tree和B-Tree作为数据库的索引？</h2><p><strong>A：</strong> </p><p><strong>适合做索引的数据结构评价标准：</strong></p><p> 索引本身也很大，不可能全部存储在内存中，需要以索引文件的形式存储在硬盘上。这意味着查找过程产生I/O消耗，而磁盘I/O要比内存I/O消耗高几个数量级。所以评价一个数据结构作为索引的优劣<strong>最重要的指标就是在查找过程中，磁盘I/O次数的渐进复杂度，或者说尽可能减少I/O次数</strong>。</p><p><strong>磁盘读写原理：</strong></p><p>根据局部性原理，主存与磁盘以页为单位交换数据。当程序要读取的数据不在主存中时，会触发一个缺页异常，此时系统会向磁盘发出读盘信号，磁盘会找到数据的起始位置并向后连续读取一页或几页载入内存中，然后异常返回，程序继续运行。</p><p><strong>计算：</strong></p><p>B/B<sup>*</sup>-Tree检索一次最多访问节点为：</p><blockquote><p>h = log<sub>m/2</sub>((n+1)/2)+1</p></blockquote><p>数据库将一个节点的大小设为一个页，这样每个节点只需一次I/O即可完全载入，相邻的页即可利用局部性原理。</p><p>B-Tree一次检索最多需要h-1次I/O，渐进复杂度为O(h)=O(log<sub>m</sub>N),实际情况下m非常大，通常超过100，因此h非常小，通常不超过3。</p><p>而红黑树的h明显要深得多。由于逻辑上很近的节点可能物理上很远，无法利用局部性，所以红黑树的I/O渐进如咋读为O(h)，比B-Tree差很多。</p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据结构 </tag>
            
            <tag> 树 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary20180315</title>
      <link href="/2018/03/15/diary20180315/"/>
      <url>/2018/03/15/diary20180315/</url>
      <content type="html"><![CDATA[<p><code>10:40:57</code> 华为开始春招了。</p><p><code>20:25:40</code> 完全写完调研报告。deadline的力量真是太牛逼了。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary20180314</title>
      <link href="/2018/03/14/diary20180314/"/>
      <url>/2018/03/14/diary20180314/</url>
      <content type="html"><![CDATA[<p><code>10:37:33</code> 今天开始更换日记文件命名方式。继续论文。</p><p><code>19:52:54</code> 霍金去世，也算是见证历史了。</p><p><code>19:58:41</code> 这两天写毕业论文发现，其实数学是很美的，精确，简练，没有一点废话，不应畏惧。</p><p><code>22:38:41</code> 天气逐渐回暖。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary180313</title>
      <link href="/2018/03/13/diary20180313/"/>
      <url>/2018/03/13/diary20180313/</url>
      <content type="html"><![CDATA[<p><code>11:36:48</code> 今天尽量把论文完成。</p><p><code>1:30:12</code> 调研报告写的还算顺利。果然常沟通非常必要。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary180312</title>
      <link href="/2018/03/12/diary20180312/"/>
      <url>/2018/03/12/diary20180312/</url>
      <content type="html"><![CDATA[<p><code>14:11:28</code> 又是毕设检查……最近好像没有了一周开始的概念。</p><p><code>21:39:05</code> 下午毕设检查，一如预期需要改动。从民主楼出来，叫上胡出来玩，从西二环绕到新校，又绕到阳光100，最后又回到步步高吃了鲜芋仙，竟然还看了电影。三块广告牌，看的不是很懂。刚刚吃了涮锅回来。明后两天要加急了。。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>难以习惯的孤独</title>
      <link href="/2018/03/11/diary20180311/"/>
      <url>/2018/03/11/diary20180311/</url>
      <content type="html"><![CDATA[<p><code>12:54:06</code> 想法：写个脚本，每天自动生成diary</p><p><code>19:57:42</code> 知乎上一些关于孤独的文字：</p><p>一个人的时候孤独，切勿以为两个人的时候就不会孤独。</p><p>当独处的时候，他是最自由的。</p><p>切勿去通过刺激感官的方法去消灭孤独。</p><p>做爱可以带来快乐，做题也可以带来快乐。但是两者的快乐并不一样，前者的快乐强烈而短暂，做完之后犹如黑夜中的烟火，亮完还需要面对无边无际的黑夜；而后者，深远而绵长，感觉生命因此而充实起来。</p><p>多输出，少输入。</p><p>看电影，被动接受声音和影像，是输入；看书的时候思考，是输出。躺在床上按摩，被动接受运动，是输入；自己去跑步，主动运动，是输出。</p><p>当我孤独时，多感受来自人自身带来的快乐，而非靠外部的刺激来充实你的精神。</p><p><code>20:08:37</code> 有时简直不敢相信，也不想承认，我跟她已经分手四年了，她也早已结婚了……一个人太久，会让记忆断层，只要用力想想，就会直接回到那些时光。四年，读一个大学都读完了。时间会摧残一切，唯独记忆会越久越深。</p><p>是为什么呢？因为怀念，怀念真心心动的感觉。而只要我试图检索曾经有过的心动的瞬间，就会直接跳转到四年之前，拦都拦不住。</p><p>我总觉得自己还算理性，但是没想到在这么严肃的事情也会过渡缅怀。越是回想，就越是克制；越是克制，就越感孤独；越感孤独，就越是回想……</p><p>有卖忘情水的吗？</p><p>反过来想，我真的配吗？嗯，这样想，会好很多…</p><p>认清现实吧！回不去了！ BE A MAN！</p><p><code>22:53:16</code> 人是骗不了自己的。不管怎么想，这些杂念都必须终止。这是小孩子的贪恋情绪，早晚要终止，否则会酿成大祸。多多转移注意力吧。</p><p><code>23:01:21</code> 闲时写写博客成了独居为数不多的乐趣了。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>diary180310</title>
      <link href="/2018/03/10/diary20180310/"/>
      <url>/2018/03/10/diary20180310/</url>
      <content type="html"><![CDATA[<p><code>9:36:20</code>  果然喝酒更容易作出不易决定的事情。</p><p><code>12:45:59</code> 女生想要的是被保护，男生想做的是去征服…..于是他们靠近的结果不是结合，而是撞击，被巨大的力量反弹，循环几次，越弹越远。</p><p><code>16:14:05</code> 来到库克咖啡。刚刚去听了Apollo的小分享会。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary180310-1.jpg" alt=""></p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180310_2.jpg" alt=""></p><p><code>1:36:07</code> </p><p>许浩考上了哈工大深研院。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180310_3.jpg" alt=""></p><p>朱星禹的孩子于2018年3月10日20点出生，母子平安。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary20180310_4.jpg" alt=""></p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>哈希·学习记录</title>
      <link href="/2018/03/09/note-adt-hash/"/>
      <url>/2018/03/09/note-adt-hash/</url>
      <content type="html"><![CDATA[<h2 id="什么是哈希？"><a href="#什么是哈希？" class="headerlink" title="什么是哈希？"></a>什么是哈希？</h2><p>柯林斯词典中对hash一词的<a href="https://www.collinsdictionary.com/dictionary/english/hash" target="_blank" rel="noopener">解释</a>是切碎或剁碎的意思：</p><blockquote><p>to chop into small pieces.</p></blockquote><p>或者是一种习语，把事情搞得一团糟。</p><blockquote><p>PHRASE If you make a hash of a job or task, you do it very badly.</p></blockquote><p>因此，在计算机科学中，<strong>hash</strong>成为<strong>散列</strong>的代名词。</p><h2 id="什么是散列？"><a href="#什么是散列？" class="headerlink" title="什么是散列？"></a>什么是散列？</h2><p>对比来看，要想从数组中查找元素，只需确定元素的索引，无需涉及其他数组元素。</p><p>散列也是如此，无需查找（遍历），只需根据<strong>键</strong>来确定元素索引，即可找到对应的元素。数组是散列的一种，是<strong>散列表</strong>。</p><h2 id="什么是散列函数？"><a href="#什么是散列函数？" class="headerlink" title="什么是散列函数？"></a>什么是散列函数？</h2><p>散列函数的作用是转化。从<strong>键</strong>到<strong>索引值</strong>的转化过程，就是散列函数处理的。键可能是数字，可能是字符串，需要通过散列函数处理，转化为整数。</p><h2 id="理想的散列是什么样子的？"><a href="#理想的散列是什么样子的？" class="headerlink" title="理想的散列是什么样子的？"></a>理想的散列是什么样子的？</h2><p>理想情况下，散列函数将每个<strong>键</strong>都映射到散列表（或称之为哈希表）中的唯一一个元素。比如键的范围是从0000到9999，散列函数产生从0到9999的整数，每个键对应唯一一个整数，也就对应相应的元素。此时的散列函数称为完美的散列函数。</p><h2 id="实际情况下的散列是什么样子的？"><a href="#实际情况下的散列是什么样子的？" class="headerlink" title="实际情况下的散列是什么样子的？"></a>实际情况下的散列是什么样子的？</h2><p>实际情况下，不是每个键都会派上用场。比如上例，键的范围是0000到9999，可实际用到的可能仅仅只有少数。比如，电话号码的范围是0000到9999，而实际拥有电话的人可能只有几百人。那么散列表就可能会是稀疏的，浪费了大量空间。</p><h2 id="典型的散列函数？"><a href="#典型的散列函数？" class="headerlink" title="典型的散列函数？"></a>典型的散列函数？</h2><p>典型的散列函数需要进行下列两个步骤：</p><ol><li>将查找键转换为一个称为<strong>散列码</strong>(hash code)的整数；</li><li>将散列码<strong>压缩</strong>到散列表的索引范围。</li></ol><p>如：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//返回含tableSize个位置的数组的一个索引</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getHashIndex</span><span class="params">(<span class="keyword">int</span> num)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = num的最后四位数字;</span><br><span class="line">    <span class="keyword">return</span> i % tableSize;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>由于tableSize小于查找键的数量，所以某些键可能会映射到相同的索引，这一现象称为<strong>冲突</strong>。为了解决这一问题，需要<strong>处理冲突</strong>。</p><h2 id="较好的散列函数？"><a href="#较好的散列函数？" class="headerlink" title="较好的散列函数？"></a>较好的散列函数？</h2><p>散列函数只需产生适合的整数，而解决冲突需要一定代价。这说明较好的散列函数应该：</p><ol><li>使冲突最少</li><li>计算快</li></ol><p>为了减少冲突的几率，散列函数应当使元素尽量均匀地分布在散列表中。</p><h2 id="计算散列码"><a href="#计算散列码" class="headerlink" title="计算散列码"></a>计算散列码</h2><h3 id="类类型的散列码"><a href="#类类型的散列码" class="headerlink" title="类类型的散列码"></a>类类型的散列码</h3><p>刚刚提到，典型的散列函数的第一步是将键转换为散列码。不仅是数字和字符串，任何类型的对象都可以作为键。在Java中，每个Object都有一个<code>hashCode</code>方法，用于产生散列码。</p><p>但是，这个默认的散列码不适合用于散列，因为对于两个 equal 的对象，它将产生不同的散列码。因此，应当自定义<code>hashCode</code>方法。准则如下：</p><ol><li>如果一个类覆盖了方法<code>equals</code>方法，则应该覆盖<code>hashCode</code>方法。</li><li>如果<code>equals</code>方法认为两个对象相等，那么<code>hashCode</code>方法对它们必须返回相同的散列码。</li><li>如果在同一程序中对一个对象调用多次<code>hashCode</code>方法，且它们没有改变，必须返回相同的散列码。</li><li>在同一程序的两次执行过程中，对象的散列码可以不同。</li></ol><p>注：一般情况下，虽然相等的对象有相同的散列码，但是<strong>不相等的对象也有可能有相同的散列码</strong>，此时产生冲突，应竭力避免。</p><h3 id="字符串的散列码"><a href="#字符串的散列码" class="headerlink" title="字符串的散列码"></a>字符串的散列码</h3><p>容易想到的方式有，为A~Z每个字母分配一个整数，或者用Unicode代替，散列函数取每个字符串开头的几个字母对应的整数。然而如果开头字母相同，则散列码相同。事实上，任何使用特定的字母的散列函数都无法将字符串均匀地分布在散列中。因为<strong>现实世界的数据不是均匀的</strong>。</p><h4 id="更好的字符串散列码"><a href="#更好的字符串散列码" class="headerlink" title="更好的字符串散列码"></a>更好的字符串散列码</h4><p>Horner法：每个字符的Unicode值乘以与这个字符位置有关的因子，散列码就是这些乘积之和。对于字符串s，设g为某一常数，u(0)到u(n-1)为每个字符，有</p><pre><code>s = u(0)u(1)……u(n-1)hash = u(0)*g^(n-1) + u(1)*g^(n-2)+……+u(n-2)*g+u(n-1)</code></pre><p>在某一版本的Java中，String类实现的<code>hashCode</code>方法是</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> hash = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> n = s.getLength();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n;i++)&#123;</span><br><span class="line">    hash = g * hash + s.charAt(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="基本类型的散列码"><a href="#基本类型的散列码" class="headerlink" title="基本类型的散列码"></a>基本类型的散列码</h3><p>对于<code>int</code>，<code>short</code>，<code>char</code>，<code>byte</code>的基本类型，可以将他们转化为<code>int</code>，直接作为散列码。</p><p>对于其他基本类型，可以用内部的二进制表示。如果是<code>long</code>类型，则含有64位，如果简单的转换为<code>int</code>，或者将其对2^32取模，则会丢失前32位。结果是，所有只在前32位不同的键将有相同的散列码。这是我们不希望的。所以，我们要<strong>考虑到整个键，不要忽略它的一部分</strong>。</p><p>对于<code>long</code>类型对象，一种方法是，将它分开成若干部分，用各种位操作将这些部分结合起来。这称为<strong>折叠</strong>。</p><p>Java中的做法是</p><pre><code>(int)(key^(key&gt;&gt;32))</code></pre><p>即，将key右移32位，并与它原本的值取位或运算。右移的步骤丢弃了高32位，位或的步骤将高低32位结合。最后转化为<code>int</code>，丢弃高32位。这样有效的利用了key的高低32位，也就是考虑了全部的元素。</p><p>对于<code>double</code>类型的操作是类似的，但需要借助<code>Double.doubleToLongBits</code>方法来获取key的位组合。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">long</span> bits = Double.doubleToLongBits(key);</span><br><span class="line"><span class="keyword">int</span> hashCode = (<span class="keyword">int</span>)(bits^(bits&gt;&gt;<span class="number">32</span>))</span><br></pre></td></tr></table></figure><p>对于float，散列码可以就是它的32位，通过调用<code>Float.floatToIntBits(key)</code>得到。</p><p>事实上，以上基本类型的散列计算已经包含在相应包装类的<code>hashCode</code>方法实现中。</p><h2 id="将散列码压缩为散列表的索引"><a href="#将散列码压缩为散列表的索引" class="headerlink" title="将散列码压缩为散列表的索引"></a>将散列码压缩为散列表的索引</h2><p>将一个整数缩小至指定范围，最常用的就是取模运算。但是这不是理想的。考虑到一个特性：一个数在<strong>对偶数取模</strong>之后，<strong>奇偶性</strong>不会变化。而（例如）<strong>基于内存地址的散列码通常是偶数</strong>，索引可能不再均匀分布，而偏向偶数。因此，散列表长度只能是奇数。</p><p>当n为素数时，c % n 将等于0到n-1均匀分布值。</p><p>另外，hashCode可能会返回负值。范围是1-n到0，令结果加上n即可。</p><p>因此，我们可以有如下实现：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getHashIndex</span><span class="params">(K key)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> hashIndex = key.hashCode() % hashTable.length;</span><br><span class="line">    <span class="keyword">if</span>(hashIndex &lt; <span class="number">0</span>)&#123;</span><br><span class="line">        hashIndex = hashIndex + hashTable.length;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> hashIndex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="处理冲突"><a href="#处理冲突" class="headerlink" title="处理冲突"></a>处理冲突</h2><p>处理冲突有两种选择：</p><ol><li>使用散列表中的另一个位置。</li><li>修改散列表的结构，让每个数组位置可以表示多个值。</li></ol><p>前者称为<strong>开放定址</strong>（open addressing），暂且不谈。</p><h3 id="链地址"><a href="#链地址" class="headerlink" title="链地址"></a>链地址</h3><p>每个数组的位置可以表示不知一个值，这样的位置被称为<strong>捅</strong>。而一旦涉及数组，则会有大量的内存消耗。而用链表实现桶是合理的选择，内存仅在需要时才分配。使用链表构成的桶处理冲突，被称为链地址。</p><h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据结构 </tag>
            
            <tag> hashmap </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>自作多情的终局</title>
      <link href="/2018/03/09/diary20180309/"/>
      <url>/2018/03/09/diary20180309/</url>
      <content type="html"><![CDATA[<p><code>11:46:12</code> 去卫生站拿了化验报告，疫苗生效。</p><p>与老爸的恶搞，哈哈哈哈</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary180309-1.png" alt=""></p><p>阳光正好哇。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary180309-2.jpg" alt=""></p><p>下载了小米云同步助手。</p><p><code>21:30:16</code> 身体异样记录：晚上不宜喝酒。喝酒接近困倦，浪费一堆时间。</p><p><code>21:44:26</code> 无论何时的疲惫，只要换个话题，新鲜的，或者许久未提的，总能打气精神。</p><p>用上了wox，非常好用。</p><p><code>23:27:54</code> 编程不能马虎的地方 1. 忘记终止条件的return  2. 比较对象从<code>array[i]&lt;array[j]</code>写成<code>i&lt;j</code></p><p><code>1:39:56</code> 删除了所有留言。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>博客类型与组织形式</title>
      <link href="/2018/03/08/thought-blog-better/"/>
      <url>/2018/03/08/thought-blog-better/</url>
      <content type="html"><![CDATA[<p>博客的命名（文件名、url）在很大程度上决定了内容的组织形式，也会给后续的查阅带来影响。</p><p>博客计划采取以下系列命名方式：</p><table><thead><tr><th>内容</th><th>命名</th></tr></thead><tbody><tr><td>日记</td><td>diary+序号</td></tr><tr><td>想法</td><td>thought+序号 </td></tr><tr><td>技术原理或学习笔记</td><td>note+…</td></tr><tr><td>技术快速查询</td><td>quick+…</td></tr><tr><td>debug 或问题解决方案</td><td>debug+…</td></tr><tr><td>常见情景的操作清单</td><td>list+…</td></tr><tr><td>算法题解</td><td>coding+内容</td></tr><tr><td>简历相关</td><td>cv+内容</td></tr></tbody></table><p>目前而言，与我来讲，最好的博客应当起到以下作用：</p><ol><li>学习吸收。要求内容有深度，条例清晰，实用性强。</li><li>速查速用。要求步骤简练，清晰易懂。</li><li>技术拓展。要求有根有据，证据充实。</li></ol><p>那么最好的组织形式应当为：</p><h1 id="F-amp-Q"><a href="#F-amp-Q" class="headerlink" title="F&amp;Q"></a>F&amp;Q</h1><h2 id="xxx为什么xxx？xxx是怎样的？"><a href="#xxx为什么xxx？xxx是怎样的？" class="headerlink" title="xxx为什么xxx？xxx是怎样的？"></a>xxx为什么xxx？xxx是怎样的？</h2><p>解析：…………………………</p><p>参考文献：</p><blockquote><p>…规范中的内容</p></blockquote>]]></content>
      
      <categories>
          
          <category> 感·想 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 博客 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>diary180308</title>
      <link href="/2018/03/08/diary20180308/"/>
      <url>/2018/03/08/diary20180308/</url>
      <content type="html"><![CDATA[<p>下午4点科教南楼开班会。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary180308-1.jpg" alt=""><br><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary180308-2.jpg" alt=""></p><p><code>18:58:49</code> 春招临近，心情复杂。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>突然的自我</title>
      <link href="/2018/03/07/diary20180307/"/>
      <url>/2018/03/07/diary20180307/</url>
      <content type="html"><![CDATA[<p>在网上看到她上课的样子，瞬间捂住嘴，泪流满面，太美了，太美了……</p><p><code>3:04:22</code> 熬夜写论文。其实明天只是前期检查，没必要这么紧张啊。</p><p><code>11:07:23</code> 吃完午饭。这几天天天吃面。</p><p><code>13:16:54</code> 持续写论文（调研报告）……</p><p><code>16:30:23</code> 两点半到三点半去升华楼504前期调查。老师们啰嗦了半天，略微检查了报告。回来看齐木楠雄~</p><p><code>19:35:29</code> 看数据结构。</p><p><code>21:15:00</code> Frank M.Carrano写的《数据结构与算法分析 Java语言描述》（第2版）真乃书中上品！！！</p><p><code>22:38:06</code> 最近每天晚上大概都是这样：</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary180307.jpg" alt=""></p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>chrome生产力up！</title>
      <link href="/2018/03/06/diary20180306/"/>
      <url>/2018/03/06/diary20180306/</url>
      <content type="html"><![CDATA[<p><code>11:18:46</code> 用了chrome的beta版，各种开启GPU加速，各种预测，各种提前加载，各种多线程加载，爽！</p><p><code>12:44:09</code> 来到图书馆。</p><p><code>14:57:06</code> 下了一堆论文。</p><p><code>15:14:04</code> 修改了博客中时间标记的样式。</p><p><code>20:08:05</code> 把翻译编辑完毕。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>真·看戏</title>
      <link href="/2018/03/05/diary20180305/"/>
      <url>/2018/03/05/diary20180305/</url>
      <content type="html"><![CDATA[<p><code>12:12:29</code> 早上搞了个大乌龙。本来去图书馆借书，结果书包竟然落在小吃店！到了图书馆进了门才发现不太对，一摸背后没东西。。。好在借到好书，借回来看。</p><p>下午找老师聊了毕设。难搞。</p><p>今天三五，看到很多车上印着雷锋。</p><p><code>23:29:07</code> 10点左右略感无聊，与胡出去逛，去到肯德基点了两杯咖啡（买一送一券）和一份奥尔良烤翅（也是券）。店员提醒说旁边有争端，心想正好可以看戏。坐在角落靠窗位置听了一会，没想到酷似韩红的女主坐了过来，原来是看上了胡的美颜，说起来龙去脉，添油加醋，很不可信。我和胡面对面喝着咖啡就听着，警察和另外的当事人情侣待在旁边。那老师的声音跟我还有点像。<a href="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/record/diary180305.mp3" target="_blank" rel="noopener">听</a>了一会见胡烦了，故离开。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>搬家（下）</title>
      <link href="/2018/03/04/diary20180304/"/>
      <url>/2018/03/04/diary20180304/</url>
      <content type="html"><![CDATA[<p>中午正式从湘浦退房搬离。</p><p><code>15:07:47</code> 在凯李咖啡写论文中。</p><p><code>20:52:48</code> 下午到图书馆借了分布式相关的书，路上觉得天气渐阴就回家了。一个小时后瓢泼大雨。</p><p><code>23:42:25</code> 在家写了几个小时代码，惊奇的发现时间过得挺慢。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>搬家（上）</title>
      <link href="/2018/03/03/diary20180303/"/>
      <url>/2018/03/03/diary20180303/</url>
      <content type="html"><![CDATA[<p><code>15:23:34</code> 在宾馆呆到现在。网速正比于生活质量呀。</p><p><code>15:51:30</code> 来到凯李咖啡。</p><p><code>17:09:20</code> 正在写调研报告。比想象中好写一些。</p><p><code>18:26:58</code> 有必要把各种树重新实现一遍。</p><p>晚上把所有东西搬到新家。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>常用元算法记录</title>
      <link href="/2018/03/02/note-algorithm-tricks/"/>
      <url>/2018/03/02/note-algorithm-tricks/</url>
      <content type="html"><![CDATA[<h1 id="位运算"><a href="#位运算" class="headerlink" title="位运算"></a>位运算</h1><table><thead><tr><th>二进制</th><th>十进制</th><th>位运算</th></tr></thead><tbody><tr><td>10000…0（1后面n个0）</td><td>2<sup>n</sup></td><td>1&lt;&lt;n</td></tr><tr><td>1111…1（n个1）</td><td>2<sup>n</sup>-1</td><td>1&lt;&lt;n-1</td></tr></tbody></table><h1 id="数据类型取值"><a href="#数据类型取值" class="headerlink" title="数据类型取值"></a>数据类型取值</h1><table><thead><tr><th>数据类型</th><th>取值范围</th><th>备注</th></tr></thead><tbody><tr><td>无符号int</td><td>0~2<sup>32</sup>-1</td><td>32个1</td></tr><tr><td>有符号int</td><td>-2<sup>31</sup>~2<sup>31</sup>-1</td><td>最高位符号位，1表负。负数补码为除符号位取反+1。最小为32个1，1个符号31个值，则为2？？</td></tr></tbody></table>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据结构与算法 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>多重任务</title>
      <link href="/2018/03/02/diary20180302/"/>
      <url>/2018/03/02/diary20180302/</url>
      <content type="html"><![CDATA[<p>9:55:15 来到库克咖啡，身心愉快。</p><p>事情有点多。</p><ul><li>毕设<ul><li>安装aspen</li><li>调研报告</li></ul></li><li>数据结构刷题</li><li>并发项目</li><li>淘淘商城项目</li><li>jvm视频</li></ul><p><code>10:56:58</code> 感受到上午，下午，晚上心境的不同。上午总想着玩，就算是强制自己学东西也容易分心；下午自动认真起来；下午4点一直到睡前注意力都会自动集中。由此看来，上午适合学新知识，下午适合复习和钻研。</p><p><code>13:17:15</code> 开始学习谷歌ai公开课，Jupyter ，Colaboratory,真乃神器也！</p><p><code>16:35:03</code> 终于不怕递归了！之前做递归的算法出错率居高不下，今天看了这个回答，豁然开朗！迅速刷起牛客递归算法题，百战百胜！</p><p><code>18:08:30</code> 来套图书馆咖啡店。还是抑制不住欣喜呀！</p><p><code>23:10:00</code> 计划从湘浦家庭旅馆搬到温馨旅馆。网速即是生活质量啊。</p><p><code>2:04:14</code> 核查了学分，一分不差，虚惊一场。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>上午，上午</title>
      <link href="/2018/03/01/diary20180301/"/>
      <url>/2018/03/01/diary20180301/</url>
      <content type="html"><![CDATA[<p>早晨起床竟然有些头痛，起来之后收拾屋子，把桌椅换了位置。</p><p>上午的时间一直不能有效利用，要改。</p><p><code>14:44:40</code> 来到凯李咖啡，网络修好了。</p><p><code>17:21:04</code> 正在尝试把学长的pso算法用java重新实现以便理解。</p><p><code>19:51:07</code> 下载aspen中。真大，18G。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>资源收藏/书单记录</title>
      <link href="/2018/02/28/thought-favorite/"/>
      <url>/2018/02/28/thought-favorite/</url>
      <content type="html"><![CDATA[<h2 id="读来感觉不错的书"><a href="#读来感觉不错的书" class="headerlink" title="读来感觉不错的书"></a>读来感觉不错的书</h2><p>数据结构与算法分析 java语言描述 Frank M.Carrano 著 清华大学出版社 ISBN：9787302162698</p><p>深入理解计算机系统 第三版 ISBN：9787111544937</p><p>实战Java虚拟机——JVM故障诊断与性能优化</p><p>编写高质量代码：改善Java程序的151个建议</p><p>Maven权威指南</p><h3 id="分布式架构"><a href="#分布式架构" class="headerlink" title="分布式架构"></a>分布式架构</h3><p>大型分布式网站架构设计与实践</p><p>大型网站系统与JAVA中间件实践</p><p>深入分布式缓存 从原理到实践</p><p>分布式Java应用基础与实践</p><h2 id="网络教程"><a href="#网络教程" class="headerlink" title="网络教程"></a>网络教程</h2><p>动手学深度学习 <a href="http://zh.gluon.ai" target="_blank" rel="noopener">http://zh.gluon.ai</a></p><p>谷歌官方 TensorFlow 速成课 <a href="https://developers.google.cn/machine-learning/crash-course" target="_blank" rel="noopener">https://developers.google.cn/machine-learning/crash-course</a></p><p>微软人工智能课 <a href="https://academy.microsoft.com/en-us/professional-program/tracks/artificial-intelligence/" target="_blank" rel="noopener">https://academy.microsoft.com/en-us/professional-program/tracks/artificial-intelligence/</a></p><p>汇编语言 <a href="https://www.youtube.com/watch?v=wLXIWKUWpSs" target="_blank" rel="noopener">https://www.youtube.com/watch?v=wLXIWKUWpSs</a></p><h2 id="多媒体工具"><a href="#多媒体工具" class="headerlink" title="多媒体工具"></a>多媒体工具</h2><p>图片压缩网站 <a href="https://tinypng.com" target="_blank" rel="noopener">https://tinypng.com</a></p><p>谷歌Colaboratory <a href="https://colab.research.google.com" target="_blank" rel="noopener">https://colab.research.google.com</a></p><h2 id="向前辈学习"><a href="#向前辈学习" class="headerlink" title="向前辈学习"></a>向前辈学习</h2><p><a href="http://blog.fens.me" target="_blank" rel="noopener">http://blog.fens.me</a></p><p>java    <a href="http://www.hollischuang.com/" target="_blank" rel="noopener">http://www.hollischuang.com/</a></p><p>程序员面试要准备哪些方面的内容？ - ninechapter的回答 - 知乎<br><a href="https://www.zhihu.com/question/38255755/answer/101708666" target="_blank" rel="noopener">https://www.zhihu.com/question/38255755/answer/101708666</a></p><p><a href="http://zephray.cnvintage.org/" target="_blank" rel="noopener">http://zephray.cnvintage.org/</a></p><h2 id="下载资源"><a href="#下载资源" class="headerlink" title="下载资源"></a>下载资源</h2><p>上海研发公共服务平台 中西文科技文献服务平台 <a href="http://lib.sstir.cn" target="_blank" rel="noopener">http://lib.sstir.cn</a></p><p>图书馆参考联盟 <a href="http://www.ucdrs.superlib.net" target="_blank" rel="noopener">http://www.ucdrs.superlib.net</a></p><h2 id="科技前沿"><a href="#科技前沿" class="headerlink" title="科技前沿"></a>科技前沿</h2><p>实效云用户组 <a href="http://www.ecug.org" target="_blank" rel="noopener">http://www.ecug.org</a></p><h2 id="小众软件"><a href="#小众软件" class="headerlink" title="小众软件"></a>小众软件</h2><p>任务栏网速/内存/CPU XMeters</p><p>任务栏天气 墨迹天气</p><p>全局快捷 wox</p><h2 id="代码工具"><a href="#代码工具" class="headerlink" title="代码工具"></a>代码工具</h2><p><a href="http://www.autojcode.com" target="_blank" rel="noopener">http://www.autojcode.com</a></p><h2 id="文献网站"><a href="#文献网站" class="headerlink" title="文献网站"></a>文献网站</h2><p>JSTOR，ELSEVIER，springer</p><h2 id="轮询网站"><a href="#轮询网站" class="headerlink" title="轮询网站"></a>轮询网站</h2><p>Stackoverflow</p><p>Wikipedia</p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 资源收藏 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>数据结构计算</title>
      <link href="/2018/02/28/note-adt-cal/"/>
      <url>/2018/02/28/note-adt-cal/</url>
      <content type="html"><![CDATA[<h1 id="T-n-与O-n"><a href="#T-n-与O-n" class="headerlink" title="T(n)与O(n)"></a>T(n)与O(n)</h1><table><thead><tr><th>名称</th><th>含义</th></tr></thead><tbody><tr><td>n</td><td>问题规模</td></tr><tr><td>T(n)</td><td>时间复杂度</td></tr><tr><td>f(n)</td><td>基本运算的频度</td></tr><tr><td>O(n)</td><td>时间复杂度的数量级</td></tr></tbody></table><p>三者的关系：T(n)=O(f(n))</p><h1 id="不等式"><a href="#不等式" class="headerlink" title="不等式"></a>不等式</h1><p>T(n)&lt;=cO(n) c为常数</p><h2 id="计算时间复杂度"><a href="#计算时间复杂度" class="headerlink" title="计算时间复杂度"></a>计算时间复杂度</h2><p>设运行次数为t，判断终止条件。比如</p><pre><code><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fun</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;=n)</span><br><span class="line">    &#123;</span><br><span class="line">        i=i*<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>设执行次数为t，则终止条件为 t^2=n，则t=log2n。时间复杂度为O(log2n)</code></pre>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据结构 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>月末</title>
      <link href="/2018/02/28/diary20180228/"/>
      <url>/2018/02/28/diary20180228/</url>
      <content type="html"><![CDATA[<p><code>10:54:00</code> 一个小时之前来到库克咖啡。重装微软的安卓应用，终于能接受一些了。continue的体验很不错。</p><p><code>16:11:03</code> 今天时间利用的不好。</p><p><code>21:10:47</code> 把<strong>递归地遍历二叉树</strong>看成<strong>遍地二叉树</strong></p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>记一次与翔少的邮件交流</title>
      <link href="/2018/02/27/thought-study-linhaoxiang/"/>
      <url>/2018/02/27/thought-study-linhaoxiang/</url>
      <content type="html"><![CDATA[<p>在17年年底给翔少发了一封邮件，意外地收到很认真的回复，很有收获，在此保存。</p><p><strong>Re: 十分感谢！</strong></p><p>发件人：linhaoxiang32 <a href="&#x6d;&#97;&#105;&#x6c;&#116;&#x6f;&#58;&#x6c;&#x69;&#110;&#104;&#97;&#111;&#120;&#x69;&#97;&#110;&#103;&#x33;&#x32;&#x40;&#103;&#109;&#97;&#x69;&#108;&#46;&#99;&#111;&#x6d;">&#x6c;&#x69;&#110;&#104;&#97;&#111;&#120;&#x69;&#97;&#110;&#103;&#x33;&#x32;&#x40;&#103;&#109;&#97;&#x69;&#108;&#46;&#99;&#111;&#x6d;</a><br>时   间：2017年12月28日(星期四) 凌晨1:20    纯文本 |<br>收件人：<br>李斌 <a href="&#x6d;&#x61;&#105;&#108;&#x74;&#111;&#58;&#49;&#49;&#x30;&#50;&#49;&#48;&#57;&#49;&#48;&#48;&#64;&#113;&#113;&#x2e;&#x63;&#x6f;&#x6d;">&#49;&#49;&#x30;&#50;&#49;&#48;&#57;&#49;&#48;&#48;&#64;&#113;&#113;&#x2e;&#x63;&#x6f;&#x6d;</a><br>标记：已将此邮件标记为星标邮件。 取消星标</p><p>嗯可以的 他们要是有问题也欢迎随时交流</p><p>在 2017年12月27日 下午8:47，李斌 <a href="&#109;&#x61;&#105;&#108;&#x74;&#x6f;&#58;&#49;&#x31;&#x30;&#x32;&#x31;&#x30;&#57;&#49;&#48;&#x30;&#x40;&#x71;&#x71;&#x2e;&#x63;&#x6f;&#x6d;">&#49;&#x31;&#x30;&#x32;&#x31;&#x30;&#57;&#49;&#48;&#x30;&#x40;&#x71;&#x71;&#x2e;&#x63;&#x6f;&#x6d;</a>写道：</p><blockquote><p>Hi 翔总:<br>邮件已读完，加上今天看了你在知乎上的一些回答，在学习方向/方法上确有恍然大悟之感，我可能就属于跳过基础，直接学框架的这类，结果经常遇到学习瓶颈。今后应再夯实基础；且须多多经历，结合实际才是。我可以把它分享给同学吗？之前不少学弟还向我请教问题，我觉得你说的才更深刻。<br>再次感谢，确实受益颇多！待我有所进步时再向你请教！</p><p>李斌</p><p>—原始邮件—<br>发件人: “Haoxiang Lin”<a href="&#109;&#x61;&#x69;&#108;&#116;&#x6f;&#x3a;&#x6c;&#x69;&#x6e;&#x68;&#x61;&#111;&#120;&#105;&#x61;&#110;&#x67;&#51;&#x32;&#x40;&#x67;&#x6d;&#x61;&#105;&#x6c;&#46;&#99;&#111;&#109;">&#x6c;&#x69;&#x6e;&#x68;&#x61;&#111;&#120;&#105;&#x61;&#110;&#x67;&#51;&#x32;&#x40;&#x67;&#x6d;&#x61;&#105;&#x6c;&#46;&#99;&#111;&#109;</a><br>发送时间: 2017年12月27日 20:21:26<br>收件人: “李斌”<a href="&#x6d;&#97;&#105;&#x6c;&#116;&#x6f;&#58;&#108;&#105;&#x62;&#105;&#110;&#x77;&#x6f;&#x72;&#x6b;&#x73;&#112;&#97;&#x63;&#x65;&#x40;&#113;&#x71;&#x2e;&#x63;&#x6f;&#x6d;">&#108;&#105;&#x62;&#105;&#110;&#x77;&#x6f;&#x72;&#x6b;&#x73;&#112;&#97;&#x63;&#x65;&#x40;&#113;&#x71;&#x2e;&#x63;&#x6f;&#x6d;</a>;<br>主题: Re: 李斌请教问题</p><p>Hi 李斌：</p><p>蓝杰的简历应该是好几年前的了吧=。= </p><ol><li><p>第一个问题，我觉得各个方向的基础是相同的，都是计算机的基础知识，算法，操作系统，计算机网络，编译原理。比如你说的刷算法的问题，有些算法题确实会一段时间不刷会忘记，但是如果你把比如算法导论给学清楚了，那应该也很容易就可以手推出来。比如KMP，你可能一段时间不写就会忘了怎么写，但是理解之后自己也可以手推出来。从科班的角度来说，一般都是要这些基础打好了，然后才是往上拓展方向的问题，先要基础扎实了，然后不管是做基础架构，web前后端，还是机器学习等，都会如鱼得水，会有一种循序渐进的感觉。不然就会很快遇到瓶颈。所以我给学弟学妹学CS的人的建议一般都是打好计算机的基础，而不是一开始就学习什么web框架，前端框架，那样都容易本末倒置。上面说的四门课，每一门课学好了都不容易，比如mit6.828， mit的OS课，想认认真真的学下来，需要耗费大量的精力，但也只有这样学下来了，你才会对计算机操作系统有很深刻的理解，然后你再去学习比如分布式系统，就会理解的很快，也更容易举一反三，这四门课的话，我的理解是，算法数据结构要先学，所有计算机技术都可以抽象成一种算法和数据结构。然后是操作系统和计算机网络，操作系统有助于提高你的代码能力和对系统的理解，计算机网络也是一样，可以试试自己实现一个web sever。编译原理有助于你对程序的理解，虽然现在可能属于屠龙记，但是是一门很有趣的课。</p></li><li><p>学习英语的问题，这个我也没有刻意的学过，但是多看国外技术文档，多看paper，好像自然就看的快了。CS的一些英语表述都不会很难，一般都能猜出他想要表达的意思。这个可以从多看国外技术文档开始练起。</p></li><li><p>嗯职场的渠道拓展我还不敢妄谈，就我自己而言，我大学的经历，从最早的在猎豹的实习，那时候其实基础还很不牢固，很多都还不会，但是接触了工业界，然后开始对各种技术自己研究，大概是在大二结束的时候，发现自己基础还不够牢固，很多知识还没有学好，出现了瓶颈，于是大三上学期和下学期都在自己学习CS的基础课，主要就是学MIT的课程还有清华的课程。同时继续自己的实习，了解不同的技术方向，在阿里经历了后端，前端，算法的实习，然后发现自己可能更喜欢做偏向系统方向的东西。同时也开始想读博，然后gap一年，在滴滴研究院，msra，头条lab做infrastructure相关的实习，然后到现在转到了基础架构方向上。各个方向都尝试过了一遍之后才找到更喜欢的方向。对于如何换方向的这个问题，一个是我也有些机缘巧合，另一个就是去找这个方向顶尖的实习岗位，研究院，看看他们的要求，然后一个个去学习一下。对于实习生来说，他们对招你的要求不会太高，一般都会更喜欢基础好的学生，这就是我说的计算机基础好的重要性。很多时候，有可能他们岗位的很多技术要求你不满足，但是你的基础很好，他们还是愿意招你进来当实习生然后培养。</p></li></ol><p>大概就是这样，还有疑问的话欢迎随时交流。</p><p>Thanks,<br>Haoxiang</p><p>在 2017年12月27日 下午3:09，李斌 <a href="&#109;&#97;&#105;&#108;&#116;&#x6f;&#x3a;&#x6c;&#x69;&#98;&#105;&#x6e;&#x77;&#x6f;&#x72;&#107;&#115;&#x70;&#x61;&#x63;&#101;&#x40;&#113;&#x71;&#x2e;&#99;&#111;&#109;">&#x6c;&#x69;&#98;&#105;&#x6e;&#x77;&#x6f;&#x72;&#107;&#115;&#x70;&#x61;&#x63;&#101;&#x40;&#113;&#x71;&#x2e;&#99;&#111;&#109;</a>写道：</p><blockquote><p>hi翔总:</p><p>上次在蓝杰,看到你的简历, 实在望尘莫及.<br>内心挺感慨,想请教些问题;虽然几次谋面,但仍然觉得邮件请教更为妥当.<br>望翔总空闲时对此些问题回复片语,十分感谢.</p><ol><li>就我个人体验,算法数据结构/编程语言(编译原理)/分布式存储/web  等方向,我感觉每个方向都不容易精通.常常是这样的情况:例如,刷算法题当时会了,然后搞别的,过后就又丢了算法.如果我也想向基础架构方向发展,这几个方面的依赖关系是怎样的呢?或者说,哪方面最重要;应该多多培养什么意识/能力呢?</li><li>如何学习英语? 虽然近期强制自己不看中文教程而看官方文档,但是还是在阅读时感到磕磕绊绊.比如今天在看6.824的lab,感觉云里雾里. 怎样有效/快速的提高英文阅读水平,翔总有经验吗?</li><li>如何拓展求职渠道? 在自己的技术水平的每个阶段,怎样增大找到好的offer的机会呢?</li></ol><p>大概是这些问题,多谢翔总解答了,抱拳</p></blockquote></blockquote>]]></content>
      
      <categories>
          
          <category> 感·想 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>gitignore文件速查</title>
      <link href="/2018/02/27/quick-git-gitignore/"/>
      <url>/2018/02/27/quick-git-gitignore/</url>
      <content type="html"><![CDATA[<p>基于Intellij的python：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">venv/</span><br><span class="line">.idea/</span><br><span class="line">__pycache__/</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
            <tag> 快速查阅 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>现充第一步</title>
      <link href="/2018/02/27/diary20180227/"/>
      <url>/2018/02/27/diary20180227/</url>
      <content type="html"><![CDATA[<p>爽！</p><p>昨天把备用机“夹”在了门框旁边，充电线不拔下来，当做智能硬件使用。把小娜设置为应用内外都响应声音，晚上一句晚安就能把屏幕把闹钟设定为老式闹钟铃声，直接最大音量，早晨一听就震起来了！</p><hr><p>上午去图书馆借书。考研的数据结构辅导书中有很多例题，应该会有所帮助。</p><p><code>12:16:26</code> 来到库可咖啡。</p><p><code>12:22:15</code> 想到一个邪招。用微软小娜唤起小爱同学，哈哈</p><p><code>16:13:43</code> 论文翻译格式修改完毕。改日发给老师。开始整理简历。</p><p><code>19:01:55</code> 与胡来家润多前吃了黄焖鸡米饭，感觉不错。来到左岸咖啡，我点了一份<strong>红酒炖雪梨</strong>。</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/diary/diary180227_1.jpg" alt=""></p>]]></content>
      
      
    </entry>
    
    <entry>
      <title>保持早起</title>
      <link href="/2018/02/26/thought-get-up/"/>
      <url>/2018/02/26/thought-get-up/</url>
      <content type="html"><![CDATA[<p>如何改掉赖床的习惯？</p><p>醒来后的一个小时，思维混乱，只要当天没有任务，身体会不由自主地趋向于躺到10点，晚睡晚起，恶性循环。</p><p>事实上，一旦全身只有两足接触地面，就很容易脱离半眠不醒的状态。</p><p>目前解决方案：把闹钟放在厕所，起床后逼迫不清醒的自己下床关闹钟。</p>]]></content>
      
      <categories>
          
          <category> 感·想 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>一周计划</title>
      <link href="/2018/02/26/diary20180226/"/>
      <url>/2018/02/26/diary20180226/</url>
      <content type="html"><![CDATA[<p>昨天没有写日记。本想今天补上再标注上昨天的时间，但想想还是给自己定下一个标准：对于希望形成习惯的事情，不要设定计划，也不要作假。</p><p>今天与老师和学长聊了毕业论文的内容。欣喜地发现需要做的内容确确实实就是我希望在简历中添加的分布式相关的内容；老师和学长也都希望我不要造轮子，而是要有所创新和突破。</p><p>心里总是惦记着春招。每天上午的时间实在浪费的可怕，微博一众社交软件真乃时间杀手。微博还是换成国际版比较好。</p><p>不能再晚睡晚起。每天从上午10点半到晚上10点半，有10个小时以上的时间可以利用。</p><p>本周计划：</p><table><thead><tr><th>日期</th><th>计划</th></tr></thead><tbody><tr><td>周二</td><td>把论文翻译格式化，并发送给老师；开始修改简历。根据简历反推下一步计划；迁移为知笔记的内容到博客上</td></tr><tr><td>周三</td><td>继续把并发项目，在一天之内写完！</td></tr><tr><td>周四</td><td></td></tr><tr><td>周五</td><td></td></tr><tr><td>周六</td><td></td></tr><tr><td>周日</td><td></td></tr></tbody></table>]]></content>
      
      
        <tags>
            
            <tag> 日·记 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>mysql常用命令速查</title>
      <link href="/2018/02/25/quick-mysql-command/"/>
      <url>/2018/02/25/quick-mysql-command/</url>
      <content type="html"><![CDATA[<h1 id="帮助命令"><a href="#帮助命令" class="headerlink" title="帮助命令"></a>帮助命令</h1><p>首先要活用<code>help</code>命令。</p><p>例如，键入<code>help CREATE DATABASE</code>，显示：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; help create database</span><br><span class="line">Name: '<span class="keyword">CREATE</span> <span class="keyword">DATABASE</span><span class="string">'</span></span><br><span class="line"><span class="string">Description:</span></span><br><span class="line"><span class="string">Syntax:</span></span><br><span class="line"><span class="string">CREATE &#123;DATABASE | SCHEMA&#125; [IF NOT EXISTS] db_name</span></span><br><span class="line"><span class="string">    [create_specification] ...</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">create_specification:</span></span><br><span class="line"><span class="string">    [DEFAULT] CHARACTER SET [=] charset_name</span></span><br><span class="line"><span class="string">  | [DEFAULT] COLLATE [=] collation_name</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">CREATE DATABASE creates a database with the given name. To use this</span></span><br><span class="line"><span class="string">statement, you need the CREATE privilege for the database. CREATE</span></span><br><span class="line"><span class="string">SCHEMA is a synonym for CREATE DATABASE.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">URL: http://dev.mysql.com/doc/refman/5.7/en/create-database.html</span></span><br></pre></td></tr></table></figure><p>注意帮助命令语法：用大括号括起来的是必需内容，用方括号括起来的是可选内容。<code>|</code>表示“或”。</p><h1 id="选中-查看数据库相关"><a href="#选中-查看数据库相关" class="headerlink" title="选中/查看数据库相关"></a>选中/查看数据库相关</h1><h2 id="选中数据库"><a href="#选中数据库" class="headerlink" title="选中数据库"></a>选中数据库</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> db1;</span><br><span class="line">SELECT COUNT(*) FROM mytable;   # selects from db1.mytable</span><br><span class="line"><span class="keyword">USE</span> db2;</span><br><span class="line">SELECT COUNT(*) FROM mytable;   # selects from db2.mytable</span><br></pre></td></tr></table></figure><h2 id="查看当前选中的数据库"><a href="#查看当前选中的数据库" class="headerlink" title="查看当前选中的数据库"></a>查看当前选中的数据库</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">database</span>();</span><br></pre></td></tr></table></figure><h1 id="查看数据库引擎相关"><a href="#查看数据库引擎相关" class="headerlink" title="查看数据库引擎相关"></a>查看数据库引擎相关</h1><h2 id="查看支持的引擎"><a href="#查看支持的引擎" class="headerlink" title="查看支持的引擎"></a>查看支持的引擎</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">engines</span>;</span><br></pre></td></tr></table></figure><h2 id="查看当前默认的存储引擎"><a href="#查看当前默认的存储引擎" class="headerlink" title="查看当前默认的存储引擎"></a>查看当前默认的存储引擎</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">variables</span> <span class="keyword">like</span> <span class="string">'%storage_engine%'</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
            <tag> 快速查阅 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>起床战争</title>
      <link href="/2018/02/25/diary20180225/"/>
      <url>/2018/02/25/diary20180225/</url>
      <content type="html"><![CDATA[<p>昨天晚上玩塞尔达到3点多。垃圾游戏毁我青春，今天把switch还回去，再也不玩了T_T。。 不过本来以为今天肯定起不来了，没想到8点多自己就醒了。</p><p>衡中那几年每天听铃声被震起来，实习那几个月每天被闹钟催起来。这些年终于总结出一个事实，那就是，人在起床之后的至少半小时内是混乱的、不理性的、极度趋向于再次睡眠的。此时就需要一个强大而不可抗的力量把他从床上拽起来，并阻止其回到床上。跑操，上班，都是不可抗力；大学以来，尤其是课程签到的不严格，渐渐纵容了赖床因子，独居时如果不及时改正，大把青春就废掉了。</p><p>也许设定一些羞耻的、不希望别人听到的、只要一听到不管睡的多死我都会立刻弹起来打起十二分精神的闹钟会比较有效。</p>]]></content>
      
      
    </entry>
    
    <entry>
      <title>粒子群优化(PSO)算法学习笔记</title>
      <link href="/2018/02/24/note-pso/"/>
      <url>/2018/02/24/note-pso/</url>
      <content type="html"><![CDATA[<h2 id="基本信息"><a href="#基本信息" class="headerlink" title="基本信息"></a>基本信息</h2><p>PSO：Particle Swarm Optimization，1995 年由 Eberhart 博士和 Kennedy 博士一起提出。</p><h2 id="初步形象理解"><a href="#初步形象理解" class="headerlink" title="初步形象理解"></a>初步形象理解</h2><p>一群鸟儿期望寻找一片玉米地。它们都知道自己距离玉米地的距离，但都不知道确切位置。它们相互传递信息，最终所有的鸟都将知道最近的距离。</p><h2 id="精细理解"><a href="#精细理解" class="headerlink" title="精细理解"></a>精细理解</h2><p>具体到算法中，上述的“鸟”抽象为无质量的例子，仅具有两个属性：位置和速度。每个粒子在搜索空间中搜寻最优解，标记为当前个体的极值，并将其与其他粒子共享，最终找到最优的个体极值作为<strong>当前</strong>全局最优解，所有粒子根据当前个体极值和当前全局最优解来调整速度和位置。</p><p>算法思想步骤如下：</p><ol><li>初始化粒子群，包括随机的位置和速度；</li><li>评价每个粒子的适应度；</li><li>对于每个粒子，将它的适应值和它经历过的最好的位置<code>pbest</code>比较，如果较好，则将其作为当前的最好位置<code>pbest</code>；</li><li>对每个粒子，将它的适应值和全局所经历的最好位置<code>gbest</code>的作比较，如果较好，则重新设置<code>gbest</code>（的索引）；</li><li>根据公式更新粒子的速度和位置</li><li>如果达到条件（通常为足够好的适应值或者达到一个预设最大数G<sub>max</sub>）,终止计算，否则返回2。</li></ol><h2 id="公式"><a href="#公式" class="headerlink" title="公式"></a>公式</h2><blockquote><p><em>v<sub>id</sub><sup>k+1</sup> = w ∙ v<sub>id</sub><sup>k</sup> + c<sub>1</sub> ∙ rand() ∙ ( p<sub>id</sub> - x<sub>id</sub> ) + c<sub>2</sub> ∙ Rand() ∙ ( p<sub>gd</sub> - x<sub>id</sub> )</em></p><p><em>x<sub>id</sub><sup>k+1</sup> = x<sub>id</sub><sup>k</sup> + r ∙ v<sub>id</sub></em></p></blockquote><p>参数解释：</p><ul><li>w : 保持原来速度的系数，所以叫做惯性权重</li><li>c<sub>1</sub> : 粒子跟踪自己历史最优值的权重系数，它表示粒子自身的认识，所以叫“认知”。通常设置为2。</li><li>c<sub>2</sub> ：是粒子跟踪群体最优值的权重系数，它表示粒子对整个群体知识的认识，所以叫做“社会知识”，经常叫做“社会”。通常设置为2。</li><li>rand() 是[0,1]区间内均匀分布的随机数。</li><li>r 是对位置更新的时候，在速度前面加的一个系数，这个系数我们叫做<strong>约束因子</strong>。通常设置为1。</li></ul><p>用自然语言理解公式：</p><pre><code>更新后个体速度 = 惯性权重 * 更新前个体速度 + 个体认知系数 * 0到1的随机数 * ( 更新前个体最优位置 - 更新前个体位置 ) + 社会认知系数 * 0到1的随机数 ( 更新前全局最优位置 - 更新前个体位置 )更新后个体位置 = 更新前个体位置 + 约束因子 * 更新后个体速度</code></pre><h2 id="参数理解"><a href="#参数理解" class="headerlink" title="参数理解"></a>参数理解</h2><p>惯性权重系数 w 使微粒保持运动的惯性，使其有扩展搜索空间的趋势，有能力探索新的区域。</p><p>加速常数c1和c2代表将每个微粒推向pbest和gbest位置的统计加速项的权重。低的值允许微粒在被拉回来之前可以在目标区域外徘徊，而高的值导致微粒突然的冲向或者越过目标区域。</p><p>如果没有第一部分，即w = 0，则速度只取决于微粒当前的位置和它们历史最好位置pbest和gbest，速度本身没有记忆性。假设一个微粒位于全局最好位置，它将保持静止。而其它微粒则飞向它本身最好位置pbest和全局最好位置gbest的加权中心。在这种条件下，微粒群将统计的收缩到当前的全局最好位置，更象一个局部算法。</p><p>如果没有后两部分，即c1 = c2 = 0，微粒将一直以当前的速度飞行，直到到达边界。由于它只能搜索有限的区域，将很难找到好的解。</p><p>在加上第一部分后，微粒有扩展搜索空间的趋势，即第一部分有全局搜索的能力。这也使得w的作用为针对不同的搜索问题，调整算法全局和局部搜索能力的平衡。</p><p>如果没有第二部分，即c1 = 0，则微粒没有认知能力，也就是“只有社会（social-only）”的模型。在微粒的相互作用下，有能力到达新的搜索空间。它的收敛速度比标准版本更快，但是对复杂问题，比标准版本更容易陷入局部优值点。</p><p>如果没有第三部分，即c2 = 0，则微粒之间没有社会信息共享，也就是“只有认知（cognition-only）”的模型。因为个体间没有交互，一个规模为m的群体等价于m个单个微粒的运行。因而得到解的几率非常小。</p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>maven常用模板与设置</title>
      <link href="/2018/02/24/quick-maven-config/"/>
      <url>/2018/02/24/quick-maven-config/</url>
      <content type="html"><![CDATA[<h1 id="快速配置"><a href="#快速配置" class="headerlink" title="快速配置"></a>快速配置</h1><h2 id="文件夹初始化"><a href="#文件夹初始化" class="headerlink" title="文件夹初始化"></a>文件夹初始化</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">└── $&#123;basedir&#125;</span><br><span class="line">    └── src</span><br><span class="line">        ├── main</span><br><span class="line">        │   ├── java</span><br><span class="line">        │   └── resources</span><br><span class="line">        ├── target</span><br><span class="line">        │   ├── classes</span><br><span class="line">        │   └── xxx.jar</span><br><span class="line">        └── test</span><br></pre></td></tr></table></figure><h2 id="国内镜像"><a href="#国内镜像" class="headerlink" title="国内镜像"></a>国内镜像</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirrors</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>alimaven<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun maven<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>central<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>Maven Repository Switchboard<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://repo1.maven.org/maven2/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>repo2<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>Human Readable Name for this Mirror.<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://repo2.maven.org/maven2/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>ibiblio<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>Human Readable Name for this Mirror.<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://mirrors.ibiblio.org/pub/mirrors/maven2/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>jboss-public-repository-group<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>JBoss Public Repository Group<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://repository.jboss.org/nexus/content/groups/public<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 中央仓库在中国的镜像 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>maven.net.cn<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>oneof the central mirrors in china<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.net.cn/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirrors</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="空项目配置文件"><a href="#空项目配置文件" class="headerlink" title="空项目配置文件"></a>空项目配置文件</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        xxx</span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    xxx</span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="常用配置属性"><a href="#常用配置属性" class="headerlink" title="常用配置属性"></a>常用配置属性</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 文件拷贝时的编码 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">project.reporting.outputEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.reporting.outputEncoding</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 编译时的编码 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.encoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">maven.compiler.encoding</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="常用插件及配置"><a href="#常用插件及配置" class="headerlink" title="常用插件及配置"></a>常用插件及配置</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- https://maven.apache.org/plugins/ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 编译选项 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- https://maven.apache.org/plugins/maven-compiler-plugin/index.html --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 跳过测试 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- http://maven.apache.org/surefire/maven-surefire-plugin/ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-surefire-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.21.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">skipTests</span>&gt;</span>true<span class="tag">&lt;/<span class="name">skipTests</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- tomcat --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.tomcat.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>tomcat7-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">path</span>&gt;</span>/$&#123;project.artifactId&#125;<span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="问题解答"><a href="#问题解答" class="headerlink" title="问题解答"></a>问题解答</h1><h2 id="Q：maven-compiler-plugin插件中，source和target的含义？"><a href="#Q：maven-compiler-plugin插件中，source和target的含义？" class="headerlink" title="Q：maven-compiler-plugin插件中，source和target的含义？"></a>Q：<code>maven-compiler-plugin</code>插件中，source和target的含义？</h2><p><strong>A：</strong> 都是javac的命令。-source指定语言的版本，-target指定jvm的版本。比如，你已经装了java 9，而想用java 8的语言特性，编译为java 7支持的字节码，即可设置为</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  [...]</span><br><span class="line">  <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">  [...]</span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><p>或者</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  [...]</span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    [...]</span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.7.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    [...]</span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line">  [...]</span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Q：几种关于编码的命令"><a href="#Q：几种关于编码的命令" class="headerlink" title="Q：几种关于编码的命令"></a>Q：几种关于编码的命令</h2><p><strong>A：</strong> </p><ul><li><code>project.reporting.outputEncoding</code>：reporting做“数据传送”解。用于某些数据传送插件在传输数据的编码</li><li><code>project.build.sourceEncoding</code>：代码文件的编码</li></ul><h2 id="Q：scope有哪几种，分别有什么作用？"><a href="#Q：scope有哪几种，分别有什么作用？" class="headerlink" title="Q：scope有哪几种，分别有什么作用？"></a>Q：scope有哪几种，分别有什么作用？</h2><p><strong>A：</strong> </p><ul><li>provided：某些依赖只参与编译，不参与打包，如Tomcat自带了Servlet与JSP的包，就可以设置为provided。</li><li>runtime：某些依赖这是运行时需要，无需参与编译。如JSTL的jar包。</li></ul><h1 id="常用插件及命令"><a href="#常用插件及命令" class="headerlink" title="常用插件及命令"></a>常用插件及命令</h1><h2 id="Maven-Help"><a href="#Maven-Help" class="headerlink" title="Maven Help"></a>Maven Help</h2><p>用于输出插件信息，包括：</p><ul><li>name</li><li>Description</li><li>Group Id</li><li>Artifact Id</li><li>Version</li><li>Goal Prefix</li><li>goals</li><li>…</li></ul><p>例如，输出<code>Maven Help</code>插件的信息</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mvn <span class="built_in">help</span>:describe -Dplugin=<span class="built_in">help</span></span></span><br><span class="line">...</span><br><span class="line">Name: Apache Maven Help Plugin</span><br><span class="line">Description: The Maven Help plugin provides goals aimed at helping to make</span><br><span class="line">  sense out of the build environment. It includes the ability to view the</span><br><span class="line">  effective POM and settings files, after inheritance and active profiles have</span><br><span class="line">  been applied, as well as a describe a particular plugin goal to give usage</span><br><span class="line">  information.</span><br><span class="line">Group Id: org.apache.maven.plugins</span><br><span class="line">Artifact Id: maven-help-plugin</span><br><span class="line">Version: 3.1.0</span><br><span class="line">Goal Prefix: help</span><br><span class="line"></span><br><span class="line">This plugin has 8 goals:</span><br><span class="line"></span><br><span class="line">help:active-profiles</span><br><span class="line">  Description: Displays a list of the profiles which are currently active for</span><br><span class="line">    this build.</span><br><span class="line"></span><br><span class="line">help:all-profiles</span><br><span class="line">  Description: Displays a list of available profiles under the current</span><br><span class="line">    project.</span><br><span class="line">    Note: it will list all profiles for a project. If a profile comes up with a</span><br><span class="line">    status inactive then there might be a need to set profile activation</span><br><span class="line">    switches/property.</span><br><span class="line"></span><br><span class="line">help:describe</span><br><span class="line">  Description: Displays a list of the attributes for a Maven Plugin and/or</span><br><span class="line">    goals (aka Mojo - Maven plain Old Java Object).</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">For more information, run 'mvn help:describe [...] -Ddetail'</span><br><span class="line">...</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> maven </tag>
            
            <tag> 快速查阅 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>maven常用依赖快捷查询</title>
      <link href="/2018/02/24/quick-maven-dependency/"/>
      <url>/2018/02/24/quick-maven-dependency/</url>
      <content type="html"><![CDATA[<ul><li>servlet</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>mysql/jdbc</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.45<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>JUnit4</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>slf4j-log4j12</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-log4j12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.25<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> maven </tag>
            
            <tag> 快速查阅 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>加油干~</title>
      <link href="/2018/02/24/diary20180224/"/>
      <url>/2018/02/24/diary20180224/</url>
      <content type="html"><![CDATA[<p>果然长沙是冰冷的要命！回来对比之后才深有感触——还是需要开空调度日。</p><p>想起高中刚毕业，李沙请我吃自助餐。当时我是从来没吃过那么高大上的东西，全程不知所措，想来真是尴尬……大学毕业，却也怀念那时的心境。</p><p>下午看下长沙的几个咖啡店，开始学习啦。</p><hr><p>上午到升华公寓士心跆拳道馆，发现早已楼空。加了牌子上的微信，才知已搬到步步高二楼。故往，场地不错，还有实惠的学期卡。交100元计划体验两次。</p><p>来到库克咖啡，开始下午的工作。</p><hr><p>库克咖啡5点半就关门了.来到凯李，老板真是热情，给了两包冲水饮品.<br>qq上看到老师的通知.论文要加紧了.</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>回校，困倦，火锅，心情不错</title>
      <link href="/2018/02/23/diary20180223/"/>
      <url>/2018/02/23/diary20180223/</url>
      <content type="html"><![CDATA[<p>清晨5点半到达火车站，遇上个好司机，早早到校。收拾屋子，小睡一会，赶在10点半看了红海行动，尺度真tm大呀。看完回来继续收拾屋子，下午打了最后一针疫苗，去通程广场麦当劳与胡回合。一时兴起吃了人均100多块的火锅，吃的真爽，花的真心疼。</p><p>今天下午4点多还没接胡的时候，就已经感受到困倦。想来昨天在火车上睡了整整一个下午，加上昨晚的几个小时，竟然还没睡够，不连续的浅睡眠真是不划算；10点多更是困倦不堪，本想早睡，帮白挑笔记本挑了半天，到现在熬到11点半。</p><p>好在心情尚佳。便签上还有不少尚待解决的琐事，明天一天抽时间搞定。</p><p>长沙的天气非常好，之后几天会更好，十分开心。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>离家</title>
      <link href="/2018/02/22/diary20180222/"/>
      <url>/2018/02/22/diary20180222/</url>
      <content type="html"><![CDATA[<p>昨晚在医院过了一夜，今早回家，即将回校。临别前奶奶给我塞了酸奶和两根黄瓜，让我路上啃。陪我下楼买烧饼，还没有做好，遂别。<br>到楼下给妈打电话下楼开大门，到家收拾东西。<br>这次回家，感受不太一样。家人和朋友，好像都比以往亲切好多。<br>又是离家，祝我好运。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>家人</title>
      <link href="/2018/02/21/diary20180221/"/>
      <url>/2018/02/21/diary20180221/</url>
      <content type="html"><![CDATA[<p>补昨日记:</p><p>中午去奶奶那边，去的时候其实大表妈和二表妈在那里(并不认识)，一起包饺子，吃饺子。饭后，老姑父展示了他感人的情商——他在里屋跟两个表妈聊天，悦悦走过去问什么时候买书包，张口就回了一句“等你表妈走了再带你去。”当时正在和妈，奶奶，老姑在外边闲聊，此时我看到他们的表情出奇的一致。两秒不到，两个表妈便穿衣走出卧室，准备离开。奶奶忙拉回来再小叙几句，妈和老姑仍然忍不住嫌弃的表情。<br>把客人送走之后，正值两点一刻。老姑父突然来一句，“嫂子晚上留下来吃啊？”我妈都不知道是笑还是气。<br>以上是小事。老姑父的品行在十年前就已经暴露无遗，目中无人，不敬老人，唯钱是图，老姑早就难以忍耐。也许，老姑可能也会经历与爸相似的命运；悦悦可能会经历与我相似的命运。</p><p>接下来才是大事。奶奶喂爷爷中药，不知为何进食的软管堵塞，奶奶，爸妈，我，九牛二虎之力无果，空针管打气打水纹丝不动，用金属导丝捅，如遇墙壁。奶奶十分自责，发泄了几句，我和妈说着好话。待爸回家，一家人商量着把爷爷送到医院，看情况是重新下管还是用其他办法。催悦悦睡觉，清理屋子通道，联系医生，叫救护车。所有人一起抬着爷爷进电梯，我和老姑父把爷爷抬上救护车，到中医院拍了CT。最后，我和爸留下，其他人回家；睡到半夜（凌晨？），奶奶来了，爸去上班。九点半左右，妈来医院，我回家休息。</p><p>奶奶可能太过紧张。实际上情况并不糟糕，爷爷并不是因为病情而转移，而仅仅是塑胶管堵塞；而且正好也可以在医院给爷爷输液，治疗一下最近退不下的发烧。</p><p>抬爷爷进电梯时，大家很着急，大家抬的很用力，大家抱的很紧。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>健康tips</title>
      <link href="/2018/02/20/diary20180220/"/>
      <url>/2018/02/20/diary20180220/</url>
      <content type="html"><![CDATA[<p>晨记:</p><p>时常口感舌燥.奶奶说的没错,多喝水呀!<br>早起不仅仅会让精神更清晰,更是为了能吃早餐.吃罢早餐,中午才不会过于饥饿,不至于狂长肉…</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>做自己的教官</title>
      <link href="/2018/02/18/diary20180219/"/>
      <url>/2018/02/18/diary20180219/</url>
      <content type="html"><![CDATA[<p>晨记：</p><p>已不知多少次，梦中闯下大祸，惊醒后发现并非真实，心中不由得暗暗长吁一口气……</p><p>昨夜梦回高中课堂，老庞讲数学课（几何），我借找老师之名到室外上体育课；操场是小学样子的，却看到了胡伟治一起上课；看到某个不听话的学生被军官狠训，我偷偷穿上军官的衣服，免遭一劫；直到听到下课铃声，我默默脱下军服，正想着如何向老师解释，突然惊醒。刚刚才意识到，这铃声可能就是我昨天设置的闹铃！原来现实世界真的可以影响梦境的~</p><p>正犹豫要不要起床，突然像教官一样把自己被子掀开。是个好办法！迷糊的大脑逐渐就清醒了。新的一天开始~</p><p>做自己的教官吧！</p><hr><p>晚记:</p><p>下午去奶奶家，姑父依然颐指气使，唯钱是图。几句嘲讽老姑的话让奶奶和老姑气不打一处来，老妈更是以牙还牙，姑父仍然看着电视嘴里不停。妈是女强人，看不惯老姑的嘴脸，几个人虽然挤在不到十平米的小屋子里，刚刚也都从饭桌上下来，现在却几乎要围着电视大吵起来。想来姑父这让人反感的说辞也保持了快十年了，每年回家都会闹些不愉快，很不愉快的不愉快。<br>我去安慰老姑。老姑一说就停不下来，直至泣不成声。我握着她的手，一遍遍的说着情况没有那么糟，也尝试让她换个思路想想，让他们从破裂的边缘回来。悦悦玩了会手机，也受不了他爸爸的粗鲁，一直找我抱。我让老姑从内心坚强起来，勇敢的面对他，用温柔代替对抗，尝试以柔克刚，让老姑父转变过来。老姑不像妈妈那般斩钉截铁，难以用嗓门和威胁来为自己争取利益，也许这种方式能让她好受些吧。老姑很激动，很欣喜，不住的谢我，我心疼无比。</p><p>晚上回家，跟妈谈起前两天的争吵。想来我也是有些可笑，都二十几岁的人了还有青春期的叛逆。老妈的沉默十分有力量，接着开始一如预期的讲道理。我以前想，妈实在话太多了，有时几个是或否足以说明的问题，非要一遍遍重复，我又不能反驳更不能离开，只能边听边点头，边听边同意地笑笑，然后原地挣扎几分钟等她说完离开。今天聊了几句，突然感觉，也许这就是母亲，注定不能像父子般干脆利落，她表达关心的方式就是一遍遍的说啊说啊，也不管你听得进去听不进去。也许这就是最好的状态，就算是我的生母，甚至都可能不会比这让我轻松，也许我们的母子关系已经要比其他家庭好得多——我确实有些身在福中不知福了。</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>鞭打，或者追逐</title>
      <link href="/2018/02/18/diary20180218/"/>
      <url>/2018/02/18/diary20180218/</url>
      <content type="html"><![CDATA[<p>自从小米的offer确认，至今天即将又三个月过去。没有了危机感，身体就开始懈怠。好像从12月份开始，作息变得越来越不规律：起初，每天最晚最晚不过1点也睡了，直至过年之前，跟阿胡去了一次网吧，作息就再也没调整过来；睡眠倒是一直很足。那天被野猫给咬了，之后每隔几天去打一次疫苗，每打完一次就困得不行，加上长沙天寒地冻，屋内不开电暖冰冷如狗，早晨就更不愿意起，导致一个星期的昼夜颠倒。本以为无碍，每天仍然是8小时代码或娱乐，不曾想由于没了时间参照，不知何时食寝。好在2月10号回家，总算把作息调整回来。真是黑暗的一周，或吃或睡全凭直觉，每天天蒙蒙亮却困意十足，睁眼已经傍晚，实在是太不爽。</p><p>在家稍微好些，但也并非无愧。肚子上的肉越来越多，脸也开始臃肿（恐怖！），起床或睡觉都是要挣扎的事情。这几天跟政，晖，阳，放，朱，程吃饭玩耍，发现不玩游戏就是缺乏共同语言啊。初七就回校了，不希望再回到不自律的生活。</p><p>时常回想起高中生活。三年，尤其是最后一年，几乎每天中午拖着疲惫的身子从宿舍跑到教学楼，都在默默问天：这样的日子什么时候才能到头？岂不知那可能是人生最健康，最规律的日子。知乎上有个问题，人是怎么废掉的？没有危机感，没有输出。</p><p>说好的每天写日记，更多地被别的事情占用。博客也是输出，输出让我清醒。</p><p>坚持吧！没有人看着自己，就只能自己命令自己！无愧于心，假如我的身边有朋友，有父母，有同学，在看着我，我会做什么，不会做什么？10分钟，10小时，10年之后，我会怎样看待当前的事情？铭记！</p><hr><p>晚记：<br>下午与程聊天，听她说了半天苦追小哥哥的心路历程，哈哈。<br>晚上与程，宁，阳晖，朱，去北孔雀城广场放孔明灯，天气很冷，心情很好。<br>姐和妈去了天津，晚上家中只有一人，甚爽！</p>]]></content>
      
      <categories>
          
          <category> 日·记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 生活方式 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>linux系统网络相关记录</title>
      <link href="/2018/01/31/quick-linux-troubleshot/"/>
      <url>/2018/01/31/quick-linux-troubleshot/</url>
      <content type="html"><![CDATA[<h1 id="通用"><a href="#通用" class="headerlink" title="通用"></a>通用</h1><h2 id="apt-get"><a href="#apt-get" class="headerlink" title="apt-get"></a>apt-get</h2><h3 id="E-Unable-to-locate-package-build-sessential"><a href="#E-Unable-to-locate-package-build-sessential" class="headerlink" title="E: Unable to locate package build-sessential"></a>E: Unable to locate package build-sessential</h3><p>更新源：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure><h3 id="E-Could-not-get-lock"><a href="#E-Could-not-get-lock" class="headerlink" title="E: Could not get lock"></a>E: Could not get lock</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ps aux | grep apt</span><br><span class="line"><span class="built_in">kill</span> -9 processnumber</span><br></pre></td></tr></table></figure><p>参考：<a href="https://askubuntu.com/a/315791" target="_blank" rel="noopener">https://askubuntu.com/a/315791</a></p><h1 id="分版本问题"><a href="#分版本问题" class="headerlink" title="分版本问题"></a>分版本问题</h1><h2 id="CentOS-7"><a href="#CentOS-7" class="headerlink" title="CentOS 7"></a>CentOS 7</h2><h3 id="安装系统之后无法访问网络"><a href="#安装系统之后无法访问网络" class="headerlink" title="安装系统之后无法访问网络"></a>安装系统之后无法访问网络</h3><p>修改配置文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/sysconfig/netword-scripts/ifcfg-ens33</span><br></pre></td></tr></table></figure><p>将<code>ONBOOT</code>改为yes。</p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> 快速查阅 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>linux系统常用命令汇总</title>
      <link href="/2018/01/31/quick-linux-command/"/>
      <url>/2018/01/31/quick-linux-command/</url>
      <content type="html"><![CDATA[<h2 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h2><p><strong>查看单个环境变量：</strong> <code>echo $PATH</code><br><strong>查看所有环境变量：</strong> <code>env</code></p><h2 id="mount"><a href="#mount" class="headerlink" title="mount"></a>mount</h2><h3 id="命令格式"><a href="#命令格式" class="headerlink" title="命令格式"></a>命令格式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount [-t vfstype][-o options] device dir</span><br></pre></td></tr></table></figure><h3 id="命令含义"><a href="#命令含义" class="headerlink" title="命令含义"></a>命令含义</h3><p>设备<code>device</code>的文件系统是<code>-t</code>,此命令将以<code>-o</code>的挂载方式将其挂载在<code>dir</code>挂载点上。</p><h3 id="参数解释"><a href="#参数解释" class="headerlink" title="参数解释"></a>参数解释</h3><ul><li><code>-t vfstype</code>指定文件系统类型，一般不同指定。一般不必指定，命令会自动选择。<ul><li>光盘或光盘镜像：iso9660</li><li>DOS fat16文件系统：msdos</li><li>Windows 9x fat32文件系统：vfat</li><li>Windows NT ntfs文件系统：ntfs</li><li>Mount Windows文件网络共享：smbfs</li><li>UNIX(LINUX) 文件网络共享：nfs</li></ul></li><li><code>-o options</code>描述挂载方式。<ul><li>loop：用来把一个文件当成硬盘分区挂接上系统</li><li>ro：采用只读方式挂接设备</li><li>rw：采用读写方式挂接设备</li><li>iocharset：指定访问文件系统所用字符集</li></ul></li><li><code>device</code>要挂载的设备</li><li><code>dir</code>设备在系统上的挂载点(mount point)</li></ul><h2 id="less"><a href="#less" class="headerlink" title="less"></a>less</h2>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> 快速查阅 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>算法笔记 - 排序篇</title>
      <link href="/2018/01/30/note-algorithm-sorting/"/>
      <url>/2018/01/30/note-algorithm-sorting/</url>
      <content type="html"><![CDATA[<h2 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h2><h3 id="原理："><a href="#原理：" class="headerlink" title="原理："></a>原理：</h3><ol><li>比较相邻的元素，如果第一个比第二个大，那么就交换。</li><li>对每一对相邻元素都重复第1步，从开始到结尾。这样一来，最后的元素会变成最大的元素。</li><li>针对所有元素重复进行1和2，除了最后一个。</li><li>持续对越来越少的元素重复以上步骤，直到没有任何一对数字需要比较。</li></ol><p>针对以上步骤写伪代码：</p><ol><li>第一步</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="built_in">array</span>[i] &gt; <span class="built_in">array</span>[i+<span class="number">1</span>])</span><br><span class="line">    swap(<span class="built_in">array</span>[i], <span class="built_in">array</span>[i+<span class="number">1</span>])</span><br></pre></td></tr></table></figure><ol><li>第二步</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(i from <span class="number">0</span> to length<span class="number">-1</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">array</span>[i] &gt; <span class="built_in">array</span>[i+<span class="number">1</span>])</span><br><span class="line">        swap(<span class="built_in">array</span>[i], <span class="built_in">array</span>[i+<span class="number">1</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>第三、四步</li></ol><p>问题在于“最后一个”如何定义。由于<strong>已遍历次数=末端已经排序的元素数量</strong>，故<strong>末端除去已经排序好的元素</strong>的长度为<strong>数组长度-末端已经排序的元素数量</strong>，此时<strong>最后一个元素</strong>的<strong>下标</strong>应为<strong>数组长度-末端已经排序的元素数量-1=数组长度-1-遍历次数=数组长度-1-（当前遍历次数-1）=数组长度-当前遍历次数</strong>，而当前遍历次数=外循环变量+1。反应到代码中遍历的终点，应当是<strong>数组长度-外循环变量-1</strong>。</p><p>java实现：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">bubbleSort</span><span class="params">(<span class="keyword">int</span>[] array)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; array.length - i - <span class="number">1</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (array[j] &gt; array[j+<span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="keyword">int</span> tmp = array[j+<span class="number">1</span>];</span><br><span class="line">                array[j+<span class="number">1</span>] = array[j];</span><br><span class="line">                array[j] = tmp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>时间复杂度</strong>：O(n<sup>2</sup>)</p><p><strong>空间复杂度</strong>：O(1)</p><h1 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h1><p><strong>快速排序是基于冒泡排序的改进。</strong>比较和移动是从两端到中间进行。</p><h3 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h3><ol><li>从数列中挑一个元素，称为“基准”(pivot),</li><li>重新排序数列，所有比基准值小的元素摆放在基准前面，所有比基准值大的元素摆在基准后面（相同的数可以到任何一边）。在这个分区结束之后，该基准就处于数列的中间位置。这个称为分区（partition）操作。</li><li>递归地（recursively）把小于基准值元素的子数列和大于基准值元素的子数列排序。</li></ol><h3 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h3><h4 id="版本1"><a href="#版本1" class="headerlink" title="版本1"></a>版本1</h4><p>先移动i，并对范围进行严格限制。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span>[] array)</span> </span>&#123;</span><br><span class="line">    quickSort(array, <span class="number">0</span>, array.length - <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 每次操作的结果：左边的值&lt;=基准值&lt;=右边的值，也就是将基准值归位</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> array</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> lo</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> hi</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> pivot</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span> array[], <span class="keyword">int</span> lo, <span class="keyword">int</span> hi, <span class="keyword">int</span> pivot)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (lo &gt;= hi) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> i = lo;</span><br><span class="line">    <span class="keyword">int</span> j = hi;</span><br><span class="line">    <span class="comment">//4.重复执行，直到i和j相遇并交错。此时j在i的紧邻左边的位置。</span></span><br><span class="line">    <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">        <span class="comment">//1.在i不超过j的情况下，把i移动到从左到右第一个比基准值大的位置。</span></span><br><span class="line">        <span class="keyword">while</span> ((i &lt;= j) &amp;&amp; (array[i] &lt;= array[pivot])) &#123;<span class="comment">//必须把范围判断放在前面</span></span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//2.在i不超过j的情况下，把j移动到从右到左第一个比基准值小的位置。</span></span><br><span class="line">        <span class="keyword">while</span> ((i &lt;= j) &amp;&amp; (array[j] &gt;= array[pivot])) &#123;</span><br><span class="line">            j--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//3.当i在j左侧时，交换i，j元素位置。当i在j右侧时，说明二者交错，j对应的元素更小，需要与pivot交换。</span></span><br><span class="line">        <span class="keyword">if</span> (i &lt; j) &#123;</span><br><span class="line">            <span class="keyword">int</span> tmp1 = array[i];</span><br><span class="line">            array[i] = array[j];</span><br><span class="line">            array[j] = tmp1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//5.基准值是比较对象，位置不会随比较而变化，故需</span></span><br><span class="line">    <span class="keyword">int</span> tmp2 = array[lo];</span><br><span class="line">    array[lo] = array[j];</span><br><span class="line">    array[j] = tmp2;</span><br><span class="line"></span><br><span class="line">    quickSort(array, lo, j - <span class="number">1</span>, lo);</span><br><span class="line">    quickSort(array, j + <span class="number">1</span>, hi, j + <span class="number">1</span>);<span class="comment">//必须是j+1，否则如果是顺序序列，会无限循环</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="版本2"><a href="#版本2" class="headerlink" title="版本2"></a>版本2</h4><p>先移动j，可以简化范围检查。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span>[] array)</span> </span>&#123;</span><br><span class="line">    quickSort(array, <span class="number">0</span>, array.length - <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 每次操作的结果：左边的值&lt;=基准值&lt;=右边的值，也就是将基准值归位</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> array</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> lo</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> hi</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> pivot</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span> array[], <span class="keyword">int</span> lo, <span class="keyword">int</span> hi, <span class="keyword">int</span> pivot)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (lo &gt;= hi) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> i = lo;</span><br><span class="line">    <span class="keyword">int</span> j = hi;</span><br><span class="line">    <span class="comment">//4.重复执行，直到i和j相遇并交错。此时j在i的左边一个。</span></span><br><span class="line">    <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">        <span class="comment">//1.把j移动到从右到左第一个比基准值小的位置。</span></span><br><span class="line">        <span class="keyword">while</span> ((i &lt; j) &amp;&amp; (array[j] &gt;= array[pivot])) &#123;</span><br><span class="line">            j--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//2.把i移动到从左到右第一个比基准值大的位置。</span></span><br><span class="line">        <span class="keyword">while</span> ((i &lt; j) &amp;&amp; (array[i] &lt;= array[pivot])) &#123;<span class="comment">//必须把范围判断放在前面</span></span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//此时j一定不在i的右边，并且j对应的值比i小，所以无需判断i与j的关系</span></span><br><span class="line">        <span class="keyword">int</span> tmp1 = array[i];</span><br><span class="line">        array[i] = array[j];</span><br><span class="line">        array[j] = tmp1;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//5.基准值是比较对象，位置不会随比较而变化，故需</span></span><br><span class="line">    <span class="keyword">int</span> tmp2 = array[lo];</span><br><span class="line">    array[lo] = array[j];</span><br><span class="line">    array[j] = tmp2;</span><br><span class="line"></span><br><span class="line">    quickSort(array, lo, j - <span class="number">1</span>, lo);</span><br><span class="line">    quickSort(array, j + <span class="number">1</span>, hi, j + <span class="number">1</span>);<span class="comment">//必须是j+1，否则如果是顺序序列，会无限循环</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h2><p>代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">public void mergeSort(int[] array) &#123;</span><br><span class="line">    mergeSort(array,0,array.length-1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public void mergeSort(int[] array, int lo, int hi) &#123;</span><br><span class="line">    if (lo &gt;= hi) &#123;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    int midLeft = (lo + hi) / 2;</span><br><span class="line">    mergeSort(array, lo, midLeft);</span><br><span class="line">    mergeSort(array, midLeft + 1, hi);</span><br><span class="line">    merge(array, lo, midLeft, hi);</span><br><span class="line"></span><br><span class="line">    //先分割，再归并</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">private void merge(int[] array, int lo, int midLeft, int hi) &#123;</span><br><span class="line">    int[] newArray = new int[hi - lo + 1];</span><br><span class="line">    int i = lo;</span><br><span class="line">    int j = midLeft + 1;</span><br><span class="line">    int newArrayPointer = 0;</span><br><span class="line"></span><br><span class="line">    while (i &lt;= midLeft &amp;&amp; j &lt;= hi) &#123;</span><br><span class="line">        if (array[i] &gt; array[j]) &#123;</span><br><span class="line">            newArray[newArrayPointer] = array[j];</span><br><span class="line">            newArrayPointer++;</span><br><span class="line">            j++;</span><br><span class="line">        &#125; else if (array[i] &lt;= array[j]) &#123;</span><br><span class="line">            newArray[newArrayPointer] = array[i];</span><br><span class="line">            newArrayPointer++;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    while (i &lt;= midLeft) &#123;</span><br><span class="line">        newArray[newArrayPointer] = array[i];</span><br><span class="line">        newArrayPointer++;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    while (j &lt;= hi) &#123;</span><br><span class="line">        newArray[newArrayPointer] = array[j];</span><br><span class="line">        newArrayPointer++;</span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line">    newArrayPointer = 0;</span><br><span class="line">    for (int k = lo; k &lt;= hi; k++) &#123;</span><br><span class="line">        array[k] = newArray[newArrayPointer];</span><br><span class="line">        newArrayPointer++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据结构与算法 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>英文翻译要点总结</title>
      <link href="/2018/01/28/note-english-translate/"/>
      <url>/2018/01/28/note-english-translate/</url>
      <content type="html"><![CDATA[<h1 id="英译汉时的要点"><a href="#英译汉时的要点" class="headerlink" title="英译汉时的要点"></a>英译汉时的要点</h1><ul><li>长句分割为短句，大量增加标点符号</li><li>大量添加动词</li><li>适当省略连词。如省略because等，并调整前后语序。</li><li>不翻译过渡词语，如keep，give，allow等。</li><li>动词意味的名词翻译为动词。如<br>The sight and sound of our jet planes fitted me with special longing.<br>翻译为：看到我们的喷气式飞机，听见隆隆的声音，令我特别神往。</li><li>增加评论性词汇，增加感情。比如：比较，多么</li><li>定语从句翻译：定语从句在8个单词以内的时候定语前置，8个单词以上的时候后置。</li><li>适当更换主动被动的关系。</li></ul>]]></content>
      
      
        <tags>
            
            <tag> English </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>自律使我自由</title>
      <link href="/2018/01/26/thought-self-discipline/"/>
      <url>/2018/01/26/thought-self-discipline/</url>
      <content type="html"><![CDATA[<p>常听音乐</p><p>醒来后立刻坐起，赖床的代价无比巨大。尝试恐惧赖床。</p><p>每天适当护肤。热敷面部，洗净。</p><p>饭后刷牙。</p><p>尝试恐惧甜食。</p><p>视野内不可以出现未洗的袜子或内衣。</p><p>每天写下日记，为自己的生活打log。日记里要有自拍，记录生活状态。</p><p>每天要出汗。</p><p>睡前在电水壶中盛满水，方便晨起洗漱。</p><p>用自定义铃声做闹钟。内容为录音，自己叫醒自己。</p><p>睡前手机放远。</p>]]></content>
      
      <categories>
          
          <category> 感·想 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 生活方式 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>计算机英语单词短语总结</title>
      <link href="/2018/01/25/note-english-study/"/>
      <url>/2018/01/25/note-english-study/</url>
      <content type="html"><![CDATA[<p>有些单词，即便看懂，也不太容易将上下文联系起来，导致整句难以理解。这里总结一些短语的翻译技巧，帮助提高英文阅读能力。</p><table><thead><tr><th>单词/短语</th><th>翻译</th></tr></thead><tbody><tr><td>and</td><td>映射为其前面名词对应的动词。如it is A，and B。译为：它是A，是B。</td></tr><tr><td>that</td><td>在定语从句中，that翻译为“该”，也就是重复一次主语。</td></tr><tr><td>to</td><td>以，来</td></tr><tr><td>a set of</td><td>一组</td></tr><tr><td>take care of</td><td>负责</td></tr><tr><td>failure</td><td>故障</td></tr><tr><td>enable</td><td>可以实现</td></tr><tr><td>in terms of</td><td>在…方面，以…措辞</td></tr><tr><td>a variety of</td><td>各种</td></tr><tr><td>are drawn from</td><td>都来自</td></tr><tr><td>furthermore</td><td>此外</td></tr><tr><td>to and from</td><td>作为输入输出</td></tr><tr><td>identity</td><td>一致性，恒等式</td></tr><tr><td>add together</td><td>累加</td></tr><tr><td>be instantiated with…</td><td>用…实例化</td></tr><tr><td>populate the bean</td><td>填充bean</td></tr><tr><td>underlying</td><td>基础的，底层的</td></tr><tr><td>toggle</td><td>切换</td></tr><tr><td>ascending</td><td>升序的</td></tr><tr><td>nesting</td><td>嵌套</td></tr><tr><td>scheme</td><td>计划，方案</td></tr><tr><td>on-demand</td><td>随需应变的，请求式</td></tr><tr><td>locale</td><td>语言环境。如EN_US</td></tr><tr><td>in case of</td><td>如果</td></tr><tr><td>scenario</td><td>场景；脚本</td></tr><tr><td>arbitrary</td><td>任意的</td></tr><tr><td>propagate</td><td>传播，蔓延</td></tr><tr><td>rapid coding</td><td>快速编码</td></tr><tr><td>delegation</td><td>委托</td></tr><tr><td>confront</td><td>面对</td></tr><tr><td>outline</td><td>概述，轮廓</td></tr><tr><td>dedicated</td><td>专用的</td></tr><tr><td>architectural</td><td>建筑上，架构上</td></tr><tr><td>contrast</td><td>对比</td></tr><tr><td>In contrast to</td><td>与…对比</td></tr><tr><td>layer</td><td>层次</td></tr><tr><td>tier</td><td>层级</td></tr><tr><td>clean separation of tiers</td><td>清晰的分级</td></tr><tr><td>integrate</td><td>整合，集成</td></tr><tr><td>know-how</td><td>（传授的）技术</td></tr><tr><td>leverage</td><td>利用</td></tr><tr><td>at your fingertips</td><td>唾手可得</td></tr><tr><td>Regarding…</td><td>关于…</td></tr><tr><td>out to lunch</td><td>神志不清的</td></tr><tr><td>resolve</td><td>解析</td></tr><tr><td>validation</td><td>校验</td></tr><tr><td>escape value</td><td>转义值</td></tr><tr><td>functionality</td><td>功能</td></tr><tr><td>evaluation</td><td>评估</td></tr><tr><td>corresponding</td><td>相应的</td></tr><tr><td>augment</td><td>增大</td></tr><tr><td>facilities</td><td>机制，属性</td></tr><tr><td>NUMA</td><td>非一致性内存访问</td></tr><tr><td>switched Ethernet</td><td>交换式以太网</td></tr><tr><td>dual-processor</td><td>双处理器</td></tr><tr><td>considerably</td><td>相当，远远</td></tr><tr><td>in-house</td><td>内部的</td></tr><tr><td>idle</td><td>闲置</td></tr><tr><td>Periodically</td><td>周期性地</td></tr><tr><td>region</td><td>区域</td></tr><tr><td>forward</td><td>转送，运寄</td></tr><tr><td>encountered</td><td>遭遇到的</td></tr><tr><td>conduit</td><td>导管，渠道</td></tr><tr><td>increamentally</td><td>逐渐地</td></tr><tr><td>eligible</td><td>合适的，有资格的</td></tr><tr><td>resilient</td><td>可恢复的，有弹性的</td></tr><tr><td>semantics</td><td>语义学</td></tr><tr><td>deterministic</td><td>确定性的，命运注定的</td></tr></tbody></table>]]></content>
      
      
        <tags>
            
            <tag> English </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Java Web 回顾与总结</title>
      <link href="/2018/01/24/note-javaweb/"/>
      <url>/2018/01/24/note-javaweb/</url>
      <content type="html"><![CDATA[<h1 id="JSP"><a href="#JSP" class="headerlink" title="JSP"></a>JSP</h1><ul><li><strong>JSP规范</strong>   <a href="https://jcp.org/aboutJava/communityprocess/mrel/jsr245/index.html" target="_blank" rel="noopener">JavaServer Pages (JSP) Specification, Version 2.2</a>,包含脚本规范,标签规范等</li><li><strong>Servlet规范</strong><a href="https://jcp.org/aboutJava/communityprocess/final/jsr315/index.html" target="_blank" rel="noopener">Servlet API Specification, Version 3.0</a>,包含web应用目录结构和部署,url映射,<code>web.xml</code>(容器描述符)语法等</li></ul><h1 id="Tomcat"><a href="#Tomcat" class="headerlink" title="Tomcat"></a>Tomcat</h1><p><strong>CATALINA_HOME</strong> : tomcat安装根目录<br><strong>CATALINA_BASE</strong> : 如果存在多个tomcat实例,那么用此代表每个实例各自的根目录.没有多个实例的话,与<strong>CATALINA_HOME</strong>相同.</p><p>只有重启tomcat,设置文件才能生效.</p><h2 id="web应用-Web-ARchive-WAR-file-部署结构"><a href="#web应用-Web-ARchive-WAR-file-部署结构" class="headerlink" title="web应用(Web ARchive,WAR file)部署结构"></a>web应用(Web ARchive,WAR file)部署结构</h2><p>参考自<a href="https://tomcat.apache.org/tomcat-7.0-doc/appdev/deployment.html" target="_blank" rel="noopener">tomcat7介绍</a></p><p><strong>document root</strong> : 根目录,放置HTML文件和JSP页面,来组成用户界面<br><strong>context path</strong> : 管理员分配的路径,映射为document路径.例如,如果<strong>conext path</strong>被分配为<code>/catalog</code>,那么一个到<code>/catalog/index.html</code>的请求将被映射至<code>document root/index.html</code></p><h2 id="标准目录结构"><a href="#标准目录结构" class="headerlink" title="标准目录结构"></a>标准目录结构</h2><ul><li><strong>CATALINA_HOME/lib</strong>所有web应用+tomcat共享的jar文件都放这.是JDBC驱动放置的好地方.</li><li><strong>/*.html</strong>,<strong>*.jsp</strong>等浏览器可见文件(如css,js,图片文件等).这些文件或者分类放置,或者统一放在根目录下.</li><li><strong>/WEB-INF/web.xml</strong>部署描述符</li><li><strong>/WEB-INF/classes/</strong></li><li><strong>/WEB-INF/lib/</strong></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">CATALINA_HOME</span><br><span class="line">├─lib</span><br><span class="line">└─webapps</span><br><span class="line">    └─root</span><br><span class="line">        └─WEB-INF</span><br><span class="line">            ├─classes</span><br><span class="line">            └─lib</span><br></pre></td></tr></table></figure><h1 id="Servlet"><a href="#Servlet" class="headerlink" title="Servlet"></a>Servlet</h1><p>参照Servlet规范,将重要概念做以下总结.</p><h2 id="Servlet接口"><a href="#Servlet接口" class="headerlink" title="Servlet接口"></a>Servlet接口</h2><p>开发者一般通过继承<code>HttpServlet</code>来实现自己的Servlet.目前有<code>GenericServlet</code>和<code>HttpServlet</code>实现了<code>Servlet</code>接口.</p><h3 id="请求的处理方法"><a href="#请求的处理方法" class="headerlink" title="请求的处理方法"></a>请求的处理方法</h3><p><code>Servlet</code>接口定义了<code>service</code>方法.请求到达,则<strong>servlet容器</strong>将此请求路由到某个<code>servlet</code>实例,在此过程中调用此方法.<br>而<code>HttpServlet</code>抽象子类在<code>Servlet</code>接口基础之上添加了协议相关的方法.开发人员仅实现<code>doGet</code>和<code>doPost</code>方法即可.</p><h2 id="Servlet生命周期"><a href="#Servlet生命周期" class="headerlink" title="Servlet生命周期"></a>Servlet生命周期</h2><p><code>Servlet</code>生命周期包括：<strong>加载和实例化</strong>,<strong>初始化</strong></p><h3 id="加载和实例化"><a href="#加载和实例化" class="headerlink" title="加载和实例化"></a>加载和实例化</h3><p><strong><code>Servlet</code>容器加载和实例化<code>Servlet</code></strong>.过程如下：</p><ol><li><code>Servlet</code>引擎启动</li><li><code>Servlet</code>容器定位所需<code>Servlet</code>类</li><li><code>Servlet</code>容器通过类加载器加载<code>Servlet</code>类（可以是本地或远程</li><li><code>Servlet</code>容器实例化<code>Servlet</code>并使用</li></ol><h3 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h3><p><code>Servlet</code>容器对<code>Servlet</code>对象初始化,目的是令<code>Servlet</code>可以读取持久化配置数据,初始化一些代价高的资源,比如JDBC API连接.方法为<code>init</code>方法,已经定义在<code>Servlet</code>接口中.</p><h3 id="请求处理"><a href="#请求处理" class="headerlink" title="请求处理"></a>请求处理</h3><p><code>Servlet</code>初始化之后,容器即可使用它来处理客户端请求.客户端请求由<code>ServletRequest</code>类型的<code>Request</code>对象表示.<br><code>Servlet</code>封装响应并返回给请求的客户端.<br>HTTP请求的场景下,容器提供的请求和响应对象具体类型分别是<code>HttpServletRequest</code>和<code>HttpServletResponse</code>.</p><h3 id="终止服务"><a href="#终止服务" class="headerlink" title="终止服务"></a>终止服务</h3><p>一个<code>Servlet</code>实例可能会在<code>Servlet</code>容器内保持活跃任何时间,或长或短.当容器确定<code>Servlet</code>应该从服务中移除时,将调用<code>Servlet</code>接口的<code>destroy</code>方法以允许<code>Servlet</code>释放资源.</p><h2 id="Servlet-Context"><a href="#Servlet-Context" class="headerlink" title="Servlet Context"></a>Servlet Context</h2><p>在Servlet规范的章节安排中,ServletContext位于Request和Response之中.事实上,ServletContext就是用Servlet的视角描述web应用的运行状态,用户可以通过ServletContext获取其他Servlet可以访问的属性.一般情况下,每个web应用都有且只有一个ServletContext实例.</p><h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><ul><li>可以通过<code>ServletContext</code>访问部署描述符(web.xml)中的上下文初始化参数.</li><li>添加,配置<code>Servlet</code></li><li>添加,配置<code>Filter</code></li><li>添加,配置<code>Listener</code></li><li><code>Servlet</code>可以为<code>ServletContext</code>添加属性(<code>set/get/removeAttribute(Names)</code>)</li><li>可以通过<code>ServletContext</code>直接访问web应用中的静态资源(HTML,GIF等) (<code>getResource(AsStream)</code>)</li></ul><h2 id="Request"><a href="#Request" class="headerlink" title="Request"></a>Request</h2><h3 id="关于请求路径"><a href="#关于请求路径" class="headerlink" title="关于请求路径"></a>关于请求路径</h3><blockquote><p><strong>requestURI = contextPath + servletPath + pathInfo</strong></p></blockquote><p>根据请求的URI,可以从<code>Request</code>获取以下路径:</p><p><strong>Context Path</strong>:对应<code>ServletContext</code>.如果此应用是默认应用,则为空.以<code>/</code>开头,不以<code>/</code>结尾.<br><strong>servlet Path</strong>:直接对应某种请求.<br><strong>PathInfo</strong>:可能是null,也可能是某个页面.</p><p>例如:</p><table><thead><tr><th>请求路径</th><th>路径元素</th></tr></thead><tbody><tr><td><strong>/catalog/lawn/index.html</strong></td><td>ContextPath: /catalog</td></tr><tr><td></td><td>ServletPath: /lawn</td></tr><tr><td></td><td>PathInfo: /index.html</td></tr><tr><td><strong>/catalog/garden/implements/</strong></td><td>ContextPath: /catalog</td></tr><tr><td></td><td>ServletPath: /garden</td></tr><tr><td></td><td>PathInfo: /implements/</td></tr><tr><td><strong>/catalog/help/feedback.jsp</strong></td><td>ContextPath: /catalog</td></tr><tr><td></td><td>ServletPath: /help/feedback.jsp</td></tr><tr><td></td><td>PathInfo: null</td></tr></tbody></table><h2 id="Response"><a href="#Response" class="headerlink" title="Response"></a>Response</h2><p><code>sendRedirect</code>方法设置适当的header和内容体,将客户端重定向到另一个地址,方法调用使用相对地址,但容器必须在传回客户端时转换为绝对地址.</p><h2 id="Filter"><a href="#Filter" class="headerlink" title="Filter"></a>Filter</h2><p>用于过滤动态和静态内容的Java组件,可以改变Http请求的content,response,header等信息.</p><h3 id="配置过滤器环境"><a href="#配置过滤器环境" class="headerlink" title="配置过滤器环境"></a>配置过滤器环境</h3><p>可以在web.xml中使用<code>&lt;init-params&gt;</code>元素初始化一组参数,运行期间可以通过<code>Filter</code>的<code>FilterConfig</code>的<code>getInitParameter</code>和<code>getInitParameterNames</code>方法得到.</p><p>可以通过<code>@WebFilter</code>或者在web.xml中使用<code>&lt;filter&gt;</code>元素定义.</p><p>详情可参阅规范中第6.2.4章节.</p><h3 id="主要-生命周期"><a href="#主要-生命周期" class="headerlink" title="(主要)生命周期"></a>(主要)生命周期</h3><ol><li>容器收到传入的请求</li><li>容器获取列表中第一个过滤器,并调用doFilter方法,传入<code>ServletRequest</code>和<code>ServletResponse</code>,和一个<code>FilterChain</code>引用.</li><li>过滤器的<code>doFilter</code>方法对<code>request</code>进行处理.一般处理方式有如下的一种或几种:<ol><li>可以检查<code>request</code>的header.</li><li>可以将<code>request</code>用自定义的<code>ServletRequest</code>(实现)或<code>HttpServletResponse</code>(实现)进行包装,达到修改header或data的作用.</li><li>可以将传递给它的<code>response</code>用自定义的<code>ServletResponse</code>(实现)或<code>HttpServletResponse</code>(实现)包装,来修改<code>response</code>的header或data.</li><li>可以调用<code>filter chain</code>的下一个实体.下一个实体可能是另一个<code>filter</code>;如果此<code>filter</code>是chain最后一个,那下个实体就是目标Web resource.</li></ol></li></ol><h3 id="Filter与RequestDispatcher"><a href="#Filter与RequestDispatcher" class="headerlink" title="Filter与RequestDispatcher"></a>Filter与RequestDispatcher</h3><p>参阅规范,<code>&lt;RequestDispatcher&gt;</code>标签来指定在何种情况下应用<code>Filter</code>.可能的情况有<em>REQUEST</em>,<em>FORWARD</em>,<em>INCLUDE</em>,<em>ERROR</em>,<em>ASYNC</em>.</p><h2 id="Sessions"><a href="#Sessions" class="headerlink" title="Sessions"></a>Sessions</h2><p>由于HTTP协议是无状态的(stateless),而每个客户端的请求必须彼此有相关性.<code>HttpSession</code>接口由此而生.它可以让容器用几种方式来跟踪用户的会话(session).</p><h3 id="会话-Session-跟踪机制"><a href="#会话-Session-跟踪机制" class="headerlink" title="会话(Session)跟踪机制"></a>会话(Session)跟踪机制</h3><h4 id="Cookies"><a href="#Cookies" class="headerlink" title="Cookies"></a>Cookies</h4><p>最常用的会话跟踪机制.</p><ul><li>容器向客户端发送cookie.</li><li>客户端在每次后续请求时都返回该cookie,表示这些请求相关联.用于跟踪会话的cookie的名字必须是<em>JSESSIONID</em>.</li></ul><h4 id="URL重写"><a href="#URL重写" class="headerlink" title="URL重写"></a>URL重写</h4><p>会话跟踪的最低标准.当客户端不接受 cookie 时，服务器可使用 URL 重写作为会话跟踪的基<br>础。 URL 重写涉及添加数据、会话 ID、容器解析 URL 路径从而请求与会话相关联.如</p><p>例如： <a href="http://www.myserver.com/catalog/index.html;jsessionid=1234" target="_blank" rel="noopener">http://www.myserver.com/catalog/index.html;jsessionid=1234</a></p><h2 id="Dispatching-Requests"><a href="#Dispatching-Requests" class="headerlink" title="Dispatching Requests"></a>Dispatching Requests</h2><h2 id="web应用"><a href="#web应用" class="headerlink" title="web应用"></a>web应用</h2><h3 id="部署描述符-web-xml"><a href="#部署描述符-web-xml" class="headerlink" title="部署描述符(web.xml)"></a>部署描述符(web.xml)</h3><h4 id=""><a href="#" class="headerlink" title="\"></a>\<welcome-file-list\></welcome-file-list\></h4><p>定义一个文件列表,当请求的uri不可用时,尝试在其uri下寻找此列表中的文件.<br>例如,定义</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">welcome-file-list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">welcome-file</span>&gt;</span>index.html<span class="tag">&lt;/<span class="name">welcome-file</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">welcome-file</span>&gt;</span>default.jsp<span class="tag">&lt;/<span class="name">welcome-file</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">welcome-file-list</span>&gt;</span></span><br></pre></td></tr></table></figure><p>而实际文件静态内容为:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/foo/index.html</span><br><span class="line">/foo/default.jsp</span><br><span class="line">/foo/orderform.html</span><br><span class="line">/foo/home.gif</span><br><span class="line">/catalog/default.jsp</span><br><span class="line">/catalog/products/shop.jsp</span><br><span class="line">/catalog/products/register.jsp</span><br></pre></td></tr></table></figure><p>那么请求URI和对应结果为</p><table><thead><tr><th>请求URI</th><th>结果</th></tr></thead><tbody><tr><td>/foo</td><td>重定向到 /foo/</td></tr><tr><td>/foo/</td><td>返回 /foo/index.html</td></tr><tr><td>/catalog</td><td>重定向到 /catalog/</td></tr><tr><td>/catalog/</td><td>返回 /catalog/default.jsp</td></tr><tr><td>/catalog/index.html</td><td>404</td></tr><tr><td>/catalog/products</td><td>重定向到 /catalog/products/</td></tr><tr><td>/catalog/products/</td><td>传递给”默认”servlet,或者容器定义的其他行为</td></tr></tbody></table>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> tomcat </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>java常见命令总结</title>
      <link href="/2018/01/23/quick-java-command/"/>
      <url>/2018/01/23/quick-java-command/</url>
      <content type="html"><![CDATA[<h1 id="获取参数列表"><a href="#获取参数列表" class="headerlink" title="获取参数列表"></a>获取参数列表</h1><ul><li>java<br>得到基本参数列表</li><li>java -X<br>得到扩展参数列表</li></ul><h1 id="运行格式"><a href="#运行格式" class="headerlink" title="运行格式"></a>运行格式</h1><ul><li>java [选项] &lt;主类&gt; [参数]<br>用于执行类</li><li>java [选项] -jar <jar文件> [参数]<br>用于执行jar文件</jar文件></li><li>java [选项] -m &lt;模块&gt;[主类] [参数]<br>用于执行模块中的主类 (其中-m可以换成–moudle)</li></ul><p>参数全部传递到主类.</p><h2 id="java-cp"><a href="#java-cp" class="headerlink" title="java -cp"></a>java -cp</h2><ul><li>等同 -classpath  或者  –class-path</li><li>用于告知jvm搜索目录名,jar名,zip文档名,之间用<code>;</code>分割.<br>格式 : java -cp &lt;目录和zip/jar文件的类搜索路径&gt;</li><li>使用此选项后,jvm不再使用<code>CLASSPATH</code>中的类搜索路径.如果都没有设置,则jvm使用当前路径<code>.</code>来作为类搜索路径.也就是常用的 <code>java test.java</code>.</li><li>推荐使用此参数设置的路径,而不使用<code>CLASSPATH</code>提供的路径,避免多个项目同时使用<code>CLASSPATH</code>时存在的冲突.因为jvm在搜索到第一个指定的类就会停止搜索.</li></ul><p>例如,我开发了一个test.jar包,当我想调用其中的类时,就需要用java -cp test.jar  注意要使用完整路径.  如果没有找到则会抛出<code>java.lang.NoClassDefFoundError</code>异常.<br>代码中可以用<code>System.getProperty(&quot;java.class.path&quot;)</code>得到jvm查找类的路径.</p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> 快速查阅 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>图的深度优先遍历项目说明文档</title>
      <link href="/2018/01/22/note-graph-dfs/"/>
      <url>/2018/01/22/note-graph-dfs/</url>
      <content type="html"><![CDATA[<h2 id="图的定义"><a href="#图的定义" class="headerlink" title="图的定义"></a>图的定义</h2><ul><li>从主函数开始,首先声明一个<code>MGraph</code>的变量:</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MGraph G;</span><br></pre></td></tr></table></figure><ul><li>观察MGraph:</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    VertexType vexs[MAXVEX]; <span class="comment">/* 顶点表 */</span></span><br><span class="line">    EdgeType arc[MAXVEX][MAXVEX];<span class="comment">/* 邻接矩阵，可看作边表 */</span></span><br><span class="line">    <span class="keyword">int</span> numVertexes, numEdges; <span class="comment">/* 图中当前的顶点数和边数 */</span> </span><br><span class="line">&#125;MGraph;</span><br></pre></td></tr></table></figure><ul><li>MGraph定义了图.什么是图?请参考相关博客如 <a href="https://www.cnblogs.com/wangyingli/p/5974508.html?utm_source=tuicool&amp;utm_medium=referral" target="_blank" rel="noopener">https://www.cnblogs.com/wangyingli/p/5974508.html?utm_source=tuicool&amp;utm_medium=referral</a></li><li>在这个程序中,用到的只是最简单的无向图.比较直观的解释:</li></ul><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/graph_dfs_1.jpg" alt=""></p><ul><li>以上图为例.每个图都有几个特征:<ul><li>节点的数量</li><li>边的数量</li><li>节点与边的连接关系</li></ul></li><li><p>怎样表示哪个点与哪条边连接呢?</p><ul><li>首先,要对每个节点编号.比如上图,你可以编程从1到9,也可以编程从A到I.我们将这个编号保存起来,就是刚刚结构体中的属性值<code>vexs[MAXVEX]</code>.</li><li><p>其次,谁跟谁相连?我们这里用一个矩阵表示.谁跟谁相连,就把对应的坐标填充为1.如果没有相连,就填充为正无穷.如果是自己与自己相连,就填为0.如上图,连接关系为:</p><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/graph_dfs_2.png" alt=""></p></li><li><p>此连接关系表示为一个数组,就是结构体中的属性<code>EdgeType arc[MAXVEX][MAXVEX]</code>.这个数组也被称为邻接矩阵.在表格中,每个”1”都可以看做是一个边.每个∞都可以看做是白纸.</p></li><li>再者由于程序要用到,这里也定义了节点和边的数量:<code>int numVertexes, numEdges;</code></li></ul></li></ul><h2 id="图的初始化"><a href="#图的初始化" class="headerlink" title="图的初始化"></a>图的初始化</h2><ul><li>下一句代码:</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CreateMGraph(&amp;G);</span><br></pre></td></tr></table></figure><ul><li>这部分代码比较简单.首先赋值边的数量和节点的数量:</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">G-&gt;numEdges=<span class="number">15</span>;</span><br><span class="line">G-&gt;numVertexes=<span class="number">9</span>;</span><br></pre></td></tr></table></figure><ul><li>然后给每个节点编号:</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">G-&gt;vexs[<span class="number">0</span>]=<span class="string">'A'</span>;</span><br><span class="line">G-&gt;vexs[<span class="number">1</span>]=<span class="string">'B'</span>;</span><br><span class="line">G-&gt;vexs[<span class="number">2</span>]=<span class="string">'C'</span>;</span><br><span class="line">G-&gt;vexs[<span class="number">3</span>]=<span class="string">'D'</span>;</span><br><span class="line">G-&gt;vexs[<span class="number">4</span>]=<span class="string">'E'</span>;</span><br><span class="line">G-&gt;vexs[<span class="number">5</span>]=<span class="string">'F'</span>;</span><br><span class="line">G-&gt;vexs[<span class="number">6</span>]=<span class="string">'G'</span>;</span><br><span class="line">G-&gt;vexs[<span class="number">7</span>]=<span class="string">'H'</span>;</span><br><span class="line">G-&gt;vexs[<span class="number">8</span>]=<span class="string">'I'</span>;</span><br></pre></td></tr></table></figure><ul><li>再然后,根据刚才所画的表,把保存着连接状态的数组初始化:</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//首先全部为0</span></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; G-&gt;numVertexes; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> ( j = <span class="number">0</span>; j &lt; G-&gt;numVertexes; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        G-&gt;arc[i][j]=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//根据表赋值,由于表格是对称的,所以只赋值一半即可</span></span><br><span class="line">G-&gt;arc[<span class="number">0</span>][<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">G-&gt;arc[<span class="number">0</span>][<span class="number">5</span>]=<span class="number">1</span>;</span><br><span class="line">G-&gt;arc[<span class="number">1</span>][<span class="number">2</span>]=<span class="number">1</span>; </span><br><span class="line">G-&gt;arc[<span class="number">1</span>][<span class="number">8</span>]=<span class="number">1</span>; </span><br><span class="line">G-&gt;arc[<span class="number">1</span>][<span class="number">6</span>]=<span class="number">1</span>; </span><br><span class="line">G-&gt;arc[<span class="number">2</span>][<span class="number">3</span>]=<span class="number">1</span>; </span><br><span class="line">G-&gt;arc[<span class="number">2</span>][<span class="number">8</span>]=<span class="number">1</span>; </span><br><span class="line">G-&gt;arc[<span class="number">3</span>][<span class="number">4</span>]=<span class="number">1</span>;</span><br><span class="line">G-&gt;arc[<span class="number">3</span>][<span class="number">7</span>]=<span class="number">1</span>;</span><br><span class="line">G-&gt;arc[<span class="number">3</span>][<span class="number">6</span>]=<span class="number">1</span>;</span><br><span class="line">G-&gt;arc[<span class="number">3</span>][<span class="number">8</span>]=<span class="number">1</span>;</span><br><span class="line">G-&gt;arc[<span class="number">4</span>][<span class="number">5</span>]=<span class="number">1</span>;</span><br><span class="line">G-&gt;arc[<span class="number">4</span>][<span class="number">7</span>]=<span class="number">1</span>;</span><br><span class="line">G-&gt;arc[<span class="number">5</span>][<span class="number">6</span>]=<span class="number">1</span>; </span><br><span class="line">G-&gt;arc[<span class="number">6</span>][<span class="number">7</span>]=<span class="number">1</span>; </span><br><span class="line"></span><br><span class="line"><span class="comment">//赋值另一半</span></span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; G-&gt;numVertexes; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(j = i; j &lt; G-&gt;numVertexes; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        G-&gt;arc[j][i] =G-&gt;arc[i][j];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="图的深度优先遍历"><a href="#图的深度优先遍历" class="headerlink" title="图的深度优先遍历"></a>图的深度优先遍历</h2><h3 id="驱动"><a href="#驱动" class="headerlink" title="驱动"></a>驱动</h3><ul><li>观察深度优先遍历方法:</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DFSTraverse(G);</span><br></pre></td></tr></table></figure><ul><li>什么是深度优先遍历呢?二叉树的深度优先遍历比较直观.图的深度优先遍历四路是:<ul><li>使用一个数组来保存遍历每个节点的遍历状态.初始状态下,每个节点的遍历状态都是<code>FALSE</code>.</li><li>按照编号开始遍历,如果这个节点没有被遍历过,就使用<strong>DFS</strong>函数从它开始遍历.</li></ul></li><li>这也就是<code>DFSTraverse</code>函数的内容.</li></ul><h3 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h3><ul><li>观察<code>DFS</code>函数:</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFS</span><span class="params">(MGraph G, <span class="keyword">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> j;</span><br><span class="line">     visited[i] = TRUE;</span><br><span class="line">     <span class="built_in">printf</span>(<span class="string">"%c "</span>, G.vexs[i]);<span class="comment">/* 打印顶点，也可以其它操作 */</span></span><br><span class="line">    <span class="keyword">for</span>(j = <span class="number">0</span>; j &lt; G.numVertexes; j++)</span><br><span class="line">        <span class="keyword">if</span>(G.arc[i][j] == <span class="number">1</span> &amp;&amp; !visited[j])</span><br><span class="line">             DFS(G, j);<span class="comment">/* 对为访问的邻接顶点递归调用 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>代码含义:<ul><li>既然来到这个节点,则标记这个节点为遍历过,即令<code>visited[i] = TRUE;</code>.</li><li>下一步比较关键,含义为:<strong>对于这个节点,对应邻接矩阵,遍历它”邻接”的其他所有点,查看是否相连.如果相连,则继续对下一个点调用DFS.</strong>比如,对应表格,纵向来看,我们把所有竖向的字母,看成是我们关注的节点,横向的字母,看做是我们关注的节点所对应的节点们.比如,第一行,我们关注节点A,目光逐渐向右移动,发现A对应的A为0;对应的B为1,对应的C为∞,对应的D为∞,等等.我们一开始对A进行DFS方法调用,则首先标记它被遍历过,然后,目光向右移动,如果发现<strong>1.它与接下来节点的连接情况为1,2.且接下来的节点没有遍历过</strong>,那么就对接下来的节点调用DFS方法.很明显,这是一个递归操作.</li></ul></li></ul><h2 id="输出结果"><a href="#输出结果" class="headerlink" title="输出结果"></a>输出结果</h2><ul><li>事实上,在遍历的过程中,每遍历一个节点,我们就调用<code>printf(&quot;%c &quot;, G.vexs[i]);</code>方法将结果输出在了控制台上.</li></ul><h2 id="流程图"><a href="#流程图" class="headerlink" title="流程图"></a>流程图</h2><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/graph_dfs_3.png" alt=""></p><h2 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h2><ul><li>需求更新: 要求每次选择节点都时随机挑选.</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"stdio.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"stdlib.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"io.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"math.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"time.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> OK 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ERROR 0</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TRUE 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FALSE 0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> Status;<span class="comment">/* Status是函数的类型,其值是函数结果状态代码，如OK等 */</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> Boolean; <span class="comment">/* Boolean是布尔类型,其值是TRUE或FALSE */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> VertexType; <span class="comment">/* 顶点类型应由用户定义 */</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> EdgeType; <span class="comment">/* 边上的权值类型应由用户定义 */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXSIZE 9 <span class="comment">/* 存储空间初始分配量 */</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXEDGE 15</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXVEX 9</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INFINITY 65535</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    VertexType vexs[MAXVEX]; <span class="comment">/* 顶点表 */</span></span><br><span class="line">    EdgeType arc[MAXVEX][MAXVEX];<span class="comment">/* 邻接矩阵，可看作边表 */</span></span><br><span class="line">    <span class="keyword">int</span> numVertexes, numEdges; <span class="comment">/* 图中当前的顶点数和边数 */</span></span><br><span class="line">&#125;MGraph;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CreateMGraph</span><span class="params">(MGraph *G)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, j;</span><br><span class="line"></span><br><span class="line">    G-&gt;numEdges=<span class="number">15</span>;</span><br><span class="line">    G-&gt;numVertexes=<span class="number">9</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 读入顶点信息，建立顶点表 */</span></span><br><span class="line">    G-&gt;vexs[<span class="number">0</span>]=<span class="string">'A'</span>;</span><br><span class="line">    G-&gt;vexs[<span class="number">1</span>]=<span class="string">'B'</span>;</span><br><span class="line">    G-&gt;vexs[<span class="number">2</span>]=<span class="string">'C'</span>;</span><br><span class="line">    G-&gt;vexs[<span class="number">3</span>]=<span class="string">'D'</span>;</span><br><span class="line">    G-&gt;vexs[<span class="number">4</span>]=<span class="string">'E'</span>;</span><br><span class="line">    G-&gt;vexs[<span class="number">5</span>]=<span class="string">'F'</span>;</span><br><span class="line">    G-&gt;vexs[<span class="number">6</span>]=<span class="string">'G'</span>;</span><br><span class="line">    G-&gt;vexs[<span class="number">7</span>]=<span class="string">'H'</span>;</span><br><span class="line">    G-&gt;vexs[<span class="number">8</span>]=<span class="string">'I'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; G-&gt;numVertexes; i++)<span class="comment">/* 初始化图 */</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> ( j = <span class="number">0</span>; j &lt; G-&gt;numVertexes; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            G-&gt;arc[i][j]=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    G-&gt;arc[<span class="number">0</span>][<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">    G-&gt;arc[<span class="number">0</span>][<span class="number">5</span>]=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    G-&gt;arc[<span class="number">1</span>][<span class="number">2</span>]=<span class="number">1</span>;</span><br><span class="line">    G-&gt;arc[<span class="number">1</span>][<span class="number">8</span>]=<span class="number">1</span>;</span><br><span class="line">    G-&gt;arc[<span class="number">1</span>][<span class="number">6</span>]=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    G-&gt;arc[<span class="number">2</span>][<span class="number">3</span>]=<span class="number">1</span>;</span><br><span class="line">    G-&gt;arc[<span class="number">2</span>][<span class="number">8</span>]=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    G-&gt;arc[<span class="number">3</span>][<span class="number">4</span>]=<span class="number">1</span>;</span><br><span class="line">    G-&gt;arc[<span class="number">3</span>][<span class="number">7</span>]=<span class="number">1</span>;</span><br><span class="line">    G-&gt;arc[<span class="number">3</span>][<span class="number">6</span>]=<span class="number">1</span>;</span><br><span class="line">    G-&gt;arc[<span class="number">3</span>][<span class="number">8</span>]=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    G-&gt;arc[<span class="number">4</span>][<span class="number">5</span>]=<span class="number">1</span>;</span><br><span class="line">    G-&gt;arc[<span class="number">4</span>][<span class="number">7</span>]=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    G-&gt;arc[<span class="number">5</span>][<span class="number">6</span>]=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    G-&gt;arc[<span class="number">6</span>][<span class="number">7</span>]=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; G-&gt;numVertexes; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(j = i; j &lt; G-&gt;numVertexes; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            G-&gt;arc[j][i] =G-&gt;arc[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Boolean visited[MAXVEX]; <span class="comment">/* 访问标志的数组 */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 邻接矩阵的深度优先递归算法 */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">DFS</span><span class="params">(MGraph G, <span class="keyword">int</span> i)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> j;</span><br><span class="line">    visited[i] = TRUE;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%c "</span>, G.vexs[i]);<span class="comment">/* 打印顶点，也可以其它操作 */</span></span><br><span class="line">    srand((<span class="keyword">unsigned</span>)time(<span class="literal">NULL</span>));</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> j = rand() % G.numVertexes;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (G.arc[i][j] == <span class="number">1</span> &amp;&amp; !visited[j])<span class="comment">//相连且未曾访问</span></span><br><span class="line">            DFS(G, j);<span class="comment">/* 对为访问的邻接顶点递归调用 */</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (isAllEdgeVisted(G, i))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">            </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//没有命中的情况:  G.arc[i][j] != 1   ||   visited[j]==true</span></span><br><span class="line">        <span class="comment">//什么情况下停止?</span></span><br><span class="line">        <span class="comment">//凡是G.arc[i][j] == 1的节点都已经访问的情况下截止</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Boolean <span class="title">isAllEdgeVisted</span><span class="params">(MGraph G,<span class="keyword">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (; k &lt; G.numVertexes; k++)<span class="comment">//如果此行所有连接的节点都已经访问</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (G.arc[i][k] == <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!visited[k])</span><br><span class="line">                <span class="keyword">return</span> FALSE;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> TRUE;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 邻接矩阵的深度遍历操作 */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFSTraverse</span><span class="params">(MGraph G,<span class="keyword">int</span> start)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; G.numVertexes; i++)</span><br><span class="line">        visited[i] = FALSE; <span class="comment">/* 初始所有顶点状态都是未访问过状态 */</span></span><br><span class="line"></span><br><span class="line">    srand((<span class="keyword">unsigned</span>)time(<span class="literal">NULL</span>));</span><br><span class="line">    DFS(G, start);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> num = rand() % G.numVertexes;<span class="comment">//产生0到G.numVertexes-1的随机数</span></span><br><span class="line">        <span class="keyword">if</span> (!visited[num]) <span class="comment">/* 对未访问过的顶点调用DFS，若是连通图，只会执行一次 */</span></span><br><span class="line">            DFS(G, num);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (isAllVisited(G))</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//for (i = j; i &lt; G.numVertexes; i++)</span></span><br><span class="line">    <span class="comment">//    if (!visited[i]) /* 对未访问过的顶点调用DFS，若是连通图，只会执行一次 */</span></span><br><span class="line">    <span class="comment">//        DFS(G, i);</span></span><br><span class="line">    <span class="comment">//for (i = 0; i &lt; j; i++)</span></span><br><span class="line">    <span class="comment">//&#123;</span></span><br><span class="line">    <span class="comment">//    if (!visited[i]) /* 对未访问过的顶点调用DFS，若是连通图，只会执行一次 */</span></span><br><span class="line">    <span class="comment">//        DFS(G, i);</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Boolean <span class="title">isAllVisited</span><span class="params">(MGraph G)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (; n &lt; G.numVertexes; n++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (visited[n] == FALSE)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> FALSE;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> TRUE;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    MGraph G;</span><br><span class="line">    CreateMGraph(&amp;G);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"please specify the start number:\n"</span>);</span><br><span class="line">        <span class="keyword">int</span> num;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;num);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"result:\n"</span>);</span><br><span class="line">        DFSTraverse(G, num);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    getchar();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据结构与算法 </tag>
            
            <tag> 外包项目 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>spring0.9学习（一） 环境准备</title>
      <link href="/2018/01/22/note-spring-study-v0-9-env/"/>
      <url>/2018/01/22/note-spring-study-v0-9-env/</url>
      <content type="html"><![CDATA[<h1 id="资源"><a href="#资源" class="headerlink" title="资源"></a>资源</h1><ul><li>在<a href="https://spring.io/blog" target="_blank" rel="noopener">spring官方博客</a>的<a href="https://spring.io/blog/2004/03/02/spring-framework-1-0-release-candidate-2-released" target="_blank" rel="noopener">最后一页</a>可以获知,spring所有的代码都储存在<a href="https://sourceforge.net/projects/springframework/files/" target="_blank" rel="noopener">sourceforge</a>上,最早的版本为<a href="https://sourceforge.net/projects/springframework/files/springframework/0.9/" target="_blank" rel="noopener">0.9</a>.</li><li><a href="https://sourceforge.net/projects/springframework/files/springframework/0.9/spring-framework-0.9.zip/download" target="_blank" rel="noopener">下载</a><code>spring-framework-0.9.zip</code>,查看<code>readme</code>.</li></ul><h1 id="0-9版本的的readme"><a href="#0-9版本的的readme" class="headerlink" title="0.9版本的的readme"></a>0.9版本的的readme</h1><p>从readme中可以获取的,关于代码的信息:</p><ul><li>“src”包含Java源文件;</li><li>“dist”包含各种Spring Jar文件;</li><li>“lib”包含最重要的第三方库;</li><li>“doc”包含一般和API文档;</li><li>“samples”包含demo和骨架。</li></ul>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spring </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>spring学习笔记</title>
      <link href="/2018/01/22/note-spring-study/"/>
      <url>/2018/01/22/note-spring-study/</url>
      <content type="html"><![CDATA[<h1 id="资源"><a href="#资源" class="headerlink" title="资源"></a>资源</h1><p>spring源码发布在：<a href="http://repo.spring.io/release/org/springframework/spring/" target="_blank" rel="noopener">http://repo.spring.io/release/org/springframework/spring/</a></p><p>spring文档发布在：<a href="https://spring.io/docs/reference" target="_blank" rel="noopener">https://spring.io/docs/reference</a> 或 <a href="https://docs.spring.io/spring/docs/" target="_blank" rel="noopener">https://docs.spring.io/spring/docs/</a></p><p>资源直达：</p><p><a href="https://docs.spring.io/spring/docs/3.0.0.RELEASE/reference/pdf/spring-framework-reference.pdf" target="_blank" rel="noopener">springframework 3.0.0 参考</a> 此版本在web mvc上有很大改动，延续至今。</p><h1 id="Springframework文档重点解析"><a href="#Springframework文档重点解析" class="headerlink" title="Springframework文档重点解析"></a>Springframework文档重点解析</h1><h1 id="Bean作用域"><a href="#Bean作用域" class="headerlink" title="Bean作用域"></a>Bean作用域</h1><p>作用域即是指实例化方式。包括<strong>singleton</strong>，<strong>prototype</strong>，<strong>request</strong>等。</p><h2 id="Spring-Web-MVC"><a href="#Spring-Web-MVC" class="headerlink" title="Spring Web MVC"></a>Spring Web MVC</h2><p>singleton，</p><h3 id="quick-start"><a href="#quick-start" class="headerlink" title="quick start"></a>quick start</h3><ol><li>在<code>xml</code>文件中配置<code>Dispatcher Servlet</code></li><li>在<code>WEB-INF</code>文件夹中创建<code>[servlet-name]-servlet.xml</code>格式命名的文件，其中<code>servlet-name</code>即是步骤1中配置的<code>Servlet</code>。</li><li></li></ol><h3 id="Dispatcher-Servlet"><a href="#Dispatcher-Servlet" class="headerlink" title="Dispatcher Servlet"></a>Dispatcher Servlet</h3><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/webmvcworkflow.png" alt=""></p><blockquote><p>The request processing workflow of the Spring Web MVC DispatcherServlet is illustrated in the<br>following diagram. The pattern-savvy reader will recognize that the DispatcherServlet is an<br>expression of the “Front Controller” design pattern (this is a pattern that Spring Web MVC shares with<br>many other leading web frameworks).</p></blockquote><p>在Spring Web MVC框架中，<code>DispatcherServlet</code>的地位举足轻重。在MVC设计模式中，它起到<strong>前端控制器</strong>(Front Controller)的作用,用来分发请求。</p><blockquote><p>The DispatcherServlet is an actual Servlet (it inherits from the HttpServlet base class),<br>and as such is declared in the web.xml of your web application. You need to map requests that you want<br>the DispatcherServlet to handle, by using a URL mapping in the same web.xml file. This is<br>standard J2EE servlet configuration…</p></blockquote><p>事实上，<code>DispatcherServlet</code>本身就是一个<code>Servlet</code>。在使用时，需要像其他<code>Servlet</code>一样配置映射url。如：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>example<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>example<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>*.form<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure><p>那么所有以<code>.form</code>结尾的请求将被<code>example DispatcherServlet</code>处理。这也是安装spring Web MVC的第一步。</p><blockquote><p>ApplicationContext instances in Spring can be scoped. In the Web MVC framework, each<br>DispatcherServlet has its own WebApplicationContext, which inherits all the beans already<br>defined in the root WebApplicationContext. These inherited beans can be overridden in the<br>servlet-specific scope, and you can define new scope-specific beans local to a given servlet instance.</p></blockquote><p>结合图示，每个<code>DispatcherServlet</code>都有自己的<code>WebApplicationContext</code>，都继承自根<code>WebApplicationContext</code>，也继承了它所有的bean。根<code>WebApplicationContext</code>包含<code>controller</code>，<code>view resolver</code>等其他与web相关的bean。</p><blockquote><p>Upon initialization of a DispatcherServlet, the framework looks for a file named<br>[servlet-name]-servlet.xml in the WEB-INF directory of your web application and creates the<br>beans defined there, overriding the definitions of any beans defined with the same name in the global<br>scope.</p></blockquote><p>接下来，配置文件<code>[servlet-name]-servlet.xml</code>将覆盖全局域中所有同名bean定义。如：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>golfing<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>golfing<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/golfing/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>With the above servlet configuration in place, you will need to have a file called<br>/WEB-INF/golfing-servlet.xml in your application; this file will contain all of your Spring Web<br>MVC-specific components (beans). You can change the exact location of this configuration file through a<br>servlet initialization parameter (see below for details).</p></blockquote><p>相应的，需要配置<code>/WEB-INF/golfing-servlet.xml</code>文件。这个文件包含了所有spring web mvc框架的组件（component，也是bean）。此文件的路径是可配置的。</p><p><strong>请求处理流程</strong>：</p><blockquote><p>After you set up a DispatcherServlet, and a request comes in for that specific<br>DispatcherServlet, the DispatcherServlet starts processing the request as follows:</p><ol><li>The WebApplicationContext is searched for and bound in the request as an attribute that the controller and other elements in the process can use. It is bound by default under the key DispatcherServlet.WEB_APPLICATION_CONTEXT_ATTRIBUTE.</li><li>The locale resolver is bound to the request to enable elements in the process to resolve the locale to use when processing the request (rendering the view, preparing data, and so on). If you do not need locale resolving, you do not need it.</li><li>The theme resolver is bound to the request to let elements such as views determine which heme to use. If you do not use themes, you can ignore it.</li><li>If you specify a multipart file resolver, the request is inspected for multiparts; if multiparts are found,the request is wrapped in a MultipartHttpServletRequest for further processing by other elements in the process. (See the section called “Using the MultipartResolver” for further information about multipart handling).</li><li>An appropriate handler is searched for. If a handler is found, the execution chain associated with the handler (preprocessors, postprocessors, and controllers) is executed in order to prepare a model or rendering.</li><li>If a model is returned, the view is rendered. If no model is returned, (may be due to a preprocessor or postprocessor intercepting the request, perhaps for security reasons), no view is rendered, because the request could already have been fulfilled.</li></ol></blockquote><p>当<code>DispatcherServlet</code>接收到与其配置的url相匹配的请求时，作出以下处理：<br>的</p><ol><li>寻找<code>WebApplicationContext</code>，并将其绑定为controller等可用web组件的属性。默认键为<code>DispatcherServlet.WEB_APPLICATION_CONTEXT_ATTRIBUTE</code>。</li><li>国际化相关处理。</li><li>主题相关处理。</li><li>文件相关处理。</li><li>寻找合适的<code>handler</code>。一旦找到，则开始准备<code>model</code>和<code>rendering</code>（对<code>view</code>进行渲染）。</li><li>如果返回了<code>model</code>，说明<code>view</code>已经渲染完毕。如果没有返回，则有可能是安全或其他原因，没有渲染。</li></ol><p><code>@ResponseBody</code>:参考3.0文档p429，如果一个方法注解为<code>@ResponseBody</code>，那么它的返回值将被写入<code>response</code>的<code>HTTP body</code>中。</p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spring </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>linux系统配置java开发环境</title>
      <link href="/2018/01/22/list-linux-java-setup/"/>
      <url>/2018/01/22/list-linux-java-setup/</url>
      <content type="html"><![CDATA[<ul><li><a href="http://download.oracle.com/otn-pub/java/jdk/8u161-b12/2f38c3b165be4555a1fa6e98c45e0808/jdk-8u161-linux-i586.tar.gz" target="_blank" rel="noopener">下载jdk</a>到<code>~/Download</code>文件夹下,解压</li><li><p>管理员权限并<strong>递归</strong>复制到<code>usr/lib/java</code>文件夹下</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/lib</span><br><span class="line">mkdir java java/jdk1.8.0_161</span><br><span class="line">sudo cp -r /home/libinyl/Downloads/jdk1.8.0_161/ /usr/lib/java</span><br></pre></td></tr></table></figure></li><li><p><strong>优雅地</strong>编辑profile文件</p><ul><li><p>编辑java.sh文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit /etc/profile.d/java.sh</span><br></pre></td></tr></table></figure></li><li><p>复制以下代码到编辑器中并保存</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/lib/java/jdk1.8.0_161</span><br><span class="line"><span class="built_in">export</span> JRE_HOME=<span class="variable">$JAVA_HOME</span>/jre</span><br><span class="line"><span class="built_in">export</span> CLASSPATH=.:<span class="variable">$CLASSPATH</span>:<span class="variable">$JAVA_HOME</span>/lib:<span class="variable">$JRE_HOME</span>/lib</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$JRE_HOME</span>/bin</span><br></pre></td></tr></table></figure></li></ul></li><li><p>重启</p></li></ul>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ubuntu安装 check list</title>
      <link href="/2018/01/21/list-ubuntu-setup/"/>
      <url>/2018/01/21/list-ubuntu-setup/</url>
      <content type="html"><![CDATA[<ul><li>安装界面,如果无法看到按钮,可以用tab解决.</li></ul><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/note-ubuntu-setup-1.png" alt=""></p><ul><li>安装过程提示重启,不要傻等,赶紧按回车</li><li>设置软件源 软件中心-&gt;软件源-&gt;other-&gt;选择最佳 一般选阿里云</li></ul><p><img src="https://yeliang1-1252528682.cos.ap-beijing.myqcloud.com/picture/tech/note-ubuntu-setup-2.jpg" alt=""></p><ul><li><p>设置根用户密码:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> $ sudo passwd root</span><br><span class="line">Enter new UNIX password:</span><br><span class="line">Retype new UNIX password:</span><br><span class="line">passwd: password updated successfully</span><br></pre></td></tr></table></figure></li><li><p>安装vmware-tool</p></li><li><p>安装软件:</p><ul><li>右键打开终端<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install nautilus-open-terminal //安装</span><br><span class="line">nautilus -q //重新加载文件管理器</span><br></pre></td></tr></table></figure></li></ul></li><li><p>下载工具列表:</p><ul><li>vscode</li><li>vim</li><li>git</li></ul></li><li>安装java环境</li><li>安装包管理器gui软件 synaptic</li></ul>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>hexo常用命令速查</title>
      <link href="/2018/01/21/quick-hexo-command/"/>
      <url>/2018/01/21/quick-hexo-command/</url>
      <content type="html"><![CDATA[<h1 id="20180617更新"><a href="#20180617更新" class="headerlink" title="20180617更新"></a>20180617更新</h1><h2 id="更换电脑或重装系统后的操作"><a href="#更换电脑或重装系统后的操作" class="headerlink" title="更换电脑或重装系统后的操作"></a>更换电脑或重装系统后的操作</h2><ul><li>设置<code>github</code>和<code>git</code>，添加ssh key</li><li>切记操作<code>ssh git@github.com</code></li><li>下载<code>node.js</code>并安装</li><li>在桌面键入<code>npm install -g hexo-cli</code></li><li>切换到博客文件夹，<code>npm install</code></li></ul><hr><h2 id="创建新博客"><a href="#创建新博客" class="headerlink" title="创建新博客"></a>创建新博客</h2><ul><li>在博客文件夹内运行<code>hexo new post &quot;test&quot;</code> 即可创建test.md文件</li><li>用编辑器编辑保存</li><li>运行: <code>hexo d -g</code></li></ul><h2 id="修改标签"><a href="#修改标签" class="headerlink" title="修改标签"></a>修改标签</h2><p>在每篇博客的编辑状态下,修改顶端内容如</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">hexo常用命令</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2018</span><span class="bullet">-01</span><span class="bullet">-21</span> <span class="number">20</span><span class="string">:18:18</span></span><br><span class="line"><span class="attr">tags:</span> <span class="string">[hexo,command]</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><p>tags后面有一个空格,标签与标签间以逗号隔开.</p><h2 id="上传图片"><a href="#上传图片" class="headerlink" title="上传图片"></a>上传图片</h2><ul><li>修改<code>_config.yml</code>文件<code>post_asset_folder</code>为<code>true</code></li><li>此后,每次运行<code>hexo new ,title</code>时都会在<code>_post</code>文件夹下生成同名文件夹.</li><li>如果需要插入图片,直接插入<code>![](图片名称)</code>即可,无需键入文件夹名称</li></ul><h2 id="上传报错"><a href="#上传报错" class="headerlink" title="上传报错"></a>上传报错</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Connection reset by 192.30.255.112 port 22</span><br><span class="line">fatal: The remote end hung up unexpectedly</span><br><span class="line">fatal: The remote end hung up unexpectedly</span><br><span class="line">FATAL Something&apos;s wrong. Maybe you can find the solution here: http://hexo.io/docs/troubleshooting.html</span><br><span class="line">Error: Connection reset by 192.30.255.112 port 22</span><br><span class="line">fatal: The remote end hung up unexpectedly</span><br><span class="line">fatal: The remote end hung up unexpectedly</span><br><span class="line"></span><br><span class="line">    at ChildProcess.&lt;anonymous&gt; (D:\blog\node_modules\hexo-util\lib\spawn.js:37:17)</span><br><span class="line">    at emitTwo (events.js:126:13)</span><br><span class="line">    at ChildProcess.emit (events.js:214:7)</span><br><span class="line">    at ChildProcess.cp.emit (D:\blog\node_modules\cross-spawn\lib\enoent.js:40:29)</span><br><span class="line">    at maybeClose (internal/child_process.js:925:16)</span><br><span class="line">    at Socket.stream.socket.on (internal/child_process.js:346:11)</span><br><span class="line">    at emitOne (events.js:116:13)</span><br><span class="line">    at Socket.emit (events.js:211:7)</span><br><span class="line">    at Pipe._handle.close [as _onclose] (net.js:554:12)</span><br></pre></td></tr></table></figure><p>原因:连接超时,等待网络更好时尝试.</p>]]></content>
      
      <categories>
          
          <category> 技·术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 快速查阅 </tag>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
  
  
</search>
